{"version":3,"file":"js/app.a4fb7cd1.js","mappings":"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","sources":["webpack://signance-frontend/./src/utils/iconSizeUtils.js","webpack://signance-frontend/./src/config/network.js","webpack://signance-frontend/./src/services/backendDetector.js","webpack://signance-frontend/./src/views/PlayerView.vue","webpack://signance-frontend/./src/services/ws.js","webpack://signance-frontend/./src/views/PlayerView.vue?d8bd","webpack://signance-frontend/./src/services/playerAPI.js","webpack://signance-frontend/./src/components/dashboard/MediaCard.vue","webpack://signance-frontend/./src/components/dashboard/MediaCard.vue?f6bf","webpack://signance-frontend/./src/components/dashboard/MediaListItem.vue","webpack://signance-frontend/./src/components/dashboard/MediaListItem.vue?370c","webpack://signance-frontend/./src/components/dashboard/MediaGallery.vue","webpack://signance-frontend/./src/components/dashboard/MediaGallery.vue?2eb1","webpack://signance-frontend/./src/views/ConfigView.vue","webpack://signance-frontend/./src/views/ConfigView.vue?7930","webpack://signance-frontend/./src/components/MediaUploader.vue","webpack://signance-frontend/./src/components/MediaUploader.vue?3b5a","webpack://signance-frontend/./src/services/productionDetector.js","webpack://signance-frontend/./src/components/ThemeToggle.vue","webpack://signance-frontend/./src/components/ThemeToggle.vue?afca","webpack://signance-frontend/./src/components/dashboard/dialogs/EditMediaDialog.vue","webpack://signance-frontend/./src/components/dashboard/dialogs/EditMediaDialog.vue?c49d","webpack://signance-frontend/./src/composables/useTheme.js","webpack://signance-frontend/./src/App.vue","webpack://signance-frontend/./src/App.vue?7ccd","webpack://signance-frontend/./src/views/LoginView.vue","webpack://signance-frontend/./src/views/LoginView.vue?5755","webpack://signance-frontend/./src/views/Ok_TestView.vue","webpack://signance-frontend/./src/views/Ok_TestView.vue?6ce1","webpack://signance-frontend/./src/views/Error_View.vue","webpack://signance-frontend/./src/views/Error_View.vue?7e6c","webpack://signance-frontend/./src/views/SelectionView.vue","webpack://signance-frontend/./src/views/SelectionView.vue?4fd1","webpack://signance-frontend/./src/views/AdminView.vue","webpack://signance-frontend/./src/components/dashboard/StatisticsCard.vue","webpack://signance-frontend/./src/components/dashboard/StatisticsCard.vue?b445","webpack://signance-frontend/./src/components/dashboard/PlaylistManagement.vue","webpack://signance-frontend/./src/components/dashboard/PlaylistManagement.vue?1699","webpack://signance-frontend/./src/components/dashboard/QuickActions.vue","webpack://signance-frontend/./src/components/dashboard/QuickActions.vue?833f","webpack://signance-frontend/./src/components/dashboard/dialogs/PlaylistDialog.vue","webpack://signance-frontend/./src/components/dashboard/dialogs/PlaylistDialog.vue?ff07","webpack://signance-frontend/./src/components/dashboard/dialogs/ScheduleDialog.vue","webpack://signance-frontend/./src/components/dashboard/dialogs/ScheduleDialog.vue?f03a","webpack://signance-frontend/./src/composables/usePlaylists.js","webpack://signance-frontend/./src/composables/useMedia.js","webpack://signance-frontend/./src/composables/useSchedules.js","webpack://signance-frontend/./src/views/AdminView.vue?e347","webpack://signance-frontend/./src/views/IconSizeTestFixed.vue","webpack://signance-frontend/./src/views/IconSizeTestFixed.vue?2324","webpack://signance-frontend/./src/router/index.js","webpack://signance-frontend/./src/main.js","webpack://signance-frontend/./src/utils/iconUtils.js","webpack://signance-frontend/./src/services/api.js","webpack://signance-frontend/./src/composables/useMediaUrl.js","webpack://signance-frontend/webpack/bootstrap","webpack://signance-frontend/webpack/runtime/chunk loaded","webpack://signance-frontend/webpack/runtime/compat get default export","webpack://signance-frontend/webpack/runtime/define property getters","webpack://signance-frontend/webpack/runtime/ensure chunk","webpack://signance-frontend/webpack/runtime/get javascript chunk filename","webpack://signance-frontend/webpack/runtime/get mini-css chunk filename","webpack://signance-frontend/webpack/runtime/global","webpack://signance-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://signance-frontend/webpack/runtime/load script","webpack://signance-frontend/webpack/runtime/make namespace object","webpack://signance-frontend/webpack/runtime/publicPath","webpack://signance-frontend/webpack/runtime/css loading","webpack://signance-frontend/webpack/runtime/jsonp chunk loading","webpack://signance-frontend/webpack/startup"],"sourcesContent":["// Utilidades específicas para manejar tamaños de iconos\n\nexport function fixIconSizes() {\n  console.log('🔧 Corrigiendo tamaños de iconos...')\n  \n  // No aplicamos tamaños fijos, dejamos que Quasar maneje los tamaños\n  const icons = document.querySelectorAll('.q-icon')\n  \n  icons.forEach(icon => {\n    // Solo nos aseguramos de que tengan la fuente correcta\n    if (!icon.style.fontFamily || !icon.style.fontFamily.includes('Material Icons')) {\n      icon.style.fontFamily = 'Material Icons, Material Icons Outlined, Material Icons Round, Material Icons Sharp, Material Icons Two Tone'\n    }\n    \n    // Removemos cualquier tamaño fijo que hayamos aplicado anteriormente\n    if (icon.style.fontSize && (icon.style.fontSize === '16px' || icon.style.fontSize === '14px' || icon.style.fontSize === '24px')) {\n      icon.style.removeProperty('font-size')\n    }\n    if (icon.style.width && (icon.style.width === '16px' || icon.style.width === '14px' || icon.style.width === '24px')) {\n      icon.style.removeProperty('width')\n    }\n    if (icon.style.height && (icon.style.height === '16px' || icon.style.height === '14px' || icon.style.height === '24px')) {\n      icon.style.removeProperty('height')\n    }\n  })\n  \n  console.log('✅ Tamaños corregidos para ' + icons.length + ' iconos')\n}\n\nexport function verifyIconSizes() {\n  const icons = document.querySelectorAll('.q-icon')\n  console.log('🔍 Verificando tamaños de iconos:')\n  \n  icons.forEach((icon, index) => {\n    const computedStyle = window.getComputedStyle(icon)\n    console.log('Icono ' + (index + 1) + ':', {\n      fontSize: computedStyle.fontSize,\n      width: computedStyle.width,\n      height: computedStyle.height,\n      fontFamily: computedStyle.fontFamily,\n      classes: icon.className\n    })\n  })\n}\n\nexport function resetIconSizes() {\n  console.log('🔄 Reseteando tamaños de iconos a valores por defecto de Quasar...')\n  \n  const icons = document.querySelectorAll('.q-icon')\n  \n  icons.forEach(icon => {\n    // Removemos estilos inline que puedan estar interfiriendo\n    icon.style.removeProperty('font-size')\n    icon.style.removeProperty('width') \n    icon.style.removeProperty('height')\n    \n    // Mantenemos solo la fuente\n    icon.style.fontFamily = 'Material Icons, Material Icons Outlined, Material Icons Round, Material Icons Sharp, Material Icons Two Tone'\n  })\n  \n  console.log('✅ Tamaños reseteados para ' + icons.length + ' iconos')\n}\n\n// Función para aplicar correcciones CSS específicas de tamaños\nexport function applyIconSizeFixes() {\n  // Verificar si ya existe el estilo\n  const existingStyle = document.querySelector('#icon-size-fixes')\n  if (existingStyle) {\n    existingStyle.remove()\n  }\n  \n  const css = `\n    /* Corrección específica para mantener el sistema de tamaños de Quasar */\n    .q-icon {\n      font-family: 'Material Icons' !important;\n      /* Permitir que Quasar maneje todos los tamaños automáticamente */\n    }\n    \n    /* Asegurar que las clases de tamaño de Quasar NO sean sobrescritas */\n    .q-icon.text-xs,\n    .q-icon.text-sm,\n    .q-icon.text-base,\n    .q-icon.text-lg,\n    .q-icon.text-xl,\n    .q-icon.text-2xl,\n    .q-icon.text-3xl,\n    .q-icon.text-4xl,\n    .q-icon.text-5xl,\n    .q-icon.text-6xl {\n      /* Dejar que Quasar maneje estos tamaños naturalmente */\n    }\n  `\n  \n  const style = document.createElement('style')\n  style.id = 'icon-size-fixes'\n  style.textContent = css\n  document.head.appendChild(style)\n  \n  console.log('✅ CSS de corrección de tamaños aplicado (sin sobreescribir)')\n}\n\n// Función para testear diferentes tamaños\nexport function testIconSizes() {\n  const testContainer = document.createElement('div')\n  testContainer.id = 'icon-size-test'\n  testContainer.style.position = 'fixed'\n  testContainer.style.top = '10px'\n  testContainer.style.right = '10px'\n  testContainer.style.background = 'white'\n  testContainer.style.padding = '10px'\n  testContainer.style.border = '1px solid black'\n  testContainer.style.zIndex = '9999'\n  \n  const sizes = ['xs', 'sm', 'md', 'lg', 'xl']\n  sizes.forEach(size => {\n    const icon = document.createElement('i')\n    icon.className = 'q-icon material-icons'\n    icon.style.fontSize = size === 'xs' ? '12px' : \n                         size === 'sm' ? '16px' :\n                         size === 'md' ? '20px' :\n                         size === 'lg' ? '24px' : '32px'\n    icon.textContent = 'home'\n    \n    const label = document.createElement('span')\n    label.textContent = ' ' + size + ' '\n    \n    testContainer.appendChild(icon)\n    testContainer.appendChild(label)\n  })\n  \n  const closeBtn = document.createElement('button')\n  closeBtn.textContent = 'X'\n  closeBtn.onclick = () => document.body.removeChild(testContainer)\n  testContainer.appendChild(closeBtn)\n  \n  document.body.appendChild(testContainer)\n  \n  console.log('✅ Test de tamaños de iconos agregado a la página')\n}\n","// Configuración de red para Signance System\n// Detección completamente dinámica - NO hardcodear IPs\n\nexport const NETWORK_CONFIG = {\n  // Puerto preferido del backend\n  BACKEND_PREFERRED_PORT: 8000,\n  \n  // Rango de puertos a probar\n  PORT_RANGE: {\n    start: 8000,\n    end: 8010\n  },\n  \n  // Endpoint para verificar que el backend está funcionando\n  HEALTH_ENDPOINT: '/health',\n  \n  // Timeout para las pruebas de conectividad\n  CONNECTION_TIMEOUT: 3000\n}\n\n// Detectar automáticamente todas las IPs posibles donde puede estar el backend\nexport function generateCandidateIPs() {\n  const currentHost = window.location.hostname\n  const ips = []\n  \n  console.log(`🔍 Detectando IPs candidatas desde: ${currentHost}`)\n  \n  // 1. PRIORIDAD: La IP desde donde se accede al frontend (muy probable que el backend esté aquí)\n  if (currentHost !== 'localhost' && currentHost !== '127.0.0.1') {\n    ips.push(currentHost)\n    console.log(`✅ Agregando IP actual del frontend: ${currentHost}`)\n  }\n  \n  // 2. Localhost (por si el backend está en la misma máquina)\n  ips.push('127.0.0.1', 'localhost')\n  \n  // 3. Si tenemos una IP de red, generar IPs comunes de la misma red\n  if (currentHost !== 'localhost' && currentHost !== '127.0.0.1') {\n    const ipParts = currentHost.split('.')\n    if (ipParts.length === 4 && ipParts.every(part => !isNaN(part))) {\n      const baseNetwork = `${ipParts[0]}.${ipParts[1]}.${ipParts[2]}`\n      console.log(`🌐 Generando IPs de la red: ${baseNetwork}.x`)\n      \n      // IPs comunes de servidores en la red\n      const commonServerIPs = [1, 10, 50, 100, 150, 200, 254]\n      for (const ip of commonServerIPs) {\n        ips.push(`${baseNetwork}.${ip}`)\n      }\n    }\n  }\n  \n  // 4. Redes comunes de routers/modems\n  const commonNetworks = [\n    '192.168.1', '192.168.0', '192.168.100', '192.168.10',\n    '10.0.0', '10.0.1', '10.1.1',\n    '172.16.0', '172.16.1'\n  ]\n  \n  for (const network of commonNetworks) {\n    // Solo agregar si no es la red actual para evitar duplicados\n    if (!currentHost.startsWith(network)) {\n      ips.push(`${network}.1`, `${network}.100`, `${network}.10`)\n    }\n  }\n  \n  // Eliminar duplicados y retornar\n  const uniqueIPs = [...new Set(ips)]\n  console.log(`🎯 ${uniqueIPs.length} IPs candidatas generadas:`, uniqueIPs)\n  return uniqueIPs\n}\n","/**\n * Backend Auto-Detection Service\n * Detecta automáticamente en qué puerto está corriendo el backend FastAPI\n * Soporta detección completamente dinámica sin hardcodear IPs\n */\n\nimport { NETWORK_CONFIG, generateCandidateIPs } from '@/config/network'\n\nclass BackendDetector {\n  constructor() {\n    this.detectedPort = null\n    this.detectedBaseUrl = null\n    this.portRange = NETWORK_CONFIG.PORT_RANGE\n    this.testEndpoint = NETWORK_CONFIG.HEALTH_ENDPOINT\n    this.preferredPort = NETWORK_CONFIG.BACKEND_PREFERRED_PORT\n    this.connectionTimeout = NETWORK_CONFIG.CONNECTION_TIMEOUT\n  }\n\n  /**\n   * Obtiene el host actual basado en la URL del navegador\n   * @returns {string}\n   */\n  getCurrentHost() {\n    // Si estamos accediendo por IP, usar esa IP para el backend\n    // Si estamos en localhost, usar localhost\n    const hostname = window.location.hostname\n    \n    if (hostname === 'localhost' || hostname === '127.0.0.1') {\n      return '127.0.0.1'\n    }\n    \n    // Si accedemos por IP de red local, usar esa misma IP para el backend\n    return hostname\n  }\n\n  /**\n   * Obtiene una lista de hosts candidatos para probar\n   * @returns {string[]}\n   */\n  getCandidateHosts() {\n    // Usar la función centralizada para obtener IPs dinámicamente\n    return generateCandidateIPs()\n  }\n\n  /**\n   * Detecta automáticamente el puerto del backend\n   * @returns {Promise<{port: number, baseUrl: string}>}\n   */\n  async detectBackend() {\n    console.log('🔍 Iniciando detección automática del backend...')\n    console.log(`🎯 Puerto preferido: ${this.preferredPort}`)\n    console.log(`📊 Rango de puertos: ${this.portRange.start}-${this.portRange.end}`)\n    \n    // Si ya detectamos un puerto previamente, intentar usarlo primero\n    if (this.detectedPort && this.detectedBaseUrl) {\n      console.log(`⚡ Probando configuración previa: ${this.detectedBaseUrl}`)\n      const host = new URL(this.detectedBaseUrl).hostname\n      if (await this.testSpecificHostPort(host, this.detectedPort)) {\n        console.log(`✅ Backend confirmado en configuración previa: ${this.detectedBaseUrl}`)\n        return {\n          port: this.detectedPort,\n          baseUrl: this.detectedBaseUrl\n        }\n      } else {\n        console.log(`❌ Configuración previa no responde, buscando nuevamente...`)\n        this.detectedPort = null\n        this.detectedBaseUrl = null\n      }\n    }\n\n    // Obtener lista de hosts candidatos\n    const candidateHosts = this.getCandidateHosts()\n    console.log(`🎯 ${candidateHosts.length} hosts candidatos detectados`)\n\n    // ESTRATEGIA DE BÚSQUEDA INTELIGENTE:\n    // 1. Primero probar el puerto preferido en todas las IPs\n    console.log(`🚀 FASE 1: Probando puerto preferido ${this.preferredPort} en todas las IPs...`)\n    for (const host of candidateHosts) {\n      console.log(`🔍 Probando ${host}:${this.preferredPort}`)\n      if (await this.testSpecificHostPort(host, this.preferredPort)) {\n        this.detectedPort = this.preferredPort\n        this.detectedBaseUrl = `http://${host}:${this.preferredPort}`\n        console.log(`✅ ¡Backend encontrado en puerto preferido! ${this.detectedBaseUrl}`)\n        \n        // Guardar en localStorage\n        this.saveToLocalStorage(host, this.preferredPort)\n        \n        return {\n          port: this.detectedPort,\n          baseUrl: this.detectedBaseUrl\n        }\n      }\n    }\n\n    // 2. Si no se encuentra en el puerto preferido, buscar en todo el rango\n    console.log(`🔍 FASE 2: Buscando en rango completo ${this.portRange.start}-${this.portRange.end}...`)\n    for (const host of candidateHosts) {\n      console.log(`🔍 Probando host: ${host}`)\n      \n      for (let port = this.portRange.start; port <= this.portRange.end; port++) {\n        // Saltar el puerto preferido ya que ya lo probamos\n        if (port === this.preferredPort) continue\n        \n        console.log(`🔍 Probando puerto ${port} en ${host}...`)\n        \n        if (await this.testSpecificHostPort(host, port)) {\n          this.detectedPort = port\n          this.detectedBaseUrl = `http://${host}:${port}`\n          \n          console.log(`✅ ¡Backend encontrado en ${this.detectedBaseUrl}!`)\n          \n          // Guardar en localStorage\n          this.saveToLocalStorage(host, port)\n          \n          return {\n            port: this.detectedPort,\n            baseUrl: this.detectedBaseUrl\n          }\n        }\n      }\n    }\n\n    throw new Error(`❌ No se pudo encontrar el backend en ningún host candidato (${candidateHosts.join(', ')}) en puertos ${this.portRange.start}-${this.portRange.end}`)\n  }\n\n  /**\n   * Prueba si un puerto específico tiene el backend corriendo\n   * @param {number} port \n   * @returns {Promise<boolean>}\n   */\n  async testPort(port) {\n    // Si tenemos una URL detectada, usar ese host\n    if (this.detectedBaseUrl) {\n      const host = new URL(this.detectedBaseUrl).hostname\n      return await this.testSpecificHostPort(host, port)\n    }\n    \n    // Si no, usar el host actual del navegador\n    const currentHost = window.location.hostname\n    return await this.testSpecificHostPort(currentHost, port)\n  }\n\n  /**\n   * Prueba un host y puerto específicos\n   * @param {string} host \n   * @param {number} port \n   * @returns {Promise<boolean>}\n   */\n  async testSpecificHostPort(host, port) {\n    const baseUrl = `http://${host}:${port}`\n    \n    try {\n      // Crear un AbortController para el timeout\n      const controller = new AbortController()\n      const timeoutId = setTimeout(() => controller.abort(), 3000) // 3 segundos\n      \n      // Intentar conectar al endpoint de health\n      const response = await fetch(`${baseUrl}${this.testEndpoint}`, {\n        method: 'GET',\n        signal: controller.signal,\n        mode: 'cors', // Importante para CORS\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      })\n\n      clearTimeout(timeoutId)\n\n      if (response.ok) {\n        const data = await response.json()\n        // Verificar que sea realmente nuestro backend FastAPI\n        if (data.status === 'healthy' || data.module === 'auth' || response.status === 200) {\n          console.log(`✅ Puerto ${port} en ${host}: Backend FastAPI confirmado - ${JSON.stringify(data)}`)\n          return true\n        }\n      }\n    } catch (error) {\n      // Puerto no disponible o error de conexión\n      if (error.name === 'AbortError') {\n        console.log(`⏱️ Puerto ${port} en ${host}: Timeout (3s)`)\n      } else {\n        console.log(`❌ Puerto ${port} en ${host}: ${error.message}`)\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * Obtiene la configuración del backend desde localStorage\n   * @returns {{port: number, baseUrl: string} | null}\n   */\n  getCachedBackend() {\n    const port = localStorage.getItem('signance_backend_port')\n    const baseUrl = localStorage.getItem('signance_backend_url')\n    const cachedHost = localStorage.getItem('signance_backend_host')\n    const currentHost = window.location.hostname\n    \n    // Verificar si el host cambió (acceso desde diferente IP)\n    if (cachedHost && cachedHost !== currentHost) {\n      console.log(`🔄 Host cambió de ${cachedHost} a ${currentHost}, limpiando caché...`)\n      this.clearCache()\n      return null\n    }\n    \n    if (port && baseUrl) {\n      return {\n        port: parseInt(port),\n        baseUrl\n      }\n    }\n    \n    return null\n  }\n\n  /**\n   * Limpia la caché de detección\n   */\n  clearCache() {\n    localStorage.removeItem('signance_backend_port')\n    localStorage.removeItem('signance_backend_url')\n    localStorage.removeItem('signance_backend_host')\n    this.detectedPort = null\n    this.detectedBaseUrl = null\n  }\n\n  /**\n   * Verifica periódicamente que el backend siga disponible\n   * @param {Function} onConnectionLost - Callback cuando se pierde la conexión\n   */\n  startHealthCheck(onConnectionLost) {\n    if (this.healthCheckInterval) {\n      clearInterval(this.healthCheckInterval)\n    }\n\n    this.healthCheckInterval = setInterval(async () => {\n      if (this.detectedPort) {\n        const isOnline = await this.testPort(this.detectedPort)\n        if (!isOnline && onConnectionLost) {\n          console.log('❌ Conexión con backend perdida')\n          onConnectionLost()\n        }\n      }\n    }, 30000) // Verificar cada 30 segundos\n  }\n\n  /**\n   * Detiene el health check\n   */\n  stopHealthCheck() {\n    if (this.healthCheckInterval) {\n      clearInterval(this.healthCheckInterval)\n      this.healthCheckInterval = null\n    }\n  }\n\n  /**\n   * Guarda la configuración detectada en localStorage\n   * @param {string} host \n   * @param {number} port \n   */\n  saveToLocalStorage(host, port) {\n    const baseUrl = `http://${host}:${port}`\n    localStorage.setItem('signance_backend_port', port.toString())\n    localStorage.setItem('signance_backend_url', baseUrl)\n    localStorage.setItem('signance_backend_host', host)\n    console.log(`💾 Configuración guardada: ${baseUrl}`)\n  }\n}\n\n// Instancia singleton\nconst backendDetector = new BackendDetector()\n\nexport default backendDetector\n","<template>\n  <div \n    class=\"player-container\" \n    :class=\"{ 'fullscreen-mode': isFullscreen }\"\n    @mousemove=\"isFullscreen ? onMouseMoveFullscreen() : null\"\n  >\n    <!-- Theme Toggle -->\n    <ThemeToggle v-if=\"!isFullscreen\" class=\"theme-toggle\" />\n    \n    <!-- Player States -->\n    \n    <!-- Playlist Selection State -->\n    <div v-if=\"!selectedPlaylist\" class=\"selection-state\">\n      <div class=\"player-header\">\n        <div class=\"header-content\">\n          <div class=\"header-icon\">\n            <q-icon name=\"play_circle_filled\" size=\"3rem\" />\n          </div>\n          <div class=\"header-text\">\n            <h2>Reproductor de Contenido</h2>\n            <p>Seleccione una playlist para comenzar la reproducción</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"main-content\">\n        <div class=\"content-card\">\n          <!-- Loading State -->\n          <div v-if=\"loading\" class=\"loading-section\">\n            <q-spinner color=\"primary\" size=\"3rem\" />\n            <p class=\"loading-text\">Cargando playlists...</p>\n          </div>\n\n          <!-- Playlist Selection -->\n          <div v-else-if=\"playlists.length\" class=\"playlists-section\">\n            <div class=\"section-header\">\n              <h3>Playlists Disponibles</h3>\n              <div class=\"playlist-count\">\n                {{ playlists.length }} playlist{{ playlists.length !== 1 ? 's' : '' }} disponible{{ playlists.length !== 1 ? 's' : '' }}\n              </div>\n            </div>\n\n            <div class=\"playlists-grid\">\n              <div \n                v-for=\"playlist in playlists\" \n                :key=\"playlist.id\"\n                class=\"playlist-card\"\n                @click=\"selectPlaylist(playlist)\"\n              >\n                <div class=\"playlist-icon\">\n                  <q-icon name=\"queue_music\" size=\"2.5rem\" />\n                </div>\n                <div class=\"playlist-info\">\n                  <h4>{{ playlist.name }}</h4>\n                  <p>{{ playlist.description || 'Lista de reproducción de contenido multimedia' }}</p>\n                  <div class=\"playlist-meta\">\n                    <span class=\"meta-item\">\n                      <q-icon name=\"schedule\" size=\"1rem\" />\n                      {{ formatTotalDuration(playlist.total_duration) }}\n                    </span>\n                    <span class=\"meta-item\">\n                      <q-icon name=\"playlist_play\" size=\"1rem\" />\n                      {{ playlist.media_count || 0 }} elementos\n                    </span>\n                  </div>\n                </div>\n                <div class=\"playlist-action\">\n                  <q-icon name=\"play_arrow\" size=\"1.5rem\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Empty State -->\n          <div v-else class=\"empty-state\">\n            <div class=\"empty-icon\">\n              <q-icon name=\"playlist_remove\" size=\"4rem\" />\n            </div>\n            <h3>No hay playlists disponibles</h3>\n            <p>Actualmente no hay ninguna playlist configurada en el sistema.</p>\n            <div class=\"empty-actions\">\n              <q-btn\n                color=\"primary\"\n                icon=\"add\"\n                label=\"Crear Playlist\"\n                @click=\"goToAdmin\"\n                rounded\n                unelevated\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Footer Actions -->\n      <div class=\"footer-actions\">\n        <q-btn\n          color=\"secondary\"\n          icon=\"arrow_back\"\n          label=\"Volver\"\n          @click=\"goBack\"\n          outline\n          rounded\n        />\n        <q-btn\n          color=\"accent\"\n          icon=\"refresh\"\n          label=\"Actualizar\"\n          @click=\"fetchPlaylists\"\n          rounded\n          unelevated\n        />\n      </div>\n    </div>\n\n    <!-- Player State -->\n    <div v-else class=\"player-state\">\n      <!-- Media Display Area -->\n      <div class=\"media-display-area\">\n        <div v-if=\"currentMedia\" class=\"media-container\">\n          <!-- Image Display -->\n          <div v-if=\"currentMedia.media_type === 'image' && currentMediaSrc\" class=\"image-display\">\n            <img \n              :src=\"currentMediaSrc\" \n              :alt=\"currentMedia.filename\"\n              class=\"media-image\"\n              @error=\"handleMediaError\"\n              @load=\"onMediaLoaded\"\n            />\n          </div>\n          \n          <!-- Video Display -->\n          <div v-else-if=\"currentMedia.media_type === 'video' && currentMediaSrc\" class=\"video-display\">\n            <video \n              ref=\"videoPlayer\"\n              :src=\"currentMediaSrc\"\n              class=\"media-video\"\n              @ended=\"onMediaEnded\"\n              @error=\"handleMediaError\"\n              @loadeddata=\"onMediaLoaded\"\n              autoplay\n              muted\n            />\n          </div>\n          \n          <!-- Loading state while URL is being constructed -->\n          <div v-else-if=\"currentMedia && !currentMediaSrc\" class=\"loading-media\">\n            <q-spinner-dots color=\"primary\" size=\"3rem\" />\n            <p>Preparando {{ currentMedia.filename }}...</p>\n          </div>\n          \n          <!-- Media Info Overlay -->\n          <div class=\"media-info-overlay\" v-if=\"showInfo\">\n            <div class=\"media-info\">\n              <h3>{{ currentMedia.filename }}</h3>\n              <p>{{ currentMedia.description || 'Sin descripción' }}</p>\n              <div class=\"media-details\">\n                <span>Duración: {{ getCurrentDuration() }}s</span>\n                <span>Tipo: {{ currentMedia.media_type }}</span>\n                <span>Posición: {{ currentMediaIndex + 1 }}/{{ playlistMedia.length }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Loading Next Media -->\n        <div v-else class=\"loading-media\">\n          <q-spinner color=\"primary\" size=\"4rem\" />\n          <p>Cargando próximo contenido...</p>\n        </div>\n      </div>\n      \n      <!-- Player Controls (Solo en modo normal) -->\n      <div v-if=\"!isFullscreen\" class=\"player-controls normal-controls\">\n        <div class=\"control-panel\">\n          <!-- Playlist Info -->\n          <div class=\"playlist-info-controls\">\n            <h4>{{ selectedPlaylist.name }}</h4>\n            <p>{{ playlistMedia.length }} elementos • Reproduciendo en bucle</p>\n          </div>\n          \n          <!-- Media Controls -->\n          <div class=\"media-controls\">\n            <q-btn\n              :icon=\"isPlaying ? 'pause' : 'play_arrow'\"\n              @click=\"togglePlayPause\"\n              color=\"primary\"\n              size=\"lg\"\n              round\n              class=\"play-pause-btn\"\n            />\n            <q-btn\n              icon=\"skip_next\"\n              @click=\"skipToNext\"\n              color=\"secondary\"\n              size=\"md\"\n              round\n              class=\"skip-btn\"\n            />\n            <q-btn\n              icon=\"skip_previous\"\n              @click=\"skipToPrevious\"\n              color=\"secondary\"\n              size=\"md\"\n              round\n              class=\"skip-btn\"\n            />\n          </div>\n          \n          <!-- Progress and Info -->\n          <div class=\"progress-info\">\n            <div class=\"progress-bar\">\n              <q-linear-progress \n                :value=\"progress\" \n                color=\"primary\" \n                size=\"4px\" \n                class=\"media-progress\"\n              />\n              <div class=\"time-info\">\n                <span>{{ formatTime(elapsedTime) }}</span>\n                <span>{{ formatTime(getCurrentDuration()) }}</span>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Additional Controls -->\n          <div class=\"additional-controls\">\n            <q-btn\n              :icon=\"showInfo ? 'info' : 'info_outline'\"\n              @click=\"toggleInfo\"\n              flat\n              round\n              class=\"info-btn\"\n            >\n              <q-tooltip>{{ showInfo ? 'Ocultar' : 'Mostrar' }} información</q-tooltip>\n            </q-btn>\n            \n            <q-btn\n              icon=\"fullscreen\"\n              @click=\"toggleFullscreen\"\n              flat\n              round\n              size=\"md\"\n              class=\"fullscreen-btn\"\n            >\n              <q-tooltip>Pantalla completa</q-tooltip>\n            </q-btn>\n            \n            <q-btn\n              icon=\"bug_report\"\n              @click=\"debugCurrentMedia\"\n              flat\n              round\n              color=\"orange\"\n              class=\"debug-btn\"\n            >\n              <q-tooltip>Debug URLs</q-tooltip>\n            </q-btn>\n            \n            <q-btn\n              icon=\"stop\"\n              @click=\"stopPlayback\"\n              flat\n              round\n              color=\"negative\"\n              class=\"stop-btn\"\n            >\n              <q-tooltip>Detener y volver</q-tooltip>\n            </q-btn>\n          </div>\n        </div>\n      </div>\n\n      <!-- Fullscreen Exit Button (Solo en pantalla completa) -->\n      <div \n        v-if=\"isFullscreen\" \n        class=\"fullscreen-exit-overlay\"\n        :class=\"{ 'visible': showFullscreenControls }\"\n      >\n        <q-btn\n          icon=\"fullscreen_exit\"\n          @click=\"toggleFullscreen\"\n          color=\"white\"\n          text-color=\"black\"\n          size=\"xl\"\n          round\n          class=\"exit-fullscreen-btn\"\n        >\n          <q-tooltip>Salir de pantalla completa (ESC)</q-tooltip>\n        </q-btn>\n      </div>\n\n      <!-- Business Logo (Solo en pantalla completa) -->\n      <div v-if=\"isFullscreen && businessLogo\" class=\"business-logo-overlay\">\n        <img :src=\"businessLogo\" alt=\"Logo\" class=\"business-logo\" />\n      </div>\n\n      <!-- Schedule Override Notification -->\n      <div v-if=\"scheduleOverride && !isFullscreen\" class=\"schedule-notification\">\n        <q-banner class=\"bg-orange text-white\">\n          <template v-slot:avatar>\n            <q-icon name=\"schedule\" />\n          </template>\n          <strong>Programación Activa</strong><br>\n          Reproduciendo contenido programado: \"{{ scheduleOverride.media.filename }}\"\n          <template v-slot:action>\n            <q-btn flat icon=\"close\" @click=\"dismissScheduleNotification\" />\n          </template>\n        </q-banner>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, computed, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { playerAPI, getMediaUrl } from '../services/playerAPI'  // Usar API pública del reproductor\nimport backendDetector from '../services/backendDetector'\nimport { useToast } from 'vue-toastification'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\nimport { useWebSocket } from '../services/ws'\nimport { useMediaUrl } from '../composables/useMediaUrl'\n\nexport default {\n  name: 'PlayerView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const { isDarkMode, loadTheme } = useTheme()\n    const { backendBaseUrl, buildMediaUrl } = useMediaUrl()\n    \n    // Referencias a elementos del DOM\n    const videoPlayer = ref(null)\n    \n    // Estado de la aplicación\n    const loading = ref(false)\n    const playlists = ref([])\n    const selectedPlaylist = ref(null)\n    const playlistMedia = ref([])\n    const currentMedia = ref(null)\n    const currentMediaIndex = ref(0)\n    const isPlaying = ref(false)\n    const showInfo = ref(false)\n    const elapsedTime = ref(0)\n    const scheduleOverride = ref(null)\n    const currentMediaUrl = ref('') // URL actual del media\n    \n    // Timers\n    let playbackTimer = null\n    let scheduleCheckTimer = null\n    let progressTimer = null\n    \n    // Computed properties\n    const progress = computed(() => {\n      if (!currentMedia.value) return 0\n      const duration = getCurrentDuration()\n      return duration > 0 ? elapsedTime.value / duration : 0\n    })\n    \n    // Computed para URL del media actual\n    const currentMediaSrc = computed(() => {\n      return currentMediaUrl.value || ''\n    })\n    \n    // WebSocket: desestructurar funciones necesarias\n    const { connect, disconnect, on, off } = useWebSocket()\n    \n    // Handlers para eventos WebSocket\n    const mediaCreatedHandler = async ({ id }) => {\n      if (!selectedPlaylist.value) return\n      await loadPlaylistMedia(selectedPlaylist.value.id)\n      toast.info('Se añadió un nuevo medio a la playlist')\n    }\n    \n    const playlistUpdatedHandler = async ({ playlist_id, action, media_id }) => {\n      if (!selectedPlaylist.value || selectedPlaylist.value.id !== playlist_id) return\n      \n      console.log(`Playlist actualizada: ${action}`)\n      \n      // Recargar medios de la playlist activa\n      const oldLength = playlistMedia.value.length\n      await loadPlaylistMedia(playlist_id)\n      const newLength = playlistMedia.value.length\n      \n      // Ajustar índice actual si cambió el total de medios\n      if (action === 'media_removed' && newLength < oldLength) {\n        if (currentMediaIndex.value >= newLength && newLength > 0) {\n          currentMediaIndex.value = 0\n          loadCurrentMedia()\n        }\n      }\n      \n      // Mostrar notificación según la acción\n      switch (action) {\n        case 'media_added':\n          toast.info('Se añadió un medio a la playlist activa')\n          break\n        case 'media_removed':\n          toast.warning('Se removió un medio de la playlist activa')\n          break\n        case 'playlist_modified':\n          toast.info('La playlist activa fue modificada')\n          break\n      }\n    }\n    \n    // Función para conectar WebSocket con manejo de errores\n    const connectWebSocket = () => {\n      try {\n        connect()\n        on('media_created', mediaCreatedHandler)\n        on('playlist_updated', playlistUpdatedHandler)\n        console.log('WebSocket conectado exitosamente')\n      } catch (error) {\n        console.warn('WebSocket no disponible, continuando sin actualizaciones automáticas:', error)\n      }\n    }\n    \n    // Función para desconectar WebSocket con manejo de errores\n    const disconnectWebSocket = () => {\n      try {\n        off('media_created', mediaCreatedHandler)\n        off('playlist_updated', playlistUpdatedHandler)\n        disconnect()\n        console.log('WebSocket desconectado exitosamente')\n      } catch (error) {\n        console.warn('Error al desconectar WebSocket:', error)\n      }\n    }\n    \n    // Funciones de utilidad\n    const formatTime = (seconds) => {\n      const mins = Math.floor(seconds / 60)\n      const secs = Math.floor(seconds % 60)\n      return `${mins}:${secs.toString().padStart(2, '0')}`\n    }\n    \n    const formatTotalDuration = (totalSeconds) => {\n      if (!totalSeconds) return '0:00'\n      const hours = Math.floor(totalSeconds / 3600)\n      const minutes = Math.floor((totalSeconds % 3600) / 60)\n      const seconds = totalSeconds % 60\n      \n      if (hours > 0) {\n        return `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n      }\n      return `${minutes}:${seconds.toString().padStart(2, '0')}`\n    }\n    \n    const getCurrentDuration = () => {\n      if (!currentMedia.value) return 0\n      // Usar la duración específica de la playlist o la duración original del media\n      return currentMedia.value.effective_duration || currentMedia.value.duration || 5\n    }\n    \n    // Usar la función importada de playerAPI\n    const getMediaUrlForPlayer = getMediaUrl\n    \n    // Funciones de carga de datos\n    const fetchPlaylists = async () => {\n      loading.value = true\n      try {\n        console.log('Intentando cargar playlists...')\n        const response = await playerAPI.listPlaylists()\n        playlists.value = response.data || []\n        console.log('Playlists cargadas exitosamente:', playlists.value)\n      } catch (error) {\n        console.error('Error fetching playlists:', error)\n        \n        if (error.response?.status === 401) {\n          toast.error('Sesión expirada. Redirigiendo al login...')\n          localStorage.removeItem('signance_token')\n          router.push('/login')\n        } else {\n          toast.error('Error al cargar las playlists')\n        }\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    const loadPlaylistMedia = async (playlistId) => {\n      try {\n        console.log('Cargando medios de playlist:', playlistId)\n        const response = await playerAPI.getPlaylist(playlistId)\n        \n        // El endpoint /playlists/{id}/player devuelve { medias: [...], ... }\n        const playlistData = response.data || {}\n        const medias = playlistData.medias || []\n        \n        if (!Array.isArray(medias)) {\n          console.error('La respuesta no contiene un array de medias:', playlistData)\n          playlistMedia.value = []\n          toast.error('Error: formato de datos incorrecto')\n          return\n        }\n        \n        // Los medios ya vienen con toda la información necesaria\n        playlistMedia.value = medias.map(media => ({\n          ...media,  // Datos del media (id, filename, media_type, etc.)\n          effective_duration: media.duration,  // Ya incluye la duración específica de la playlist\n          url: media.file_url  // Usar directamente file_url del backend (ya es URL completa)\n        }))\n        \n        console.log('Medios de playlist cargados:', {\n          count: playlistMedia.value.length,\n          playlist_name: playlistData.name,\n          items: medias.map(media => ({\n            id: media.id,\n            filename: media.filename,\n            duration: media.duration,\n            file_url: media.file_url\n          }))\n        })\n        \n        if (playlistMedia.value.length > 0) {\n          currentMediaIndex.value = 0\n          loadCurrentMedia()\n        } else {\n          console.warn('No se encontraron medios en la playlist')\n          toast.warning('Esta playlist no contiene medios')\n        }\n      } catch (error) {\n        console.error('Error loading playlist media:', error)\n        playlistMedia.value = [] // Asegurar que sea un array vacío\n        toast.error('Error al cargar los medios de la playlist')\n      }\n    }\n    \n    const loadCurrentMedia = () => {\n      if (playlistMedia.value.length > 0) {\n        const media = playlistMedia.value[currentMediaIndex.value]\n        currentMedia.value = media\n        elapsedTime.value = 0\n        \n        // Usar la URL ya construida\n        currentMediaUrl.value = media.url || ''\n        \n        console.log('Medio actual cargado:', {\n          index: currentMediaIndex.value,\n          filename: media.filename,\n          media_type: media.media_type,\n          filepath: media.filepath,\n          duration: media.duration,\n          effective_duration: media.effective_duration,\n          url: media.url\n        })\n      } else {\n        console.warn('No hay medios disponibles para cargar')\n        currentMedia.value = null\n        currentMediaUrl.value = ''\n      }\n    }\n    \n    // Funciones de control de reproducción\n    const selectPlaylist = async (playlist) => {\n      selectedPlaylist.value = playlist\n      await loadPlaylistMedia(playlist.id)\n      if (playlistMedia.value.length > 0) {\n        startPlayback()\n        toast.success(`Reproduciendo: ${playlist.name}`)\n      } else {\n        toast.warning('Esta playlist no tiene medios para reproducir')\n      }\n    }\n    \n    const startPlayback = () => {\n      isPlaying.value = true\n      scheduleMediaPlayback()\n      startProgressTimer()\n      startScheduleCheck()\n    }\n    \n    const scheduleMediaPlayback = () => {\n      if (!currentMedia.value) return\n      \n      const duration = getCurrentDuration()\n      console.log(`Programando cambio de medio en ${duration} segundos`)\n      \n      clearTimeout(playbackTimer)\n      playbackTimer = setTimeout(() => {\n        if (isPlaying.value) {\n          nextMedia()\n        }\n      }, duration * 1000)\n    }\n    \n    const nextMedia = () => {\n      if (playlistMedia.value.length === 0) return\n      \n      // Avanzar al siguiente medio (con bucle)\n      currentMediaIndex.value = (currentMediaIndex.value + 1) % playlistMedia.value.length\n      loadCurrentMedia()\n      \n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    const previousMedia = () => {\n      if (playlistMedia.value.length === 0) return\n      \n      // Retroceder al medio anterior (con bucle)\n      currentMediaIndex.value = currentMediaIndex.value === 0 \n        ? playlistMedia.value.length - 1 \n        : currentMediaIndex.value - 1\n      loadCurrentMedia()\n      \n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    const togglePlayPause = () => {\n      if (isPlaying.value) {\n        pausePlayback()\n      } else {\n        resumePlayback()\n      }\n    }\n    \n    const pausePlayback = () => {\n      isPlaying.value = false\n      clearTimeout(playbackTimer)\n      clearInterval(progressTimer)\n      \n      // Pausar video si es el tipo actual\n      if (currentMedia.value?.media_type === 'video' && videoPlayer.value) {\n        videoPlayer.value.pause()\n      }\n      \n      toast.info('Reproducción pausada')\n    }\n    \n    const resumePlayback = () => {\n      isPlaying.value = true\n      scheduleMediaPlayback()\n      startProgressTimer()\n      \n      // Reanudar video si es el tipo actual\n      if (currentMedia.value?.media_type === 'video' && videoPlayer.value) {\n        videoPlayer.value.play()\n      }\n      \n      toast.info('Reproducción reanudada')\n    }\n    \n    const stopPlayback = () => {\n      isPlaying.value = false\n      clearTimeout(playbackTimer)\n      clearInterval(progressTimer)\n      clearInterval(scheduleCheckTimer)\n      \n      selectedPlaylist.value = null\n      currentMedia.value = null\n      playlistMedia.value = []\n      scheduleOverride.value = null\n      elapsedTime.value = 0\n      \n      toast.info('Reproducción detenida')\n    }\n    \n    const skipToNext = () => {\n      nextMedia()\n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    const skipToPrevious = () => {\n      previousMedia()\n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    // Gestión de programación avanzada\n    const startScheduleCheck = () => {\n      // Temporalmente deshabilitado para debug\n      console.log('Schedule check temporalmente deshabilitado')\n      return\n      \n      // Verificar cada 10 segundos si hay programaciones activas\n      scheduleCheckTimer = setInterval(checkActiveSchedules, 10000)\n      // También verificar inmediatamente\n      checkActiveSchedules()\n    }\n    \n    const checkActiveSchedules = async () => {\n      if (!selectedPlaylist.value) return\n      \n      try {\n        // Obtener schedules activos\n        const response = await scheduleAPI.getActive()\n        const activeSchedules = response.data || []\n        \n        const now = new Date()\n        const currentTime = now.toTimeString().slice(0, 8) // HH:MM:SS\n        const currentDay = now.getDay() // 0 = Sunday, 1 = Monday, etc.\n        const today = now.toISOString().split('T')[0] // YYYY-MM-DD\n        \n        console.log('Verificando programaciones activas...', {\n          currentTime,\n          currentDay,\n          today,\n          activeSchedules: activeSchedules.length\n        })\n        \n        // Buscar schedules que deben ejecutarse ahora\n        const applicableSchedule = findApplicableSchedule(activeSchedules, now, currentTime, currentDay, today)\n        \n        if (applicableSchedule) {\n          console.log('Schedule aplicable encontrado:', applicableSchedule)\n          handleScheduleOverride(applicableSchedule)\n        } else if (scheduleOverride.value) {\n          // Si había un schedule activo pero ya no aplica, volver a la playlist normal\n          console.log('Schedule override terminado, volviendo a playlist normal')\n          scheduleOverride.value = null\n          // Continuar con la reproducción normal\n        }\n        \n      } catch (error) {\n        console.error('Error checking active schedules:', error)\n      }\n    }\n    \n    const findApplicableSchedule = (schedules, now, currentTime, currentDay, today) => {\n      // Ordenar por prioridad (mayor prioridad primero)\n      const sortedSchedules = [...schedules].sort((a, b) => (b.priority || 1) - (a.priority || 1))\n      \n      for (const schedule of sortedSchedules) {\n        if (!schedule.is_active) continue\n        \n        // Verificar schedules de tipo \"simple\" (programación semanal)\n        if (schedule.schedule_type === 'simple') {\n          if (isSimpleScheduleActive(schedule, currentTime, currentDay)) {\n            return schedule\n          }\n        }\n        \n        // Verificar schedules de tipo \"advanced\" (fechas específicas)\n        if (schedule.schedule_type === 'advanced') {\n          if (isAdvancedScheduleActive(schedule, now, today, currentTime)) {\n            return schedule\n          }\n        }\n      }\n      \n      return null\n    }\n    \n    const isSimpleScheduleActive = (schedule, currentTime, currentDay) => {\n      // Convertir día de la semana (JS usa 0=Sunday, pero nuestro modelo usa 0=Monday)\n      const adjustedDay = currentDay === 0 ? 6 : currentDay - 1 // Convertir a 0=Monday\n      \n      // Verificar si el día actual está en los weekdays programados\n      if (schedule.weekdays && !schedule.weekdays.includes(adjustedDay)) {\n        return false\n      }\n      \n      // Si es todo el día, aplica\n      if (schedule.is_all_day) {\n        return true\n      }\n      \n      // Verificar horario\n      if (schedule.daily_start && schedule.daily_end) {\n        const currentMinutes = timeToMinutes(currentTime)\n        const startMinutes = timeToMinutes(schedule.daily_start)\n        const endMinutes = timeToMinutes(schedule.daily_end)\n        \n        return currentMinutes >= startMinutes && currentMinutes <= endMinutes\n      }\n      \n      return false\n    }\n    \n    const isAdvancedScheduleActive = (schedule, now, today, currentTime) => {\n      // Verificar fechas de inicio y fin\n      if (schedule.start_date && schedule.end_date) {\n        const startDate = new Date(schedule.start_date)\n        const endDate = new Date(schedule.end_date)\n        \n        if (now < startDate || now > endDate) {\n          return false\n        }\n      }\n      \n      // Verificar tiempos específicos\n      if (schedule.specific_times && Array.isArray(schedule.specific_times)) {\n        for (const specificTime of schedule.specific_times) {\n          if (isSpecificTimeActive(specificTime, today, currentTime)) {\n            return true\n          }\n        }\n        return false\n      }\n      \n      // Si no hay tiempos específicos pero está en el rango de fechas, aplica todo el día\n      return true\n    }\n    \n    const isSpecificTimeActive = (specificTime, today, currentTime) => {\n      // specificTime puede ser:\n      // - { date: \"2024-01-15\", start_time: \"10:00\", end_time: \"12:00\" }\n      // - { date: \"2024-01-15\", time: \"10:30\" } (tiempo específico)\n      \n      if (specificTime.date !== today) {\n        return false\n      }\n      \n      if (specificTime.time) {\n        // Tiempo específico con tolerancia de ±30 segundos\n        const specificMinutes = timeToMinutes(specificTime.time)\n        const currentMinutes = timeToMinutes(currentTime)\n        return Math.abs(currentMinutes - specificMinutes) <= 0.5 // 30 segundos\n      }\n      \n      if (specificTime.start_time && specificTime.end_time) {\n        const currentMinutes = timeToMinutes(currentTime)\n        const startMinutes = timeToMinutes(specificTime.start_time)\n        const endMinutes = timeToMinutes(specificTime.end_time)\n        \n        return currentMinutes >= startMinutes && currentMinutes <= endMinutes\n      }\n      \n      return false\n    }\n    \n    const timeToMinutes = (timeString) => {\n      // Convertir \"HH:MM\" o \"HH:MM:SS\" a minutos desde medianoche\n      const parts = timeString.split(':')\n      const hours = parseInt(parts[0], 10)\n      const minutes = parseInt(parts[1], 10)\n      const seconds = parts[2] ? parseInt(parts[2], 10) : 0\n      \n      return hours * 60 + minutes + seconds / 60\n    }\n    \n    const handleScheduleOverride = (schedule) => {\n      // Si ya estamos reproduciendo este schedule, no hacer nada\n      if (scheduleOverride.value && scheduleOverride.value.id === schedule.id) {\n        return\n      }\n      \n      console.log('Aplicando schedule override:', schedule)\n      \n      // Pausar la reproducción actual\n      const wasPlaying = isPlaying.value\n      pausePlayback()\n      \n      // Configurar el schedule override\n      scheduleOverride.value = schedule\n      \n      // Si el schedule es para un medio específico, reproducirlo\n      if (schedule.media_id && schedule.media) {\n        // Crear un \"medio virtual\" con la información del schedule\n        const scheduleMedia = {\n          ...schedule.media,\n          effective_duration: schedule.media.duration, // Usar duración original\n          isScheduleOverride: true,\n          scheduleInfo: {\n            type: schedule.schedule_type,\n            priority: schedule.priority,\n            id: schedule.id\n          }\n        }\n        \n        // Guardar el estado actual de la playlist\n        const originalIndex = currentMediaIndex.value\n        const originalMedia = currentMedia.value\n        \n        // Reproducir el medio programado\n        currentMedia.value = scheduleMedia\n        elapsedTime.value = 0\n        \n        if (wasPlaying) {\n          isPlaying.value = true\n          scheduleMediaPlayback()\n          startProgressTimer()\n        }\n        \n        // Mostrar notificación\n        toast.info(`Reproduciendo contenido programado: ${schedule.media.filename}`)\n        \n        // Programar volver a la playlist original cuando termine el medio programado\n        setTimeout(() => {\n          if (scheduleOverride.value && scheduleOverride.value.id === schedule.id) {\n            console.log('Finalizando schedule override, volviendo a playlist')\n            scheduleOverride.value = null\n            \n            // Volver al medio original o al siguiente\n            currentMediaIndex.value = originalIndex\n            loadCurrentMedia()\n            \n            if (isPlaying.value) {\n              scheduleMediaPlayback()\n            }\n          }\n        }, (scheduleMedia.effective_duration || 5) * 1000)\n        \n      } else if (schedule.playlist_id && schedule.playlist) {\n        // Si el schedule es para una playlist completa, cambiar a esa playlist\n        // Esta sería una funcionalidad más avanzada para implementar después\n        console.log('Schedule para playlist completa - funcionalidad pendiente')\n      }\n    }\n    \n    // Gestión de progreso\n    const startProgressTimer = () => {\n      clearInterval(progressTimer)\n      progressTimer = setInterval(() => {\n        if (isPlaying.value && currentMedia.value) {\n          elapsedTime.value += 0.1\n          \n          // Verificar si el video ha terminado naturalmente\n          if (currentMedia.value.media_type === 'video' && videoPlayer.value) {\n            if (videoPlayer.value.ended) {\n              onMediaEnded()\n            }\n          }\n        }\n      }, 100)\n    }\n    \n    // Event handlers\n    const onMediaEnded = () => {\n      console.log('Medio terminado, avanzando al siguiente')\n      nextMedia()\n    }\n    \n    const onMediaLoaded = () => {\n      console.log('Medio cargado exitosamente:', currentMedia.value?.filename)\n    }\n    \n    const handleMediaError = async (error) => {\n      console.error('Error de medio:', {\n        error,\n        media: currentMedia.value,\n        url: currentMediaUrl.value\n      })\n      \n      // Debug: Verificar detección del backend\n      try {\n        const backendDetector = (await import('../services/backendDetector')).default\n        const detected = await backendDetector.detectBackend()\n        console.log('🔍 Backend detectado:', detected)\n        \n        // Debug: Verificar qué URL está construyendo getMediaUrl\n        const { getMediaUrl } = await import('../services/playerAPI')\n        const debugUrl = await getMediaUrl(currentMedia.value)\n        console.log('🔍 URL construida por getMediaUrl:', debugUrl)\n        \n        // Debug: Verificar si el archivo existe en el servidor\n        const testUrl = `${detected.baseUrl}/uploads/${currentMedia.value?.served_filename || currentMedia.value?.filename}`\n        console.log('🔍 URL de prueba directa:', testUrl)\n        \n        // Probar acceso directo al archivo\n        try {\n          const response = await fetch(testUrl, { method: 'HEAD' })\n          console.log('🔍 Respuesta del servidor para archivo:', response.status, response.statusText)\n        } catch (fetchError) {\n          console.error('🔍 Error al acceder al archivo:', fetchError)\n        }\n        \n      } catch (debugError) {\n        console.error('🔍 Error en debug:', debugError)\n      }\n      \n      toast.error(`Error al cargar: ${currentMedia.value?.filename || 'medio desconocido'}`)\n      \n      // Intentar cargar el siguiente medio después de un breve delay\n      setTimeout(() => {\n        if (playlistMedia.value.length > 1) {\n          console.log('Saltando al siguiente medio debido a error')\n          nextMedia()\n        } else {\n          console.log('No hay más medios disponibles')\n          toast.warning('No hay más medios disponibles en la playlist')\n        }\n      }, 2000)\n    }\n    \n    const toggleInfo = () => {\n      showInfo.value = !showInfo.value\n    }\n    \n    const debugCurrentMedia = async () => {\n      if (!currentMedia.value) {\n        console.warn('No hay medio actual para debuggear')\n        toast.warning('No hay medio actual para debuggear')\n        return\n      }\n      \n      console.log('🐛 === DEBUG INFORMACIÓN DEL MEDIO ===')\n      console.log('🐛 Medio actual:', currentMedia.value)\n      console.log('🐛 URL actual:', currentMediaUrl.value)\n      \n      try {\n        // Debug: Verificar detección del backend\n        const backendDetector = (await import('../services/backendDetector')).default\n        const detected = await backendDetector.detectBackend()\n        console.log('🐛 Backend detectado:', detected)\n        \n        // Debug: Verificar qué URL está construyendo getMediaUrl\n        const { getMediaUrl } = await import('../services/playerAPI')\n        const debugUrl = await getMediaUrl(currentMedia.value)\n        console.log('🐛 URL construida por getMediaUrl:', debugUrl)\n        \n        // Debug: Diferentes variaciones de URL\n        const variations = [\n          `${detected.baseUrl}/uploads/${currentMedia.value.served_filename}`,\n          `${detected.baseUrl}/uploads/${currentMedia.value.filename}`,\n          `${detected.baseUrl}${currentMedia.value.file_url}`,\n          `${detected.baseUrl}${currentMedia.value.filepath}`\n        ]\n        \n        console.log('🐛 Variaciones de URL a probar:', variations)\n        \n        for (let i = 0; i < variations.length; i++) {\n          const url = variations[i]\n          if (url && !url.includes('undefined')) {\n            try {\n              const response = await fetch(url, { method: 'HEAD' })\n              console.log(`🐛 Variación ${i + 1} (${url}):`, response.status, response.statusText)\n            } catch (fetchError) {\n              console.error(`🐛 Variación ${i + 1} falló:`, fetchError.message)\n            }\n          }\n        }\n        \n        toast.info('Información de debug en la consola')\n        \n      } catch (debugError) {\n        console.error('🐛 Error en debug:', debugError)\n        toast.error('Error en debug - ver consola')\n      }\n    }\n    \n    const isFullscreen = ref(false)\n    const showFullscreenControls = ref(false)\n    const businessLogo = ref(null)\n    \n    // Timer para ocultar controles en pantalla completa\n    let fullscreenControlsTimer = null\n    \n    // Asegurar que el estado inicial sea correcto\n    const initializeFullscreenState = () => {\n      isFullscreen.value = !!document.fullscreenElement\n      console.log('Initialized fullscreen state:', isFullscreen.value)\n    }\n    \n    const toggleFullscreen = async () => {\n      try {\n        if (!document.fullscreenElement) {\n          // Entrar en pantalla completa\n          const playerElement = document.querySelector('.player-state')\n          if (playerElement) {\n            await playerElement.requestFullscreen()\n          } else {\n            await document.documentElement.requestFullscreen()\n          }\n          isFullscreen.value = true\n          toast.info('Modo pantalla completa activado')\n        } else {\n          // Salir de pantalla completa\n          await document.exitFullscreen()\n          isFullscreen.value = false\n          toast.info('Modo pantalla completa desactivado')\n        }\n      } catch (error) {\n        console.error('Error toggle fullscreen:', error)\n        toast.error('Error al cambiar modo de pantalla')\n      }\n    }\n    \n    // Escuchar cambios de pantalla completa\n    const handleFullscreenChange = () => {\n      const wasFullscreen = isFullscreen.value\n      isFullscreen.value = !!document.fullscreenElement\n      \n      console.log('Fullscreen state changed:', {\n        wasFullscreen,\n        nowFullscreen: isFullscreen.value,\n        element: document.fullscreenElement\n      })\n      \n      // Resetear controles al cambiar de modo\n      if (!isFullscreen.value) {\n        showFullscreenControls.value = false\n        if (fullscreenControlsTimer) {\n          clearTimeout(fullscreenControlsTimer)\n          fullscreenControlsTimer = null\n        }\n      }\n    }\n\n    // Manejar movimiento del mouse en pantalla completa\n    const onMouseMoveFullscreen = () => {\n      if (!isFullscreen.value) return\n      \n      showFullscreenControls.value = true\n      \n      // Mostrar cursor\n      document.body.style.cursor = 'default'\n      \n      // Limpiar timer anterior\n      if (fullscreenControlsTimer) {\n        clearTimeout(fullscreenControlsTimer)\n      }\n      \n      // Ocultar controles después de 3 segundos de inactividad\n      fullscreenControlsTimer = setTimeout(() => {\n        showFullscreenControls.value = false\n        // Ocultar cursor en pantalla completa\n        if (isFullscreen.value) {\n          document.body.style.cursor = 'none'\n        }\n      }, 3000)\n    }\n    \n    const dismissScheduleNotification = () => {\n      scheduleOverride.value = null\n    }\n    \n    const goToAdmin = () => {\n      router.push('/admin')\n    }\n    \n    // Cargar logo del negocio\n    const loadBusinessLogo = async () => {\n      try {\n        console.log('🔍 Intentando cargar logo del negocio...')\n        \n        // Obtener la URL base del backend usando la misma lógica que los medios\n        let baseUrl\n        try {\n          const detected = await backendDetector.detectBackend()\n          baseUrl = detected.baseUrl\n          console.log('📡 Backend detectado para logo:', baseUrl)\n        } catch (detectionError) {\n          console.log('❌ Error detectando backend para logo:', detectionError)\n          return\n        }\n        \n        // Intentar cargar el logo directamente\n        const logoUrl = `${baseUrl}/api/business/logo`\n        console.log('🖼️ Intentando cargar logo desde:', logoUrl)\n        \n        try {\n          const response = await fetch(logoUrl, {\n            method: 'GET'\n            // No necesitamos autenticación ahora que es público\n          })\n          \n          console.log('📥 Respuesta del logo:', response.status, response.statusText)\n          \n          if (response.ok) {\n            const data = await response.json()\n            console.log('📄 Datos recibidos:', data.logo ? 'Logo base64 presente' : 'Sin logo')\n            \n            if (data.logo) {\n              // Convertir base64 a data URL\n              businessLogo.value = `data:image/png;base64,${data.logo}`\n              console.log('✅ Logo cargado exitosamente como data URL')\n            } else {\n              console.log('❌ No hay datos de logo en la respuesta')\n              businessLogo.value = null\n            }\n          } else if (response.status === 404) {\n            console.log('📄 No hay logo configurado (404)')\n            businessLogo.value = null\n          } else {\n            console.log('❌ Error cargando logo:', response.status, response.statusText)\n            businessLogo.value = null\n          }\n        } catch (fetchError) {\n          console.log('❌ Error de red cargando logo:', fetchError)\n          businessLogo.value = null\n        }\n        \n        // TEMPORAL: Para testing - ya no necesitamos esto\n        // if (!businessLogo.value) {\n        //   console.log('🧪 Usando logo de prueba para testing')\n        //   businessLogo.value = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iIzIxOTZGMyIgLz4KICA8dGV4dCB4PSI1MCIgeT0iNTciIGZvcnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkxPR088L3RleHQ+Cjwvc3ZnPgo='\n        // }\n      } catch (error) {\n        console.log('❌ Error general cargando logo:', error)\n        businessLogo.value = null\n      }\n    }\n\n    const goBack = () => {\n      stopPlayback()\n      router.push('/')\n    }\n    \n    // Lifecycle hooks\n    onMounted(() => {\n      console.log('PlayerView mounted, initial fullscreen state:', isFullscreen.value)\n      \n      // Asegurar que el tema esté aplicado correctamente\n      loadTheme()\n      \n      initializeFullscreenState()\n      fetchPlaylists()\n      \n      // Cargar logo después de un breve delay para asegurar que el backend esté detectado\n      setTimeout(() => {\n        loadBusinessLogo()\n      }, 1000)\n      \n      // Agregar listener para cambios de pantalla completa\n      document.addEventListener('fullscreenchange', handleFullscreenChange)\n      \n      // WebSocket: conectar y manejar eventos\n      connectWebSocket()\n    })\n    \n    onUnmounted(() => {\n      clearTimeout(playbackTimer)\n      clearInterval(progressTimer)\n      clearInterval(scheduleCheckTimer)\n      // Limpiar timer de controles de pantalla completa\n      if (fullscreenControlsTimer) {\n        clearTimeout(fullscreenControlsTimer)\n      }\n      // Remover listener\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n      \n      // WebSocket: desconectar y limpiar handlers\n      disconnectWebSocket()\n    })\n\n    return { \n      // State\n      loading,\n      playlists,\n      selectedPlaylist,\n      playlistMedia,\n      currentMedia,\n      currentMediaIndex,\n      isPlaying,\n      showInfo,\n      elapsedTime,\n      scheduleOverride,\n      progress,\n      currentMediaSrc, // Nueva URL reactiva\n      videoPlayer,\n      isFullscreen,\n      showFullscreenControls,\n      businessLogo,\n      \n      // Methods\n      fetchPlaylists,\n      selectPlaylist,\n      togglePlayPause,\n      skipToNext,\n      skipToPrevious,\n      stopPlayback,\n      toggleInfo,\n      debugCurrentMedia,\n      toggleFullscreen,\n      dismissScheduleNotification,\n      goToAdmin,\n      goBack,\n      onMediaEnded,\n      onMediaLoaded,\n      handleMediaError,\n      formatTime,\n      formatTotalDuration,\n      getCurrentDuration,\n      initializeFullscreenState,\n      onMouseMoveFullscreen,\n      \n      // Theme\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Container Principal */\n.player-container {\n  min-height: 100vh;\n  background: var(--background);\n  color: var(--text-primary);\n  position: relative;\n  overflow: hidden;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n}\n\n/* Selection State Styles */\n.selection-state {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.player-header {\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);\n  padding: 60px 20px 40px;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.header-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.header-icon {\n  color: white;\n  opacity: 0.9;\n}\n\n.header-text h2 {\n  color: white;\n  margin: 0 0 10px 0;\n  font-weight: 600;\n  font-size: 2.5rem;\n}\n\n.header-text p {\n  color: rgba(255, 255, 255, 0.8);\n  margin: 0;\n  font-size: 1.1rem;\n}\n\n.main-content {\n  flex: 1;\n  padding: 40px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.content-card {\n  max-width: 1200px;\n  width: 100%;\n  background: var(--surface);\n  border-radius: 20px;\n  padding: 40px;\n  box-shadow: var(--shadow-lg);\n  border: 1px solid var(--border);\n}\n\n.loading-section {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.loading-text {\n  margin-top: 20px;\n  font-size: 1.1rem;\n  color: var(--text-secondary);\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.section-header h3 {\n  font-size: 2rem;\n  margin: 0 0 10px 0;\n  color: var(--text-primary);\n  font-weight: 600;\n}\n\n.playlist-count {\n  color: var(--text-secondary);\n  font-size: 1rem;\n}\n\n.playlists-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 20px;\n  margin-top: 30px;\n}\n\n.playlist-card {\n  background: var(--background);\n  border-radius: 16px;\n  padding: 24px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid var(--border);\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.playlist-card:hover {\n  border-color: var(--primary);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-lg);\n}\n\n.playlist-icon {\n  color: var(--primary);\n  flex-shrink: 0;\n}\n\n.playlist-info {\n  flex: 1;\n}\n\n.playlist-info h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.playlist-info p {\n  margin: 0 0 12px 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.playlist-meta {\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.playlist-action {\n  color: var(--primary);\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n}\n\n.playlist-card:hover .playlist-action {\n  opacity: 1;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.empty-icon {\n  color: var(--text-secondary);\n  opacity: 0.5;\n  margin-bottom: 24px;\n}\n\n.empty-state h3 {\n  font-size: 1.5rem;\n  margin: 0 0 12px 0;\n  color: var(--text-primary);\n}\n\n.empty-state p {\n  color: var(--text-secondary);\n  margin: 0 0 24px 0;\n  font-size: 1rem;\n}\n\n.footer-actions {\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n}\n\n/* Player State */\n.player-state {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.media-display-area {\n  flex: 1;\n  position: relative;\n  background: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.media-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-display,\n.video-display {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.media-image {\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n}\n\n.media-video {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.media-info-overlay {\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  right: 20px;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: 20px;\n  border-radius: 12px;\n  backdrop-filter: blur(10px);\n  animation: fadeInUp 0.3s ease;\n}\n\n.media-info h3 {\n  margin: 0 0 8px 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n}\n\n.media-info p {\n  margin: 0 0 12px 0;\n  opacity: 0.9;\n}\n\n.media-details {\n  display: flex;\n  gap: 20px;\n  font-size: 0.9rem;\n  opacity: 0.8;\n}\n\n.loading-media {\n  text-align: center;\n  color: white;\n}\n\n.loading-media p {\n  margin-top: 20px;\n  font-size: 1.2rem;\n}\n\n.player-controls {\n  background: var(--surface);\n  border-top: 1px solid var(--border);\n  padding: 20px;\n}\n\n.control-panel {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-template-areas: \n    \"info controls additional\"\n    \"progress progress progress\";\n  gap: 20px;\n  align-items: center;\n}\n\n/* Cuando NO es fullscreen, mostrar el layout normal */\n.player-controls:not(.fullscreen-controls) .control-panel {\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-template-areas: \n    \"info controls additional\"\n    \"progress progress progress\";\n  gap: 20px;\n}\n\n.player-controls:not(.fullscreen-controls) .playlist-info-controls {\n  grid-area: info;\n}\n\n.player-controls:not(.fullscreen-controls) .media-controls {\n  grid-area: controls;\n  justify-self: center;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.player-controls:not(.fullscreen-controls) .progress-info {\n  grid-area: progress;\n  grid-column: 1 / -1;\n  text-align: center;\n  margin-top: 10px;\n}\n\n.player-controls:not(.fullscreen-controls) .additional-controls {\n  grid-area: additional;\n  justify-self: end;\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.playlist-info-controls h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.2rem;\n  color: var(--text-primary);\n}\n\n.playlist-info-controls p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n}\n\n.media-controls {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.play-pause-btn {\n  width: 60px;\n  height: 60px;\n}\n\n.skip-btn {\n  width: 48px;\n  height: 48px;\n}\n\n.progress-info {\n  text-align: right;\n}\n\n.progress-bar {\n  min-width: 200px;\n}\n\n.media-progress {\n  margin-bottom: 8px;\n}\n\n.time-info {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.additional-controls {\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.schedule-notification {\n  position: fixed;\n  top: 80px;\n  left: 20px;\n  right: 20px;\n  z-index: 900;\n  animation: slideDown 0.3s ease;\n}\n\n/* Fullscreen Mode Styles */\n.fullscreen-mode {\n  background: #000 !important;\n}\n\n.fullscreen-mode .player-state {\n  height: 100vh !important;\n  display: flex !important;\n  flex-direction: column !important;\n}\n\n.fullscreen-mode .media-display-area {\n  flex: 1 !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  background: #000 !important;\n}\n\n.fullscreen-mode .media-container {\n  width: 100% !important;\n  height: 100% !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n}\n\n.fullscreen-mode .media-image,\n.fullscreen-mode .media-video {\n  max-width: 100% !important;\n  max-height: 100% !important;\n  width: auto !important;\n  height: auto !important;\n  object-fit: contain !important;\n}\n\n/* Estilos específicos para FULLSCREEN */\n.fullscreen-mode .fullscreen-controls {\n  position: absolute !important;\n  bottom: 20px !important;\n  left: 50% !important;\n  transform: translateX(-50%) !important;\n  background: rgba(0, 0, 0, 0.7) !important;\n  backdrop-filter: blur(10px) !important;\n  padding: 15px 25px !important;\n  border-radius: 25px !important;\n  z-index: 1000 !important;\n}\n\n.fullscreen-mode .fullscreen-controls .control-panel {\n  display: flex !important;\n  flex-direction: row !important;\n  align-items: center !important;\n  gap: 20px !important;\n  grid-template-columns: none !important;\n  grid-template-areas: none !important;\n}\n\n.fullscreen-mode .fullscreen-controls .media-controls {\n  display: flex !important;\n  gap: 15px !important;\n  align-items: center !important;\n}\n\n.fullscreen-mode .fullscreen-controls .additional-controls {\n  display: flex !important;\n  gap: 10px !important;\n  align-items: center !important;\n}\n\n/* Auto-hide controls in fullscreen after 3 seconds */\n.fullscreen-mode .fullscreen-controls {\n  transition: opacity 0.3s ease !important;\n}\n\n.fullscreen-mode .fullscreen-controls:not(:hover) {\n  animation: fadeOutAfterDelay 0.3s ease 3s forwards !important;\n}\n\n@keyframes fadeOutAfterDelay {\n  to {\n    opacity: 0.3;\n  }\n}\n\n.fullscreen-mode .fullscreen-controls:hover {\n  opacity: 1 !important;\n  animation: none !important;\n}\n\n/* Estilos específicos para MODO NORMAL (no fullscreen) */\n.normal-controls {\n  position: fixed !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  background: var(--surface) !important;\n  backdrop-filter: blur(10px) !important;\n  border-top: 1px solid var(--border) !important;\n  padding: 15px 20px !important;\n  z-index: 1000 !important;\n}\n\n.normal-controls .control-panel {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-template-areas: \n    \"info controls additional\";\n  gap: 20px;\n  align-items: center;\n}\n\n.normal-controls .playlist-info-controls {\n  grid-area: info;\n  color: var(--text-primary);\n}\n\n.normal-controls .playlist-info-controls h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.1rem;\n  color: var(--text-primary);\n  font-weight: 600;\n}\n\n.normal-controls .playlist-info-controls p {\n  margin: 0;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.normal-controls .media-controls {\n  grid-area: controls;\n  justify-self: center;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.normal-controls .progress-info {\n  display: none; /* Ocultar en controles normales para simplicidad */\n}\n\n.normal-controls .additional-controls {\n  grid-area: additional;\n  justify-self: end;\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n/* Fullscreen Exit Overlay */\n.fullscreen-exit-overlay {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2000;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  pointer-events: none;\n}\n\n.fullscreen-exit-overlay.visible {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.exit-fullscreen-btn {\n  background: rgba(255, 255, 255, 0.9) !important;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n}\n\n.exit-fullscreen-btn:hover {\n  background: rgba(255, 255, 255, 1) !important;\n  transform: scale(1.1);\n}\n\n/* Business Logo Overlay */\n.business-logo-overlay {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1500;\n  opacity: 0.8;\n}\n\n.business-logo {\n  max-width: 138px;\n  max-height: 92px;\n  object-fit: contain;\n  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));\n}\n\n/* Animations */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes slideDown {\n  from {\n    transform: translateY(-100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .header-content {\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .header-text h2 {\n    font-size: 2rem;\n  }\n  \n  .playlists-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .playlist-card {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .control-panel {\n    grid-template-columns: 1fr;\n    gap: 15px;\n    text-align: center;\n  }\n  \n  .progress-info {\n    text-align: center;\n  }\n  \n  .media-details {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .additional-controls {\n    position: relative;\n    top: auto;\n    right: auto;\n    justify-content: center;\n    margin-top: 15px;\n  }\n}\n\n/* Dark Mode Specific Adjustments */\n.dark-mode .content-card {\n  background: var(--surface);\n  border-color: var(--border);\n}\n\n.dark-mode .playlist-card {\n  background: var(--background);\n}\n\n.dark-mode .playlist-card:hover {\n  background: var(--surface);\n}\n\n.dark-mode .player-controls {\n  background: var(--surface) !important;\n  border-color: var(--border) !important;\n}\n\n/* Asegurar que todos los elementos internos de controles también cambien */\n.dark-mode .control-panel,\n.dark-mode .normal-controls .control-panel {\n  background: transparent !important;\n}\n\n.dark-mode .playlist-info-controls,\n.dark-mode .media-controls,\n.dark-mode .additional-controls {\n  background: transparent !important;\n}\n\n.player-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n  pointer-events: none;\n}\n\n.header-content {\n  max-width: 800px;\n  margin: 0 auto;\n  position: relative;\n  z-index: 2;\n}\n\n.header-icon {\n  color: var(--on-primary);\n  margin-bottom: 20px;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.header-text h2 {\n  color: var(--on-primary);\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.header-text p {\n  color: var(--on-primary);\n  font-size: 1.2rem;\n  margin: 0;\n  opacity: 0.9;\n}\n\n.main-content {\n  padding: 40px 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.content-card {\n  background: var(--surface);\n  border-radius: 20px;\n  box-shadow: var(--shadow-lg);\n  border: 1px solid var(--border);\n  overflow: hidden;\n}\n\n.loading-section {\n  padding: 80px 20px;\n  text-align: center;\n}\n\n.loading-text {\n  margin-top: 20px;\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n}\n\n.section-header {\n  padding: 30px 30px 20px;\n  border-bottom: 1px solid var(--border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.section-header h3 {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.playlist-count {\n  color: var(--text-secondary);\n  background: var(--background);\n  padding: 8px 16px;\n  border-radius: 12px;\n  font-size: 0.9rem;\n  border: 1px solid var(--border);\n}\n\n.playlists-grid {\n  padding: 20px;\n  display: grid;\n  gap: 20px;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n}\n\n.playlist-card {\n  display: flex;\n  align-items: center;\n  padding: 24px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.playlist-card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--shadow-lg);\n  border-color: var(--primary);\n}\n\n.playlist-icon {\n  color: var(--primary);\n  margin-right: 20px;\n  transition: all 0.3s ease;\n}\n\n.playlist-card:hover .playlist-icon {\n  transform: scale(1.1);\n  color: var(--primary-dark);\n}\n\n.playlist-info {\n  flex: 1;\n}\n\n.playlist-info h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.playlist-info p {\n  margin: 0 0 12px 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n  line-height: 1.4;\n}\n\n.playlist-meta {\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n}\n\n.playlist-action {\n  color: var(--secondary);\n  transition: all 0.3s ease;\n}\n\n/* Estilos específicos para modo claro en controles */\n.light-mode .player-controls,\nbody:not(.dark-mode) .player-controls {\n  background: var(--surface) !important;\n  border-color: var(--border) !important;\n}\n\n.light-mode .control-panel,\n.light-mode .normal-controls .control-panel,\nbody:not(.dark-mode) .control-panel,\nbody:not(.dark-mode) .normal-controls .control-panel {\n  background: transparent !important;\n}\n</style>\n\n","import backendDetector from './backendDetector'\n\nclass WebSocketService {\n  constructor() {\n    this.socket = null\n    this.connected = false\n    this.listeners = new Map()\n    this.reconnectAttempts = 0\n    this.maxReconnectAttempts = 5\n    this.reconnectDelay = 1000\n    this.detectedBackendUrl = null\n  }\n\n  /**\n   * Obtiene la URL del WebSocket basada en la detección del backend\n   * @returns {Promise<string>}\n   */\n  async getWebSocketUrl() {\n    try {\n      // Usar el backend ya detectado o detectar uno nuevo\n      let backendUrl = this.detectedBackendUrl\n      \n      if (!backendUrl) {\n        const { baseUrl } = await backendDetector.detectBackend()\n        this.detectedBackendUrl = baseUrl\n        backendUrl = baseUrl\n      }\n      \n      // Convertir HTTP a WebSocket URL\n      const wsUrl = backendUrl.replace('http://', 'ws://') + '/ws'\n      console.log(`🎯 URL WebSocket generada: ${wsUrl}`)\n      return wsUrl\n    } catch (error) {\n      console.error('❌ Error obteniendo URL del WebSocket:', error)\n      // Fallback a localhost\n      return 'ws://127.0.0.1:8002/ws'\n    }\n  }\n\n  // Conectar al WebSocket del servidor\n  async connect(serverUrl = null) {\n    try {\n      // Si no se proporciona URL, obtener automáticamente\n      if (!serverUrl) {\n        serverUrl = await this.getWebSocketUrl()\n      }\n      \n      console.log(`🔌 Conectando WebSocket a: ${serverUrl}`)\n      \n      // Crear conexión WebSocket nativa\n      this.socket = new WebSocket(serverUrl)\n\n      // Eventos de conexión\n      this.socket.onopen = () => {\n        console.log('✅ WebSocket conectado')\n        this.connected = true\n        this.reconnectAttempts = 0\n        this.emit('connection-status', { connected: true })\n      }\n\n      this.socket.onclose = (event) => {\n        console.log('❌ WebSocket desconectado:', event.code, event.reason)\n        this.connected = false\n        this.emit('connection-status', { connected: false, reason: event.reason })\n        \n        // Intentar reconectar automáticamente\n        if (this.reconnectAttempts < this.maxReconnectAttempts) {\n          this.reconnectAttempts++\n          console.log(`🔄 Intentando reconectar (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`)\n          setTimeout(() => this.connect(serverUrl), this.reconnectDelay * this.reconnectAttempts)\n        }\n      }\n\n      this.socket.onerror = (error) => {\n        console.error('❌ Error de conexión WebSocket:', error)\n        this.emit('connection-error', error)\n      }\n\n      this.socket.onmessage = (event) => {\n        try {\n          const message = JSON.parse(event.data)\n          if (message.event && message.data) {\n            this.emit(message.event, message.data)\n          }\n        } catch (error) {\n          console.error('Error parseando mensaje WebSocket:', error)\n        }\n      }\n\n    } catch (error) {\n      console.error('Error inicializando WebSocket:', error)\n    }\n  }\n\n  // Desconectar WebSocket\n  disconnect() {\n    if (this.socket) {\n      this.socket.close()\n      this.socket = null\n      this.connected = false\n      this.listeners.clear()\n      console.log('🔌 WebSocket desconectado manualmente')\n    }\n  }\n\n  // Enviar mensaje al servidor\n  send(event, data) {\n    if (this.socket && this.connected) {\n      const message = JSON.stringify({ event, data })\n      this.socket.send(message)\n    } else {\n      console.warn('⚠️ WebSocket no conectado, no se puede enviar:', event)\n    }\n  }\n\n  // Escuchar eventos\n  on(event, callback) {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, [])\n    }\n    this.listeners.get(event).push(callback)\n  }\n\n  // Dejar de escuchar eventos\n  off(event, callback) {\n    if (this.listeners.has(event)) {\n      const callbacks = this.listeners.get(event)\n      const index = callbacks.indexOf(callback)\n      if (index > -1) {\n        callbacks.splice(index, 1)\n      }\n    }\n  }\n\n  // Emitir evento a los listeners locales\n  emit(event, data) {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event).forEach(callback => {\n        try {\n          callback(data)\n        } catch (error) {\n          console.error(`Error en listener para evento ${event}:`, error)\n        }\n      })\n    }\n  }\n\n  // Métodos específicos para Pochtecayotl Signance System\n  \n  // Notificar inicio de upload de archivo\n  notifyUploadStart(fileData) {\n    this.send('media-upload-start', fileData)\n  }\n\n  // Solicitar estado actual de reproducción\n  requestPlaybackStatus() {\n    this.send('get-playback-status')\n  }\n\n  // Enviar comando de control de reproductor\n  sendPlayerCommand(command, data = {}) {\n    this.send('player-command', { command, ...data })\n  }\n\n  // Notificar cambio en programación\n  notifyScheduleChange(scheduleData) {\n    this.send('schedule-change', scheduleData)\n  }\n\n  // Obtener estadísticas del sistema en tiempo real\n  requestSystemStats() {\n    this.send('get-system-stats')\n  }\n}\n\n// Singleton instance\nconst wsService = new WebSocketService()\n\n// Funciones de utilidad\nexport const connectWebSocket = () => {\n  wsService.connect()\n}\n\nexport const disconnectWebSocket = () => {\n  wsService.disconnect()\n}\n\nexport const isWebSocketConnected = () => {\n  return wsService.connected\n}\n\n// Composable para Vue 3\nexport const useWebSocket = () => {\n  return {\n    connect: connectWebSocket,\n    disconnect: disconnectWebSocket,\n    isConnected: isWebSocketConnected,\n    on: (event, callback) => wsService.on(event, callback),\n    off: (event, callback) => wsService.off(event, callback),\n    send: (event, data) => wsService.send(event, data),\n    \n    // Métodos específicos de Signance\n    notifyUploadStart: (fileData) => wsService.notifyUploadStart(fileData),\n    requestPlaybackStatus: () => wsService.requestPlaybackStatus(),\n    sendPlayerCommand: (command, data) => wsService.sendPlayerCommand(command, data),\n    notifyScheduleChange: (scheduleData) => wsService.notifyScheduleChange(scheduleData),\n    requestSystemStats: () => wsService.requestSystemStats()\n  }\n}\n\nexport default wsService\n","import { render } from \"./PlayerView.vue?vue&type=template&id=607f58e6&scoped=true\"\nimport script from \"./PlayerView.vue?vue&type=script&lang=js\"\nexport * from \"./PlayerView.vue?vue&type=script&lang=js\"\n\nimport \"./PlayerView.vue?vue&type=style&index=0&id=607f58e6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-607f58e6\"]])\n\nexport default __exports__","/**\n * Player API - Endpoints públicos para el reproductor\n * Usa los endpoints públicos existentes en playlists.py\n */\nimport axios from 'axios'\nimport backendDetector from './backendDetector'\nimport { createProductionBackendDetector } from './productionDetector'\n\n// Configuración inicial de Axios para el reproductor\nlet playerApi = axios.create({\n  baseURL: '', // Se configurará dinámicamente\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\n// Flag para controlar la inicialización\nlet isPlayerAPIInitialized = false\nlet initializationPromise = null\n\n// Función para inicializar la API del reproductor\nconst initializePlayerAPI = async () => {\n  if (isPlayerAPIInitialized) return playerApi\n  if (initializationPromise) return initializationPromise\n\n  initializationPromise = (async () => {\n    try {\n      console.log('🎬 Inicializando API del reproductor...')\n      \n      // NUEVO: Verificar si estamos en modo producción\n      const productionConfig = createProductionBackendDetector()\n      \n      if (productionConfig) {\n        console.log('🎯 Player API en modo producción, usando mismo origen')\n        playerApi.defaults.baseURL = `${productionConfig.baseUrl}/api`\n        \n        // Verificar conectividad\n        await playerApi.get('/health', { timeout: 5000 })\n        \n        isPlayerAPIInitialized = true\n        console.log(`✅ Player API inicializada en modo producción: ${productionConfig.baseUrl}`)\n        return playerApi\n      }\n      \n      // Modo desarrollo: usar detección automática\n      console.log('🔧 Player API en modo desarrollo, detectando backend...')\n      \n      // Detectar backend automáticamente\n      const { baseUrl } = await backendDetector.detectBackend()\n      playerApi.defaults.baseURL = `${baseUrl}/api`\n      \n      // Hacer una prueba rápida de conectividad\n      await playerApi.get('/health', { timeout: 5000 })\n      \n      isPlayerAPIInitialized = true\n      console.log(`✅ API del reproductor inicializada: ${baseUrl}`)\n      \n      return playerApi\n    } catch (error) {\n      console.error('❌ Error inicializando API del reproductor:', error)\n      // Fallback a localhost:8000\n      playerApi.defaults.baseURL = 'http://127.0.0.1:8000/api'\n      \n      try {\n        await playerApi.get('/health', { timeout: 3000 })\n        console.log('✅ API del reproductor inicializada con fallback localhost:8000')\n        isPlayerAPIInitialized = true\n        return playerApi\n      } catch (fallbackError) {\n        console.error('❌ Fallback también falló:', fallbackError)\n        throw new Error('No se pudo conectar con el backend para el reproductor.')\n      }\n    }\n  })()\n\n  return initializationPromise\n}\n\n// Función helper para asegurar inicialización\nconst ensurePlayerAPIInitialized = async () => {\n  if (!isPlayerAPIInitialized) {\n    await initializePlayerAPI()\n  }\n  return playerApi\n}\n\n// API del reproductor (endpoints públicos)\nexport const playerAPI = {\n  // Listar playlists públicas\n  list: async (skip = 0, limit = 100) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/player/playlists?skip=${skip}&limit=${limit}`)\n  },\n  \n  // Alias para compatibilidad con PlayerView\n  listPlaylists: async (skip = 0, limit = 100) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/player/playlists?skip=${skip}&limit=${limit}`)\n  },\n  \n  // Obtener playlist específica para reproductor (con medias completas)\n  getPlaylist: async (playlistId) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/player/playlists/${playlistId}/complete`)\n  },\n  \n  // Obtener información básica de una playlist\n  getPlaylistInfo: async (playlistId) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/player/playlists/${playlistId}`)\n  }\n}\n\n// Función para obtener URL de media\nexport const getMediaUrl = async (media) => {\n  if (!media) return ''\n  \n  console.log('🐛 getMediaUrl - Entrada:', media)\n  \n  try {\n    // Verificar si estamos en modo producción primero\n    const productionConfig = createProductionBackendDetector()\n    let baseUrl\n    \n    if (productionConfig) {\n      baseUrl = productionConfig.baseUrl\n      console.log('🐛 getMediaUrl - Usando producción:', baseUrl)\n    } else {\n      const detected = await backendDetector.detectBackend()\n      baseUrl = detected.baseUrl\n      console.log('🐛 getMediaUrl - Backend detectado:', detected)\n    }\n    \n    // Usar file_url si está disponible (debería empezar con /uploads/)\n    if (media.file_url) {\n      // file_url ya incluye /uploads/, así que solo agregamos el baseUrl\n      const finalUrl = `${baseUrl}${media.file_url}`\n      console.log('🐛 getMediaUrl - URL final con file_url:', finalUrl)\n      return finalUrl\n    }\n    \n    // Fallback: construir URL desde filepath o filename\n    let filepath = media.filepath || media.served_filename || media.filename\n    console.log('🐛 getMediaUrl - Filepath fallback:', filepath)\n    \n    // Asegurar que empiece con /uploads/\n    if (!filepath.startsWith('/uploads/')) {\n      filepath = `/uploads/${filepath}`\n    }\n    \n    const finalUrl = `${baseUrl}${filepath}`\n    console.log('🐛 getMediaUrl - URL final con fallback:', finalUrl)\n    return finalUrl\n  } catch (error) {\n    console.error('🐛 getMediaUrl - Error construyendo URL de media:', error)\n    \n    // Fallback URL con mejor manejo\n    let fallbackPath\n    if (media.file_url) {\n      fallbackPath = media.file_url\n    } else {\n      const filename = media.served_filename || media.filename\n      fallbackPath = `/uploads/${filename}`\n    }\n    \n    const fallbackUrl = `http://127.0.0.1:8000${fallbackPath}`\n    console.log('🐛 getMediaUrl - URL de fallback:', fallbackUrl)\n    return fallbackUrl\n  }\n}\n\nexport { initializePlayerAPI, ensurePlayerAPIInitialized }\n","<template>\n  <div class=\"media-card\" :class=\"{ 'compact-card': compact }\">\n    <!-- Previsualización -->\n    <div class=\"media-preview\">\n      <!-- Imagen -->\n      <div v-if=\"isImage\" class=\"image-preview\">\n        <img \n          :src=\"mediaUrl\" \n          :alt=\"media.filename\" \n          @error=\"handleImageError\"\n          class=\"preview-img\" \n        />\n      </div>\n      \n      <!-- Video -->\n      <div v-else-if=\"isVideo\" class=\"video-preview\">\n        <video \n          :src=\"mediaUrl\" \n          class=\"preview-video\" \n          muted \n          preload=\"metadata\"\n          @error=\"handleVideoError\"\n        />\n        <div class=\"video-overlay\">\n          <q-icon name=\"play_circle_filled\" size=\"2.5rem\" class=\"play-icon\" />\n          <div class=\"video-duration\" v-if=\"media.duration\">\n            {{ formatDuration(media.duration) }}\n          </div>\n        </div>\n      </div>\n      \n      <!-- Otros archivos -->\n      <div v-else class=\"file-preview\">\n        <q-icon :name=\"getFileIcon()\" size=\"3rem\" color=\"grey-6\" />\n      </div>\n    </div>\n\n    <!-- Información -->\n    <div class=\"media-info\">\n      <h4 class=\"media-title\" :title=\"media.filename\">{{ media.filename }}</h4>\n      <p class=\"media-meta\">\n        <span class=\"file-size\">{{ formatFileSize(media.file_size || media.size) }}</span>\n        <span v-if=\"media.created_at\" class=\"upload-date\">{{ formatDate(media.created_at) }}</span>\n      </p>\n    </div>\n\n    <!-- Acciones -->\n    <div class=\"media-actions\">\n      <q-btn \n        flat \n        round \n        icon=\"edit\"\n        @click=\"$emit('edit')\"\n        size=\"sm\"\n        color=\"primary\"\n      >\n        <q-tooltip>Editar</q-tooltip>\n      </q-btn>\n      <q-btn \n        flat \n        round \n        icon=\"delete\"\n        @click=\"$emit('delete')\"\n        size=\"sm\"\n        color=\"negative\"\n      >\n        <q-tooltip>Eliminar</q-tooltip>\n      </q-btn>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  media: {\n    type: Object,\n    required: true\n  },\n  backendBaseUrl: {\n    type: String,\n    default: ''\n  },\n  compact: {\n    type: Boolean,\n    default: false\n  }\n})\n\ndefineEmits(['edit', 'delete'])\n\n// Computed properties\nconst mediaUrl = computed(() => {\n  const baseUrl = props.backendBaseUrl || ''\n  const fileUrl = props.media.file_url || `/uploads/${props.media.served_filename || props.media.filename}`\n  return `${baseUrl}${fileUrl}`\n})\n\nconst isImage = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'image' || /\\.(jpg|jpeg|png|gif|webp|bmp)$/i.test(props.media.filename)\n})\n\nconst isVideo = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'video' || /\\.(mp4|avi|mov|mkv|webm)$/i.test(props.media.filename)\n})\n\n// Utility functions\nconst getFileIcon = () => {\n  const filename = props.media.filename || ''\n  const ext = filename.split('.').pop()?.toLowerCase()\n  \n  switch (ext) {\n    case 'pdf': return 'picture_as_pdf'\n    case 'doc':\n    case 'docx': return 'description'\n    case 'mp3':\n    case 'wav':\n    case 'aac': return 'audiotrack'\n    default: return 'insert_drive_file'\n  }\n}\n\nconst formatFileSize = (bytes) => {\n  if (!bytes) return 'N/A'\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\n}\n\nconst formatDuration = (seconds) => {\n  if (!seconds) return ''\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.floor(seconds % 60)\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('es-ES', { \n    day: '2-digit', \n    month: 'short',\n    year: 'numeric'\n  })\n}\n\nconst handleImageError = (event) => {\n  const img = event.target\n  const container = img.closest('.image-preview')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-preview\">\n        <q-icon name=\"broken_image\" size=\"3rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n\nconst handleVideoError = (event) => {\n  const video = event.target\n  const container = video.closest('.video-preview')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-preview\">\n        <q-icon name=\"error\" size=\"3rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n</script>\n\n<style scoped>\n.media-card {\n  background: white;\n  border-radius: 12px;\n  border: 1px solid #e5e7eb;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.media-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n}\n\n.body--dark .media-card {\n  background: #1f2937;\n  border-color: #374151;\n}\n\n.compact-card {\n  border-radius: 8px;\n}\n\n.compact-card:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n}\n\n/* Preview */\n.media-preview {\n  aspect-ratio: 16/9;\n  position: relative;\n  overflow: hidden;\n  background: #f9fafb;\n}\n\n.body--dark .media-preview {\n  background: #111827;\n}\n\n.image-preview,\n.video-preview,\n.file-preview {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.preview-img,\n.preview-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.play-icon {\n  color: white;\n  opacity: 0.9;\n}\n\n.video-duration {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.75rem;\n}\n\n/* Info */\n.media-info {\n  padding: 12px 16px;\n}\n\n.compact-card .media-info {\n  padding: 8px 12px;\n}\n\n.media-title {\n  margin: 0 0 4px 0;\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: #1f2937;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.body--dark .media-title {\n  color: #e5e7eb;\n}\n\n.compact-card .media-title {\n  font-size: 0.8rem;\n}\n\n.media-meta {\n  margin: 0;\n  font-size: 0.75rem;\n  color: #6b7280;\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.body--dark .media-meta {\n  color: #9ca3af;\n}\n\n/* Actions */\n.media-actions {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 8px;\n  padding: 4px;\n}\n\n.body--dark .media-actions {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.media-card:hover .media-actions {\n  opacity: 1;\n}\n\n.compact-card .media-actions {\n  top: 6px;\n  right: 6px;\n  padding: 2px;\n}\n</style>\n","import script from \"./MediaCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MediaCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MediaCard.vue?vue&type=style&index=0&id=0ad5556d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ad5556d\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-list-item\">\n    <!-- Thumbnail -->\n    <div class=\"media-thumbnail\">\n      <div v-if=\"isImage\" class=\"image-thumb\">\n        <img \n          :src=\"mediaUrl\" \n          :alt=\"media.filename\" \n          @error=\"handleImageError\"\n        />\n      </div>\n      <div v-else-if=\"isVideo\" class=\"video-thumb\">\n        <video \n          :src=\"mediaUrl\" \n          muted \n          preload=\"metadata\"\n          @error=\"handleVideoError\"\n        />\n        <q-icon name=\"play_circle_filled\" class=\"play-overlay\" />\n      </div>\n      <div v-else class=\"file-thumb\">\n        <q-icon :name=\"getFileIcon()\" size=\"2rem\" />\n      </div>\n    </div>\n\n    <!-- Información -->\n    <div class=\"media-details\">\n      <div class=\"media-name\">\n        <h4>{{ media.filename }}</h4>\n        <p v-if=\"media.description\">{{ media.description }}</p>\n      </div>\n      \n      <div class=\"media-metadata\">\n        <div class=\"meta-item\">\n          <q-icon name=\"folder\" size=\"sm\" />\n          <span>{{ getFileType() }}</span>\n        </div>\n        <div class=\"meta-item\">\n          <q-icon name=\"data_usage\" size=\"sm\" />\n          <span>{{ formatFileSize(media.file_size || media.size) }}</span>\n        </div>\n        <div v-if=\"media.duration\" class=\"meta-item\">\n          <q-icon name=\"schedule\" size=\"sm\" />\n          <span>{{ formatDuration(media.duration) }}</span>\n        </div>\n        <div v-if=\"media.created_at\" class=\"meta-item\">\n          <q-icon name=\"event\" size=\"sm\" />\n          <span>{{ formatDate(media.created_at) }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Acciones -->\n    <div class=\"media-list-actions\">\n      <q-btn \n        flat \n        round \n        icon=\"edit\"\n        @click=\"$emit('edit')\"\n        size=\"sm\"\n        color=\"primary\"\n      >\n        <q-tooltip>Editar</q-tooltip>\n      </q-btn>\n      <q-btn \n        flat \n        round \n        icon=\"delete\"\n        @click=\"$emit('delete')\"\n        size=\"sm\"\n        color=\"negative\"\n      >\n        <q-tooltip>Eliminar</q-tooltip>\n      </q-btn>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  media: {\n    type: Object,\n    required: true\n  },\n  backendBaseUrl: {\n    type: String,\n    default: ''\n  }\n})\n\ndefineEmits(['edit', 'delete'])\n\n// Computed properties\nconst mediaUrl = computed(() => {\n  const baseUrl = props.backendBaseUrl || ''\n  const fileUrl = props.media.file_url || `/uploads/${props.media.served_filename || props.media.filename}`\n  return `${baseUrl}${fileUrl}`\n})\n\nconst isImage = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'image' || /\\.(jpg|jpeg|png|gif|webp|bmp)$/i.test(props.media.filename)\n})\n\nconst isVideo = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'video' || /\\.(mp4|avi|mov|mkv|webm)$/i.test(props.media.filename)\n})\n\n// Utility functions\nconst getFileIcon = () => {\n  const filename = props.media.filename || ''\n  const ext = filename.split('.').pop()?.toLowerCase()\n  \n  switch (ext) {\n    case 'pdf': return 'picture_as_pdf'\n    case 'doc':\n    case 'docx': return 'description'\n    case 'mp3':\n    case 'wav':\n    case 'aac': return 'audiotrack'\n    default: return 'insert_drive_file'\n  }\n}\n\nconst getFileType = () => {\n  const type = props.media.file_type || props.media.media_type\n  if (type) return type.charAt(0).toUpperCase() + type.slice(1)\n  \n  const filename = props.media.filename || ''\n  const ext = filename.split('.').pop()?.toLowerCase()\n  return ext ? ext.toUpperCase() : 'Archivo'\n}\n\nconst formatFileSize = (bytes) => {\n  if (!bytes) return 'N/A'\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\n}\n\nconst formatDuration = (seconds) => {\n  if (!seconds) return ''\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.floor(seconds % 60)\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('es-ES', { \n    day: '2-digit', \n    month: 'short',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst handleImageError = (event) => {\n  const img = event.target\n  const container = img.closest('.image-thumb')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-thumb\">\n        <q-icon name=\"broken_image\" size=\"2rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n\nconst handleVideoError = (event) => {\n  const video = event.target\n  const container = video.closest('.video-thumb')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-thumb\">\n        <q-icon name=\"error\" size=\"2rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n</script>\n\n<style scoped>\n.media-list-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n  transition: all 0.2s ease;\n}\n\n.media-list-item:hover {\n  border-color: #d1d5db;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.body--dark .media-list-item {\n  background: #1f2937;\n  border-color: #374151;\n}\n\n.body--dark .media-list-item:hover {\n  border-color: #4b5563;\n}\n\n/* Thumbnail */\n.media-thumbnail {\n  flex-shrink: 0;\n  width: 80px;\n  height: 60px;\n  border-radius: 6px;\n  overflow: hidden;\n  background: #f9fafb;\n  position: relative;\n}\n\n.body--dark .media-thumbnail {\n  background: #111827;\n}\n\n.image-thumb,\n.video-thumb,\n.file-thumb {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-thumb img,\n.video-thumb video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.play-overlay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: white;\n  font-size: 1.5rem;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.file-thumb {\n  color: #6b7280;\n}\n\n/* Details */\n.media-details {\n  flex: 1;\n  min-width: 0;\n}\n\n.media-name h4 {\n  margin: 0 0 4px 0;\n  font-size: 1rem;\n  font-weight: 500;\n  color: #1f2937;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.body--dark .media-name h4 {\n  color: #e5e7eb;\n}\n\n.media-name p {\n  margin: 0;\n  font-size: 0.875rem;\n  color: #6b7280;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.body--dark .media-name p {\n  color: #9ca3af;\n}\n\n.media-metadata {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-top: 8px;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  color: #6b7280;\n}\n\n.body--dark .meta-item {\n  color: #9ca3af;\n}\n\n.meta-item .q-icon {\n  color: #9ca3af;\n}\n\n/* Actions */\n.media-list-actions {\n  flex-shrink: 0;\n  display: flex;\n  gap: 8px;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .media-list-item {\n    gap: 12px;\n    padding: 12px;\n  }\n  \n  .media-thumbnail {\n    width: 60px;\n    height: 45px;\n  }\n  \n  .media-metadata {\n    gap: 12px;\n  }\n  \n  .meta-item {\n    font-size: 0.7rem;\n  }\n}\n</style>\n","import script from \"./MediaListItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MediaListItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MediaListItem.vue?vue&type=style&index=0&id=4dde5f74&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4dde5f74\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-gallery\" :class=\"{ 'full-view': mode === 'full', 'compact-view': mode === 'compact' }\">\n    <!-- Header con controles -->\n    <div class=\"gallery-header\">\n      <div class=\"header-info\">\n        <q-icon name=\"video_library\" size=\"2rem\" />\n        <div class=\"header-text\">\n          <h3>{{ title || 'Archivos Multimedia' }}</h3>\n          <p>{{ subtitle || (mode === 'full' ? 'Gestiona tu biblioteca completa' : 'Archivos recientes') }}</p>\n        </div>\n      </div>\n      \n      <div class=\"header-controls\">\n        <!-- Búsqueda (solo en modo full) -->\n        <q-input\n          v-if=\"mode === 'full'\"\n          v-model=\"searchQuery\"\n          placeholder=\"Buscar archivos...\"\n          outlined\n          dense\n          class=\"search-input\"\n        >\n          <template v-slot:prepend>\n            <q-icon name=\"search\" />\n          </template>\n          <template v-slot:append>\n            <q-icon \n              v-if=\"searchQuery\" \n              name=\"clear\" \n              @click=\"searchQuery = ''\" \n              class=\"cursor-pointer\" \n            />\n          </template>\n        </q-input>\n        \n        <!-- Controles de vista (solo en modo full) -->\n        <div v-if=\"mode === 'full'\" class=\"view-controls\">\n          <q-btn-toggle\n            v-model=\"viewMode\"\n            :options=\"[\n              { label: 'Tarjetas', value: 'grid', icon: 'grid_view' },\n              { label: 'Lista', value: 'list', icon: 'view_list' }\n            ]\"\n            flat\n            color=\"primary\"\n            toggle-color=\"primary\"\n            no-caps\n          />\n        </div>\n        \n        <!-- Botón refresh -->\n        <q-btn \n          flat \n          icon=\"refresh\" \n          @click=\"$emit('refresh')\" \n          :loading=\"loading\" \n          round \n          color=\"primary\"\n        >\n          <q-tooltip>Actualizar</q-tooltip>\n        </q-btn>\n      </div>\n    </div>\n\n    <!-- Contenido -->\n    <div class=\"gallery-content\">\n      <!-- Estado vacío -->\n      <div v-if=\"filteredMedia.length === 0 && !loading\" class=\"empty-state\">\n        <q-icon name=\"video_library\" size=\"4rem\" color=\"grey-5\" />\n        <h4>{{ searchQuery ? 'No se encontraron archivos' : 'No hay archivos multimedia' }}</h4>\n        <p>{{ searchQuery ? 'Intenta con otros términos de búsqueda' : 'Sube tus primeros archivos multimedia' }}</p>\n      </div>\n\n      <!-- Loading state -->\n      <div v-else-if=\"loading\" class=\"loading-state\">\n        <q-skeleton height=\"150px\" class=\"q-mb-md\" v-for=\"n in (mode === 'compact' ? 8 : 6)\" :key=\"n\" />\n      </div>\n\n      <!-- Vista de tarjetas -->\n      <div v-else-if=\"viewMode === 'grid'\" class=\"media-grid\" :class=\"{ 'compact-grid': mode === 'compact' }\">\n        <MediaCard\n          v-for=\"media in displayedMedia\"\n          :key=\"media.id\"\n          :media=\"media\"\n          :backend-base-url=\"backendBaseUrl\"\n          :compact=\"mode === 'compact'\"\n          @edit=\"$emit('edit', media)\"\n          @delete=\"$emit('delete', media.id)\"\n        />\n      </div>\n\n      <!-- Vista de lista (solo modo full) -->\n      <div v-else-if=\"viewMode === 'list' && mode === 'full'\" class=\"media-list\">\n        <MediaListItem\n          v-for=\"media in displayedMedia\"\n          :key=\"media.id\"\n          :media=\"media\"\n          :backend-base-url=\"backendBaseUrl\"\n          @edit=\"$emit('edit', media)\"\n          @delete=\"$emit('delete', media.id)\"\n        />\n      </div>\n    </div>\n\n    <!-- Mostrar más en modo compact -->\n    <div v-if=\"mode === 'compact' && mediaFiles.length > maxItems\" class=\"show-more\">\n      <q-btn \n        flat \n        color=\"primary\" \n        :label=\"`Ver todos (${mediaFiles.length} archivos)`\"\n        icon=\"arrow_forward\"\n        @click=\"$emit('show-all')\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport MediaCard from './MediaCard.vue'\nimport MediaListItem from './MediaListItem.vue'\n\nconst props = defineProps({\n  mediaFiles: {\n    type: Array,\n    default: () => []\n  },\n  backendBaseUrl: {\n    type: String,\n    default: ''\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  },\n  mode: {\n    type: String,\n    default: 'compact', // 'compact' o 'full'\n    validator: (value) => ['compact', 'full'].includes(value)\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  subtitle: {\n    type: String,\n    default: ''\n  },\n  maxItems: {\n    type: Number,\n    default: 6\n  }\n})\n\ndefineEmits(['refresh', 'edit', 'delete', 'show-all'])\n\n// Estados reactivos\nconst searchQuery = ref('')\nconst viewMode = ref('grid')\n\n// Computed para filtrar y ordenar medios\nconst filteredMedia = computed(() => {\n  if (!props.mediaFiles) return []\n  \n  let filtered = [...props.mediaFiles]\n  \n  // Filtrar por búsqueda\n  if (searchQuery.value) {\n    const query = searchQuery.value.toLowerCase()\n    filtered = filtered.filter(media => \n      media.filename?.toLowerCase().includes(query) ||\n      media.description?.toLowerCase().includes(query)\n    )\n  }\n  \n  // Ordenar por fecha de creación (más recientes primero)\n  filtered.sort((a, b) => {\n    const dateA = new Date(a.created_at || a.upload_date || 0)\n    const dateB = new Date(b.created_at || b.upload_date || 0)\n    return dateB - dateA\n  })\n  \n  return filtered\n})\n\n// Computed para limitar elementos en modo compact\nconst displayedMedia = computed(() => {\n  if (props.mode === 'compact') {\n    return filteredMedia.value.slice(0, props.maxItems)\n  }\n  return filteredMedia.value\n})\n</script>\n\n<style scoped>\n.media-gallery {\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  border: 1px solid #e5e7eb;\n  overflow: hidden;\n}\n\n.body--dark .media-gallery {\n  background: rgba(30, 30, 30, 0.95);\n  border-color: #374151;\n}\n\n/* Header */\n.gallery-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.body--dark .gallery-header {\n  border-bottom-color: #374151;\n}\n\n.header-info {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.header-info .q-icon {\n  color: #6366f1;\n}\n\n.header-text h3 {\n  margin: 0 0 4px 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: #1f2937;\n}\n\n.body--dark .header-text h3 {\n  color: #e2e8f0;\n}\n\n.header-text p {\n  margin: 0;\n  font-size: 0.875rem;\n  color: #6b7280;\n}\n\n.body--dark .header-text p {\n  color: #9ca3af;\n}\n\n.header-controls {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.search-input {\n  min-width: 250px;\n}\n\n.view-controls {\n  display: flex;\n  align-items: center;\n}\n\n/* Content */\n.gallery-content {\n  padding: 24px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.empty-state h4 {\n  margin: 16px 0 8px 0;\n  font-size: 1.2rem;\n  color: #374151;\n}\n\n.body--dark .empty-state h4 {\n  color: #d1d5db;\n}\n\n.empty-state p {\n  margin: 0;\n  color: #6b7280;\n}\n\n.loading-state {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 20px;\n}\n\n/* Media Grid */\n.media-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n}\n\n.compact-grid {\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 16px;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n/* Media List */\n.media-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n/* Show More */\n.show-more {\n  padding: 16px 24px;\n  border-top: 1px solid #e5e7eb;\n  text-align: center;\n}\n\n.body--dark .show-more {\n  border-top-color: #374151;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .gallery-header {\n    flex-direction: column;\n    gap: 16px;\n    align-items: stretch;\n  }\n  \n  .header-controls {\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 12px;\n  }\n  \n  .search-input {\n    min-width: auto;\n    flex: 1;\n    max-width: 100%;\n  }\n  \n  .view-controls {\n    order: 2;\n    flex: 1;\n    justify-content: center;\n  }\n  \n  .media-grid {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    gap: 12px;\n  }\n  \n  .compact-grid {\n    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n    gap: 12px;\n    max-height: 400px;\n  }\n}\n\n@media (max-width: 480px) {\n  .gallery-header {\n    padding: 16px;\n  }\n  \n  .gallery-content {\n    padding: 16px;\n  }\n  \n  .header-controls {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .view-controls {\n    order: 1;\n  }\n  \n  .search-input {\n    order: 2;\n  }\n}\n\n/* Modo Full vs Compact */\n.full-view {\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n}\n\n.compact-view {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n}\n\n.compact-view .gallery-header {\n  padding: 16px 20px;\n}\n\n.compact-view .gallery-content {\n  padding: 20px;\n}\n\n/* View Controls Styling */\n.view-controls :deep(.q-btn-toggle) {\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.body--dark .view-controls :deep(.q-btn-toggle) {\n  border-color: #374151;\n}\n\n.view-controls :deep(.q-btn) {\n  padding: 8px 16px;\n  min-height: 36px;\n}\n\n.view-controls :deep(.q-btn.q-btn--active) {\n  background-color: #6366f1 !important;\n  color: white !important;\n}\n</style>\n","import script from \"./MediaGallery.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MediaGallery.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MediaGallery.vue?vue&type=style&index=0&id=8cf16336&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8cf16336\"]])\n\nexport default __exports__","<template>\n  <div class=\"config-container\">\n    <!-- Toggle de tema -->\n    <div class=\"theme-toggle-container\">\n      <ThemeToggle />\n    </div>\n    \n    <!-- Loading overlay -->\n    <div v-if=\"initialLoading\" class=\"loading-overlay\">\n      <q-spinner-dots size=\"3rem\" />\n      <p>Cargando configuración...</p>\n    </div>\n    \n    <div v-else class=\"config-content\">\n      <div class=\"config-card\">\n        <!-- Header con información del estado -->\n        <div class=\"config-header\">\n          <div class=\"header-content\">\n            <div class=\"logo-container\">\n              <q-icon name=\"business\" class=\"main-logo\" />\n              <div class=\"logo-glow\"></div>\n            </div>\n            <h2 class=\"page-title\">\n              {{ isUpdate ? 'Actualizar Negocio' : 'Configurar Negocio' }}\n            </h2>\n            <p class=\"page-subtitle\">\n              {{ isUpdate ? 'Modifica la información de tu negocio' : 'Configura tu espacio LGBT+ friendly' }}\n            </p>\n            <div class=\"pride-divider\"></div>\n            \n            <!-- Status badge -->\n            <div v-if=\"isUpdate\" class=\"status-badge\">\n              <q-icon name=\"check_circle\" />\n              <span>Negocio ya configurado</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Form section -->\n        <div class=\"config-form-section\">\n          <q-form @submit.prevent=\"save\" class=\"config-form\">\n            <!-- Nombre del negocio -->\n            <div class=\"input-group\">\n              <q-input \n                v-model=\"form.name\" \n                label=\"Nombre del negocio\" \n                outlined\n                dense\n                required \n                class=\"modern-input\"\n                :rules=\"[val => !!val || 'El nombre es requerido']\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"store\" class=\"input-icon\" />\n                </template>\n              </q-input>\n            </div>\n\n            <!-- Upload y preview del logo -->\n            <div class=\"input-group\">\n              <div class=\"logo-upload-section\">\n                <div class=\"logo-upload-header\">\n                  <q-icon name=\"image\" class=\"input-icon\" />\n                  <span>Logo del negocio</span>\n                </div>\n                \n                <!-- Vista previa del logo actual -->\n                <div v-if=\"currentLogoPreview\" class=\"current-logo-preview\">\n                  <div class=\"preview-label\">Logo actual:</div>\n                  <div class=\"logo-preview-container\">\n                    <img :src=\"currentLogoPreview\" alt=\"Logo actual\" class=\"logo-preview\" />\n                    <q-btn \n                      flat \n                      round \n                      icon=\"close\" \n                      size=\"sm\" \n                      @click=\"clearCurrentLogo\"\n                      class=\"remove-logo-btn\"\n                    />\n                  </div>\n                </div>\n\n                <!-- Upload de nuevo logo -->\n                <q-file \n                  v-model=\"form.logo\" \n                  label=\"Subir nuevo logo (PNG, JPG, JPEG)\" \n                  accept=\"image/png,image/jpg,image/jpeg\"\n                  outlined\n                  dense\n                  class=\"modern-input\"\n                  @update:model-value=\"onLogoSelected\"\n                  :max-file-size=\"5242880\"\n                >\n                  <template v-slot:prepend>\n                    <q-icon name=\"upload\" />\n                  </template>\n                </q-file>\n\n                <!-- Vista previa del nuevo logo -->\n                <div v-if=\"newLogoPreview\" class=\"new-logo-preview\">\n                  <div class=\"preview-label\">Nuevo logo:</div>\n                  <div class=\"logo-preview-container\">\n                    <img :src=\"newLogoPreview\" alt=\"Nuevo logo\" class=\"logo-preview\" />\n                    <q-btn \n                      flat \n                      round \n                      icon=\"close\" \n                      size=\"sm\" \n                      @click=\"clearNewLogo\"\n                      class=\"remove-logo-btn\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Botones de acción -->\n            <div class=\"form-actions\">\n              <q-btn \n                v-if=\"isUpdate\"\n                flat\n                color=\"grey\"\n                label=\"Cancelar\"\n                @click=\"goToAdmin\"\n                class=\"cancel-btn\"\n              />\n              <q-btn \n                type=\"submit\" \n                :label=\"isUpdate ? 'Actualizar Configuración' : 'Guardar Configuración'\"\n                class=\"save-btn\"\n                size=\"md\"\n                unelevated\n                :loading=\"loading\" \n                :disable=\"!form.name\"\n              />\n            </div>\n          </q-form>\n        </div>\n\n        <!-- Footer con mensaje inclusivo -->\n        <div class=\"footer-section\">\n          <div class=\"diversity-message\">\n            <q-icon name=\"favorite\" class=\"heart-icon\" />\n            <span>Programado por un gei 🏳️‍🌈</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { businessAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\nimport { useTheme } from '../composables/useTheme'\nimport ThemeToggle from '../components/ThemeToggle.vue'\n\nexport default {\n  name: 'ConfigView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const { loadTheme } = useTheme()\n    \n    // Estado reactivo\n    const loading = ref(false)\n    const initialLoading = ref(true)\n    const isUpdate = ref(false)\n    const currentBusiness = ref(null)\n    const currentLogoPreview = ref(null)\n    const newLogoPreview = ref(null)\n    \n    const form = ref({ \n      name: '', \n      logo: null \n    })\n\n    // Cargar datos existentes del negocio\n    const loadBusinessData = async () => {\n      try {\n        const response = await businessAPI.get()\n        if (response.data) {\n          currentBusiness.value = response.data\n          form.value.name = response.data.name || ''\n          isUpdate.value = true\n          \n          // Cargar logo si existe\n          if (response.data.id) {\n            try {\n              const logoResponse = await businessAPI.getLogo()\n              if (logoResponse.data?.logo) {\n                currentLogoPreview.value = `data:image/png;base64,${logoResponse.data.logo}`\n              }\n            } catch (error) {\n              console.log('No hay logo existente')\n            }\n          }\n        }\n      } catch (error) {\n        // Si no existe negocio, es creación\n        console.log('No hay negocio configurado, será creación')\n        isUpdate.value = false\n      } finally {\n        initialLoading.value = false\n      }\n    }\n\n    // Manejar selección de logo\n    const onLogoSelected = (file) => {\n      if (file) {\n        // Validar tipo de archivo\n        const validTypes = ['image/png', 'image/jpeg', 'image/jpg']\n        if (!validTypes.includes(file.type)) {\n          toast.error('Solo se permiten archivos PNG, JPG o JPEG')\n          form.value.logo = null\n          return\n        }\n\n        // Validar tamaño (5MB max)\n        if (file.size > 5242880) {\n          toast.error('El archivo es muy grande. Máximo 5MB.')\n          form.value.logo = null\n          return\n        }\n\n        // Crear vista previa\n        const reader = new FileReader()\n        reader.onload = (e) => {\n          newLogoPreview.value = e.target.result\n        }\n        reader.readAsDataURL(file)\n      } else {\n        newLogoPreview.value = null\n      }\n    }\n\n    // Limpiar logo actual\n    const clearCurrentLogo = () => {\n      currentLogoPreview.value = null\n      // Si estamos actualizando, esto significa que queremos quitar el logo\n      if (isUpdate.value) {\n        toast.info('El logo actual será eliminado al guardar')\n      }\n    }\n\n    // Limpiar nuevo logo\n    const clearNewLogo = () => {\n      form.value.logo = null\n      newLogoPreview.value = null\n    }\n\n    // Guardar configuración\n    const save = async () => {\n      if (!form.value.name) {\n        toast.warning('Ingresa el nombre del negocio')\n        return\n      }\n\n      loading.value = true\n      \n      try {\n        const formData = {\n          name: form.value.name,\n          logo: form.value.logo\n        }\n\n        let response\n        if (isUpdate.value) {\n          // Si estamos actualizando\n          response = await businessAPI.update(formData)\n          toast.success('¡Negocio actualizado exitosamente!')\n        } else {\n          // Si estamos creando\n          response = await businessAPI.create(formData)\n          toast.success('¡Negocio configurado exitosamente!')\n        }\n\n        // Redirigir según el contexto\n        if (isUpdate.value) {\n          router.push('/admin')\n        } else {\n          router.push('/login')\n        }\n\n      } catch (err) {\n        const errorMessage = isUpdate.value \n          ? 'Error actualizando la configuración del negocio'\n          : 'Error guardando la configuración del negocio'\n        \n        toast.error(errorMessage)\n        console.error('Error:', err)\n      } finally {\n        loading.value = false\n      }\n    }\n\n    // Navegar al admin\n    const goToAdmin = () => {\n      router.push('/admin')\n    }\n\n    // Inicialización\n    onMounted(async () => {\n      loadTheme()\n      await loadBusinessData()\n    })\n\n    return { \n      form, \n      save, \n      loading,\n      initialLoading,\n      isUpdate,\n      currentBusiness,\n      currentLogoPreview,\n      newLogoPreview,\n      onLogoSelected,\n      clearCurrentLogo,\n      clearNewLogo,\n      goToAdmin\n    }\n  }\n}\n</script>\n\n<style scoped>\n.config-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);\n  padding: 20px 0;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.theme-toggle-container {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.loading-overlay {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-primary);\n  text-align: center;\n}\n\n.loading-overlay p {\n  margin-top: 16px;\n  font-size: 1.1rem;\n  font-weight: 500;\n}\n\n.config-content {\n  width: 100%;\n  max-width: 600px;\n  padding: 0 20px;\n}\n\n.config-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 20px;\n  overflow: hidden;\n  backdrop-filter: blur(20px);\n  box-shadow: var(--shadow-xl);\n}\n\n.config-header {\n  text-align: center;\n  background: var(--surface);\n  padding: 40px 24px 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.header-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.logo-container {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 24px;\n}\n\n.main-logo {\n  font-size: 4rem;\n  color: var(--primary);\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n}\n\n.logo-glow {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 80px;\n  height: 80px;\n  background: radial-gradient(circle, rgba(var(--primary-rgb), 0.3), transparent);\n  border-radius: 50%;\n  animation: pulse 3s ease-in-out infinite;\n  z-index: -1;\n}\n\n@keyframes pulse {\n  0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }\n  50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }\n}\n\n.page-title {\n  margin: 0 0 8px 0;\n  font-size: 2.2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n\n.page-subtitle {\n  margin: 0 0 24px 0;\n  font-size: 0.95rem;\n  color: var(--text-secondary);\n}\n\n.pride-divider {\n  width: 80px;\n  height: 4px;\n  background: var(--primary);\n  border-radius: 2px;\n  margin: 0 auto 16px auto;\n}\n\n.status-badge {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 16px;\n  background: rgba(var(--success-rgb), 0.1);\n  border: 1px solid var(--success);\n  border-radius: 20px;\n  color: var(--success);\n  font-size: 0.9rem;\n  font-weight: 500;\n  margin-top: 16px;\n}\n\n.config-form-section {\n  padding: 24px;\n}\n\n.config-form {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.input-group {\n  position: relative;\n}\n\n.modern-input {\n  border-radius: 12px !important;\n}\n\n.modern-input :deep(.q-field__control) {\n  border-radius: 12px !important;\n  border-color: var(--border);\n  background: var(--background);\n}\n\n.modern-input :deep(.q-field__control:hover) {\n  border-color: var(--primary);\n}\n\n.modern-input :deep(.q-field__control.q-field__control--focused) {\n  border-color: var(--primary) !important;\n  box-shadow: 0 0 0 2px rgba(var(--primary-rgb), 0.2);\n}\n\n.modern-input :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.modern-input :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.modern-input :deep(.q-field__control.q-field__control--focused .q-field__label) {\n  color: var(--primary) !important;\n}\n\n.modern-input :deep(.q-field__append) {\n  color: var(--text-secondary);\n}\n\n.modern-input :deep(.q-field__prepend) {\n  color: var(--primary);\n}\n\n/* Estilos específicos para q-file */\n.modern-input.q-file :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control) {\n  background: var(--background) !important;\n}\n\n.modern-input.q-file :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control.q-field__control--focused .q-field__label) {\n  color: var(--primary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control .q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control .q-field__suffix) {\n  color: var(--text-secondary) !important;\n}\n\n/* Asegurar que el placeholder sea visible */\n.modern-input :deep(.q-field__native::placeholder) {\n  color: var(--text-secondary) !important;\n  opacity: 0.6;\n}\n\n.input-icon {\n  color: var(--primary) !important;\n}\n\n/* Logo upload section */\n.logo-upload-section {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.logo-upload-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 500;\n  margin-bottom: 8px;\n  color: var(--text-primary) !important;\n}\n\n.logo-upload-header .input-icon {\n  color: var(--primary) !important;\n}\n\n.current-logo-preview,\n.new-logo-preview {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.preview-label {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--text-secondary) !important;\n}\n\n.logo-preview-container {\n  position: relative;\n  display: inline-block;\n  width: fit-content;\n}\n\n.logo-preview {\n  width: 120px;\n  height: 120px;\n  object-fit: cover;\n  border-radius: 12px;\n  border: 2px solid var(--border);\n  box-shadow: var(--shadow-md);\n}\n\n.remove-logo-btn {\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  background: var(--negative) !important;\n  color: white !important;\n  width: 24px !important;\n  height: 24px !important;\n  min-width: 24px !important;\n  border-radius: 50% !important;\n}\n\n.form-actions {\n  margin-top: 16px;\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n}\n\n.cancel-btn {\n  flex: 1;\n  min-width: 120px;\n  height: 50px;\n  border-radius: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  color: var(--text-secondary);\n  border: 2px solid var(--border);\n  transition: all 0.3s ease;\n}\n\n.cancel-btn:hover {\n  background: var(--hover-surface);\n  border-color: var(--text-secondary);\n}\n\n.save-btn {\n  flex: 2;\n  min-width: 200px;\n  height: 50px;\n  border-radius: 12px;\n  background: var(--primary);\n  color: white;\n  font-weight: 600;\n  font-size: 1.1rem;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  transition: all 0.3s ease;\n  border: none;\n}\n\n.save-btn:hover {\n  background: var(--primary-dark);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-lg);\n}\n\n.save-btn:active {\n  transform: translateY(0);\n}\n\n.save-btn:disabled {\n  background: var(--text-secondary);\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.footer-section {\n  padding: 24px;\n  border-top: 1px solid var(--border);\n  text-align: center;\n  background: var(--background);\n}\n\n.diversity-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n}\n\n.heart-icon {\n  color: var(--primary);\n  animation: heartbeat 2s ease-in-out infinite;\n}\n\n@keyframes heartbeat {\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.1); }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .config-container {\n    padding: 10px;\n  }\n  \n  .theme-toggle-container {\n    top: 10px;\n    right: 10px;\n  }\n  \n  .config-header {\n    padding: 30px 20px 20px;\n  }\n  \n  .config-form-section {\n    padding: 20px;\n  }\n  \n  .page-title {\n    font-size: 1.8rem;\n  }\n  \n  .main-logo {\n    font-size: 3rem;\n  }\n\n  .form-actions {\n    flex-direction: column;\n  }\n\n  .cancel-btn,\n  .save-btn {\n    flex: 1;\n    min-width: 100%;\n  }\n\n  .logo-preview {\n    width: 100px;\n    height: 100px;\n  }\n\n  .config-content {\n    max-width: 100%;\n    padding: 0 10px;\n  }\n}\n\n/* Smooth transitions */\n.config-card {\n  transition: all 0.3s ease;\n}\n\n.logo-preview {\n  transition: all 0.3s ease;\n}\n\n.logo-preview:hover {\n  transform: scale(1.05);\n  box-shadow: var(--shadow-lg);\n}\n\n/* Focus styles */\n.modern-input :deep(.q-field__control--focused) {\n  outline: none;\n}\n\n.save-btn:focus {\n  outline: 2px solid var(--primary);\n  outline-offset: 2px;\n}\n\n.cancel-btn:focus {\n  outline: 2px solid var(--text-secondary);\n  outline-offset: 2px;\n}\n\n/* Loading state */\n.save-btn .q-spinner {\n  color: white;\n}\n</style>\n\n","import { render } from \"./ConfigView.vue?vue&type=template&id=e2c0c8dc&scoped=true\"\nimport script from \"./ConfigView.vue?vue&type=script&lang=js\"\nexport * from \"./ConfigView.vue?vue&type=script&lang=js\"\n\nimport \"./ConfigView.vue?vue&type=style&index=0&id=e2c0c8dc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2c0c8dc\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-uploader\">\n    <!-- Zona de arrastrar y soltar mejorada -->\n    <div \n      class=\"upload-zone\"\n      :class=\"{ \n        'drag-over': isDragOver, \n        'has-file': selectedFile,\n        'uploading': isUploading \n      }\"\n      @dragover.prevent=\"handleDragOver\"\n      @dragleave.prevent=\"handleDragLeave\" \n      @drop.prevent=\"handleDrop\"\n      @click=\"triggerFileSelect\"\n    >\n      <input \n        ref=\"fileInput\"\n        type=\"file\"\n        accept=\"image/*,video/*\"\n        @change=\"handleFileSelect\"\n        class=\"hidden-input\"\n      />\n      \n      <!-- Estado normal - sin archivo -->\n      <div v-if=\"!selectedFile && !isUploading\" class=\"upload-prompt\">\n        <div class=\"upload-icon\">\n          <q-icon name=\"cloud_upload\" size=\"3rem\" />\n        </div>\n        <h4>Arrastra archivos aquí</h4>\n        <p>o haz clic para seleccionar</p>\n        <div class=\"supported-formats\">\n          <q-chip size=\"sm\" color=\"primary\" text-color=\"white\">JPG</q-chip>\n          <q-chip size=\"sm\" color=\"primary\" text-color=\"white\">PNG</q-chip>\n          <q-chip size=\"sm\" color=\"secondary\" text-color=\"white\">MP4</q-chip>\n          <q-chip size=\"sm\" color=\"secondary\" text-color=\"white\">WebM</q-chip>\n        </div>\n        <div class=\"size-limit\">Máximo 100MB</div>\n      </div>\n\n      <!-- Archivo seleccionado -->\n      <div v-else-if=\"selectedFile && !isUploading\" class=\"file-selected\">\n        <div class=\"file-preview\">\n          <!-- Vista previa de imagen -->\n          <div v-if=\"previewUrl && metadata.media_type === 'image'\" class=\"image-preview\">\n            <img :src=\"previewUrl\" :alt=\"selectedFile.name\" />\n          </div>\n          <!-- Icono para videos y otros archivos -->\n          <div v-else class=\"file-icon\">\n            <q-icon :name=\"getFileIcon(selectedFile.type)\" size=\"3rem\" />\n          </div>\n        </div>\n        \n        <div class=\"file-details\">\n          <h4>{{ selectedFile.name }}</h4>\n          <div class=\"file-meta\">\n            <q-chip size=\"sm\" :color=\"getTypeColor(metadata.media_type)\" text-color=\"white\">\n              {{ metadata.media_type?.toUpperCase() || 'ARCHIVO' }}\n            </q-chip>\n            <span class=\"file-size\">{{ formatFileSize(selectedFile.size) }}</span>\n          </div>\n        </div>\n\n        <q-btn \n          round \n          flat \n          icon=\"close\" \n          @click.stop=\"resetForm\"\n          class=\"remove-file\"\n          size=\"sm\"\n        />\n      </div>\n\n      <!-- Estado de subida -->\n      <div v-else-if=\"isUploading\" class=\"upload-progress\">\n        <div class=\"progress-circle\">\n          <q-circular-progress\n            :value=\"uploadProgress.percent\"\n            size=\"60px\"\n            :thickness=\"0.2\"\n            color=\"primary\"\n            track-color=\"grey-3\"\n            class=\"q-ma-md\"\n          />\n          <div class=\"progress-text\">\n            {{ Math.round(uploadProgress.percent) }}%\n          </div>\n        </div>\n        <h4>{{ uploadProgress.message }}</h4>\n        <p>{{ selectedFile?.name }}</p>\n      </div>\n    </div>\n\n    <!-- Formulario de metadatos mejorado -->\n    <div v-if=\"selectedFile && !isUploading\" class=\"metadata-form\">\n      <div class=\"form-section\">\n        <h5>Detalles del archivo</h5>\n        \n        <div class=\"form-grid\">\n          <q-input\n            v-model=\"metadata.filename\"\n            label=\"Nombre del archivo\"\n            outlined\n            class=\"filename-input\"\n            :rules=\"[val => !!val || 'El nombre es requerido']\"\n          >\n            <template v-slot:prepend>\n              <q-icon name=\"edit\" />\n            </template>\n          </q-input>\n\n          <q-select\n            v-model=\"metadata.media_type\"\n            :options=\"mediaTypeOptions\"\n            label=\"Tipo de contenido\"\n            outlined\n            emit-value\n            map-options\n            :rules=\"[val => !!val || 'Selecciona el tipo']\"\n          >\n            <template v-slot:prepend>\n              <q-icon name=\"category\" />\n            </template>\n          </q-select>\n\n          <q-input\n            v-model.number=\"metadata.duration\"\n            label=\"Duración (segundos)\"\n            type=\"number\"\n            outlined\n            :hint=\"metadata.media_type === 'image' ? 'Para imágenes: tiempo de visualización' : 'Se detectará automáticamente para videos'\"\n          >\n            <template v-slot:prepend>\n              <q-icon name=\"schedule\" />\n            </template>\n          </q-input>\n        </div>\n      </div>\n\n      <!-- Acciones -->\n      <div class=\"form-actions\">\n        <q-btn\n          label=\"Cancelar\"\n          color=\"grey-7\"\n          flat\n          @click=\"resetForm\"\n          :disable=\"isUploading\"\n          class=\"cancel-btn\"\n        />\n        <q-btn\n          label=\"Subir archivo\"\n          color=\"primary\"\n          unelevated\n          @click=\"uploadFile\"\n          :loading=\"isUploading\"\n          :disable=\"!isFormValid\"\n          class=\"upload-btn\"\n        >\n          <template v-slot:loading>\n            Subiendo...\n          </template>\n        </q-btn>\n      </div>\n    </div>\n\n    <!-- Mensaje de éxito -->\n    <div v-if=\"uploadSuccess\" class=\"success-message\">\n      <q-icon name=\"check_circle\" size=\"2rem\" color=\"positive\" />\n      <h4>¡Archivo subido correctamente!</h4>\n      <p>{{ uploadedFileName }} está listo para usar</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, nextTick } from 'vue'\nimport { useToast } from 'vue-toastification'\nimport { mediaAPI, handleFileError } from '../services/api'\n\nexport default {\n  name: 'MediaUploader',\n  emits: ['upload-complete', 'upload-error', 'uploaded'],\n  setup(props, { emit }) {\n    const toast = useToast()\n\n    // Referencias del DOM\n    const fileInput = ref(null)\n\n    // Estados reactivos\n    const selectedFile = ref(null)\n    const isUploading = ref(false)\n    const isDragOver = ref(false)\n    const previewUrl = ref(null)\n    const uploadSuccess = ref(false)\n    const uploadedFileName = ref('')\n    \n    const metadata = reactive({\n      filename: '',\n      media_type: '',\n      duration: 5\n    })\n\n    const uploadProgress = reactive({\n      show: false,\n      percent: 0,\n      message: ''\n    })\n\n    // Opciones de tipo de media\n    const mediaTypeOptions = [\n      { label: 'Imagen', value: 'image' },\n      { label: 'Video', value: 'video' }\n    ]\n\n    // Computed\n    const isFormValid = computed(() => {\n      return selectedFile.value && \n             metadata.filename.trim() && \n             metadata.media_type &&\n             metadata.duration > 0\n    })\n\n    // Manejo de archivos\n    const triggerFileSelect = () => {\n      if (!isUploading.value) {\n        fileInput.value?.click()\n      }\n    }\n\n    const handleFileSelect = (event) => {\n      const file = event.target.files?.[0] || event\n      if (file && file instanceof File) {\n        processFile(file)\n      }\n    }\n\n    const processFile = (file) => {\n      // Validar tamaño\n      if (file.size > 104857600) { // 100MB\n        toast.error('El archivo es demasiado grande. Máximo 100MB.')\n        return\n      }\n\n      // Validar tipo\n      if (!file.type.startsWith('image/') && !file.type.startsWith('video/')) {\n        toast.error('Tipo de archivo no soportado. Solo imágenes y videos.')\n        return\n      }\n\n      selectedFile.value = file\n      metadata.filename = file.name.replace(/\\.[^/.]+$/, \"\") // Remover extensión\n      \n      // Detectar tipo automáticamente\n      if (file.type.startsWith('image/')) {\n        metadata.media_type = 'image'\n        metadata.duration = 5 // Duración por defecto para imágenes\n        createImagePreview(file)\n      } else if (file.type.startsWith('video/')) {\n        metadata.media_type = 'video'\n        metadata.duration = 30 // Valor temporal, será detectado por FFmpeg\n        previewUrl.value = null\n      }\n\n      uploadSuccess.value = false\n    }\n\n    const createImagePreview = (file) => {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        previewUrl.value = e.target.result\n      }\n      reader.readAsDataURL(file)\n    }\n\n    // Manejo de drag and drop\n    const handleDragOver = (event) => {\n      event.preventDefault()\n      isDragOver.value = true\n    }\n\n    const handleDragLeave = (event) => {\n      event.preventDefault()\n      isDragOver.value = false\n    }\n\n    const handleDrop = (event) => {\n      event.preventDefault()\n      isDragOver.value = false\n      \n      const files = event.dataTransfer.files\n      if (files.length > 0) {\n        processFile(files[0])\n      }\n    }\n\n    // Utilidades\n    const getFileIcon = (mimeType) => {\n      if (!mimeType) return 'description'\n      if (mimeType.startsWith('image/')) return 'image'\n      if (mimeType.startsWith('video/')) return 'videocam'\n      return 'description'\n    }\n\n    const getTypeColor = (type) => {\n      switch (type) {\n        case 'image': return 'orange'\n        case 'video': return 'purple'\n        default: return 'grey'\n      }\n    }\n\n    const formatFileSize = (bytes) => {\n      if (bytes === 0) return '0 Bytes'\n      \n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      \n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    // Subir archivo\n    const uploadFile = async () => {\n      if (!isFormValid.value) {\n        toast.warning('Completa todos los campos requeridos')\n        return\n      }\n\n      isUploading.value = true\n      uploadProgress.show = true\n      uploadProgress.percent = 0\n      uploadProgress.message = 'Preparando subida...'\n\n      try {\n        // Simular progreso inicial\n        const progressInterval = setInterval(() => {\n          if (uploadProgress.percent < 85) {\n            uploadProgress.percent += Math.random() * 15\n            if (uploadProgress.percent < 30) {\n              uploadProgress.message = 'Analizando archivo...'\n            } else if (uploadProgress.percent < 60) {\n              uploadProgress.message = 'Subiendo archivo...'\n            } else {\n              uploadProgress.message = 'Procesando multimedia...'\n            }\n          }\n        }, 300)\n\n        const fileData = {\n          file: selectedFile.value,\n          filename: metadata.filename,\n          media_type: metadata.media_type,\n          duration: metadata.duration\n        }\n\n        const response = await mediaAPI.upload(fileData)\n\n        clearInterval(progressInterval)\n        uploadProgress.percent = 100\n        uploadProgress.message = '¡Completado!'\n\n        // Mostrar éxito\n        uploadedFileName.value = metadata.filename\n        uploadSuccess.value = true\n        \n        toast.success(`✅ ${metadata.filename} subido correctamente`)\n        \n        // Emitir eventos\n        emit('upload-complete', response.data)\n        emit('uploaded', response.data)\n        \n        // Reset después de mostrar éxito\n        setTimeout(() => {\n          resetForm()\n        }, 3000)\n\n      } catch (error) {\n        console.error('Error subiendo archivo:', error)\n        handleFileError(error, toast)\n        emit('upload-error', error)\n        uploadProgress.message = 'Error en la subida'\n        \n      } finally {\n        isUploading.value = false\n        setTimeout(() => {\n          uploadProgress.show = false\n        }, 2000)\n      }\n    }\n\n    // Resetear formulario\n    const resetForm = () => {\n      selectedFile.value = null\n      metadata.filename = ''\n      metadata.media_type = ''\n      metadata.duration = 5\n      previewUrl.value = null\n      uploadProgress.show = false\n      uploadProgress.percent = 0\n      uploadSuccess.value = false\n      uploadedFileName.value = ''\n      isDragOver.value = false\n      \n      // Limpiar input de archivo\n      if (fileInput.value) {\n        fileInput.value.value = ''\n      }\n    }\n\n    return {\n      // Refs\n      fileInput,\n      \n      // Estados\n      selectedFile,\n      metadata,\n      isUploading,\n      isDragOver,\n      previewUrl,\n      uploadProgress,\n      uploadSuccess,\n      uploadedFileName,\n      \n      // Computed\n      isFormValid,\n      \n      // Opciones\n      mediaTypeOptions,\n      \n      // Métodos\n      triggerFileSelect,\n      handleFileSelect,\n      handleDragOver,\n      handleDragLeave,\n      handleDrop,\n      getFileIcon,\n      getTypeColor,\n      formatFileSize,\n      uploadFile,\n      resetForm\n    }\n  }\n}\n</script>\n \n <style scoped>\n.media-uploader {\n  width: 100%;\n}\n\n/* Zona de subida principal */\n.upload-zone {\n  position: relative;\n  min-height: 200px;\n  border: 2px dashed var(--border);\n  border-radius: 16px;\n  background: var(--surface);\n  transition: all 0.3s ease;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 24px;\n  overflow: hidden;\n}\n\n.upload-zone:hover {\n  border-color: var(--primary);\n  background: rgba(var(--primary-rgb), 0.02);\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(var(--primary-rgb), 0.15);\n}\n\n.upload-zone.drag-over {\n  border-color: var(--primary);\n  background: rgba(var(--primary-rgb), 0.08);\n  border-style: solid;\n  box-shadow: 0 0 20px rgba(var(--primary-rgb), 0.2);\n}\n\n.upload-zone.has-file {\n  border-style: solid;\n  border-color: var(--positive);\n  background: rgba(var(--positive-rgb), 0.02);\n  min-height: 160px;\n}\n\n.upload-zone.uploading {\n  border-color: var(--warning);\n  background: rgba(var(--warning-rgb), 0.02);\n  cursor: not-allowed;\n}\n\n.hidden-input {\n  display: none;\n}\n\n/* Estado inicial - prompt */\n.upload-prompt {\n  text-align: center;\n  padding: 32px 24px;\n}\n\n.upload-icon {\n  margin-bottom: 16px;\n  color: var(--text-secondary);\n}\n\n.upload-prompt h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.upload-prompt p {\n  margin: 0 0 20px 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n}\n\n.supported-formats {\n  display: flex;\n  gap: 8px;\n  justify-content: center;\n  margin-bottom: 12px;\n  flex-wrap: wrap;\n}\n\n.size-limit {\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n/* Archivo seleccionado */\n.file-selected {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  padding: 24px;\n  width: 100%;\n  position: relative;\n}\n\n.file-preview {\n  flex-shrink: 0;\n  width: 80px;\n  height: 80px;\n  border-radius: 12px;\n  overflow: hidden;\n  background: var(--background);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-preview img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.file-icon {\n  color: var(--text-secondary);\n}\n\n.file-details {\n  flex-grow: 1;\n  min-width: 0;\n}\n\n.file-details h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  word-break: break-word;\n}\n\n.file-meta {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.file-size {\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n}\n\n.remove-file {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: rgba(255, 255, 255, 0.9);\n  backdrop-filter: blur(4px);\n}\n\n/* Progreso de subida */\n.upload-progress {\n  text-align: center;\n  padding: 32px 24px;\n  position: relative;\n}\n\n.progress-circle {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 16px;\n}\n\n.progress-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: 600;\n  font-size: 0.9rem;\n  color: var(--text-primary);\n}\n\n.upload-progress h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.upload-progress p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n/* Formulario de metadatos */\n.metadata-form {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  overflow: hidden;\n  margin-bottom: 24px;\n}\n\n.form-section {\n  padding: 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.form-section h5 {\n  margin: 0 0 20px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.form-grid {\n  display: grid;\n  gap: 16px;\n}\n\n.filename-input {\n  grid-column: 1 / -1;\n}\n\n.form-actions {\n  padding: 20px 24px;\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  background: var(--background);\n}\n\n.cancel-btn {\n  min-width: 100px;\n}\n\n.upload-btn {\n  min-width: 140px;\n  font-weight: 600;\n}\n\n/* Mensaje de éxito */\n.success-message {\n  text-align: center;\n  padding: 32px 24px;\n  background: rgba(var(--positive-rgb, 33, 186, 69), 0.05);\n  border: 1px solid rgba(var(--positive-rgb, 33, 186, 69), 0.2);\n  border-radius: 16px;\n  margin-bottom: 24px;\n}\n\n.success-message h4 {\n  margin: 16px 0 8px 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--positive);\n}\n\n.success-message p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n}\n\n/* Estilos para inputs del formulario */\n.form-grid .q-field :deep(.q-field__control) {\n  background: var(--background);\n  border-color: var(--border);\n}\n\n.form-grid .q-field :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.form-grid .q-field :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.form-grid .q-field :deep(.q-field__control.q-field__control--focused .q-field__label) {\n  color: var(--primary) !important;\n}\n\n.form-grid .q-field :deep(.q-field__prepend) {\n  color: var(--primary);\n}\n\n.form-grid .q-field :deep(.q-field__append) {\n  color: var(--text-secondary);\n}\n\n.form-grid .q-field :deep(.q-field__hint) {\n  color: var(--text-secondary) !important;\n}\n\n/* Asegurar que los selects también sean legibles */\n.form-grid .q-select :deep(.q-field__native span) {\n  color: var(--text-primary) !important;\n}\n\n.form-grid .q-select :deep(.q-field__control) {\n  background: var(--background) !important;\n}\n\n/* Dropdown del select */\n.q-menu :deep(.q-item) {\n  color: var(--text-primary) !important;\n}\n\n.q-menu :deep(.q-item__label) {\n  color: var(--text-primary) !important;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .upload-zone {\n    min-height: 160px;\n  }\n  \n  .upload-prompt {\n    padding: 24px 16px;\n  }\n  \n  .upload-prompt h4 {\n    font-size: 1.1rem;\n  }\n  \n  .file-selected {\n    padding: 20px 16px;\n    gap: 16px;\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .file-preview {\n    width: 60px;\n    height: 60px;\n  }\n  \n  .form-section {\n    padding: 20px 16px;\n  }\n  \n  .form-actions {\n    padding: 16px;\n    flex-direction: column;\n  }\n  \n  .form-actions .q-btn {\n    width: 100%;\n  }\n}\n\n/* Dark mode */\n.body--dark .upload-zone {\n  border-color: var(--border);\n  background: var(--surface);\n}\n\n.body--dark .upload-zone:hover {\n  background: rgba(var(--primary-rgb), 0.05);\n}\n\n.body--dark .metadata-form {\n  background: var(--surface);\n  border-color: var(--border);\n}\n\n.body--dark .form-section {\n  border-color: var(--border);\n}\n\n.body--dark .form-actions {\n  background: var(--background);\n}\n</style>\n","import { render } from \"./MediaUploader.vue?vue&type=template&id=65b3c1cc&scoped=true\"\nimport script from \"./MediaUploader.vue?vue&type=script&lang=js\"\nexport * from \"./MediaUploader.vue?vue&type=script&lang=js\"\n\nimport \"./MediaUploader.vue?vue&type=style&index=0&id=65b3c1cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65b3c1cc\"]])\n\nexport default __exports__","// Corrección para el problema de detección de backend en producción\n// Cuando el frontend se sirve desde /static/, está en el mismo servidor que el backend\n\nexport function createProductionBackendDetector() {\n  const currentOrigin = window.location.origin;\n  const isServedFromBackend = window.location.pathname.startsWith('/') && \n                              !window.location.hostname.includes('localhost:8080');\n  \n  console.log('🔍 Detectando contexto del frontend...');\n  console.log(`   📍 Origin: ${currentOrigin}`);\n  console.log(`   🌐 Hostname: ${window.location.hostname}`);\n  console.log(`   📂 Pathname: ${window.location.pathname}`);\n  console.log(`   🔗 Servido desde backend: ${isServedFromBackend}`);\n  \n  if (isServedFromBackend) {\n    // El frontend se sirve desde el backend, usar el mismo origen\n    console.log('✅ Frontend servido desde backend, usando mismo origen');\n    return {\n      baseUrl: currentOrigin,\n      port: parseInt(window.location.port) || (window.location.protocol === 'https:' ? 443 : 80),\n      isProduction: true\n    };\n  } else {\n    // Modo desarrollo, usar detección automática\n    console.log('🔧 Modo desarrollo detectado, usando auto-detección');\n    return null; // Usar backendDetector normal\n  }\n}\n\n// Función para detectar si necesitamos usar URLs relativas o absolutas\nexport function getAPIBaseURL() {\n  const productionConfig = createProductionBackendDetector();\n  \n  if (productionConfig) {\n    // En producción, usar mismo origen\n    return `${productionConfig.baseUrl}/api`;\n  } else {\n    // En desarrollo, será configurado por backendDetector\n    return null;\n  }\n}\n","<template>\n  <q-btn\n    :icon=\"isDarkMode ? 'wb_sunny' : 'nights_stay'\"\n    @click=\"toggleTheme\"\n    :class=\"themeToggleClass\"\n    flat\n    square\n    size=\"md\"\n  >\n  </q-btn>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'ThemeToggle',\n  setup() {\n    const { isDarkMode, toggleTheme } = useTheme()\n    \n    const themeToggleClass = computed(() => ({\n      'theme-toggle': true,\n      'theme-toggle--dark': isDarkMode.value,\n      'theme-toggle--light': !isDarkMode.value\n    }))\n    \n    return {\n      isDarkMode,\n      toggleTheme,\n      themeToggleClass\n    }\n  }\n}\n</script>\n\n<style scoped>\n.theme-toggle {\n  transition: all 0.3s ease;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: var(--text-primary);\n  border-radius: 8px !important;\n  width: 44px !important;\n  height: 44px !important;\n  min-width: 44px !important;\n  min-height: 44px !important;\n}\n\n.theme-toggle:hover {\n  transform: scale(1.05);\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.theme-toggle--dark {\n  color: #fbbf24 !important;\n  background: rgba(30, 30, 30, 0.8) !important;\n  border: 1px solid rgba(251, 191, 36, 0.3) !important;\n}\n\n.theme-toggle--dark:hover {\n  background: rgba(30, 30, 30, 0.9) !important;\n  border: 1px solid rgba(251, 191, 36, 0.5) !important;\n}\n\n.theme-toggle--light {\n  color: #374151 !important;\n  background: rgba(255, 255, 255, 0.8) !important;\n  border: 1px solid rgba(55, 65, 81, 0.2) !important;\n}\n\n.theme-toggle--light:hover {\n  background: rgba(255, 255, 255, 0.9) !important;\n  border: 1px solid rgba(55, 65, 81, 0.3) !important;\n}\n</style>\n","import { render } from \"./ThemeToggle.vue?vue&type=template&id=410b47f5&scoped=true\"\nimport script from \"./ThemeToggle.vue?vue&type=script&lang=js\"\nexport * from \"./ThemeToggle.vue?vue&type=script&lang=js\"\n\nimport \"./ThemeToggle.vue?vue&type=style&index=0&id=410b47f5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-410b47f5\"]])\n\nexport default __exports__","<template>\n  <q-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" persistent>\n    <q-card style=\"min-width: 800px; max-width: 1000px;\" :class=\"{ 'bg-dark text-white': isDark }\">\n      <q-card-section>\n        <div class=\"text-h6\">Gestionar Medio - {{ media?.filename }}</div>\n      </q-card-section>\n      <q-card-section class=\"q-pt-none\">\n        <q-input v-model=\"form.filename\" label=\"Nombre del archivo\" outlined class=\"q-mb-md\" />\n        <q-input v-model=\"form.description\" label=\"Descripción\" type=\"textarea\" outlined rows=\"3\" />\n      </q-card-section>\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancelar\" @click=\"$emit('close')\" />\n        <q-btn color=\"primary\" label=\"Guardar\" :loading=\"loading\" @click=\"$emit('save')\" />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script setup>\ndefineProps({\n  modelValue: Boolean,\n  media: Object,\n  form: Object,\n  loading: Boolean,\n  isDark: Boolean\n})\n\ndefineEmits(['update:modelValue', 'save', 'close'])\n</script>\n","import script from \"./EditMediaDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditMediaDialog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ref, computed, watch } from 'vue'\n\n// Estado global del tema\nconst isDarkMode = ref(false)\n\n// Cargar el tema guardado al inicializar\nconst savedTheme = localStorage.getItem('signance-theme')\nif (savedTheme) {\n  isDarkMode.value = savedTheme === 'dark'\n} else {\n  // Detectar preferencia del sistema\n  isDarkMode.value = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n}\n\n// Definir las variables CSS del tema\nconst setCSSVariables = (dark) => {\n  const root = document.documentElement\n  \n  if (dark) {\n    // Modo Oscuro\n    root.style.setProperty('--primary', '#FFAA93')\n    root.style.setProperty('--primary-dark', '#CC7A66')\n    root.style.setProperty('--primary-light', '#FFCCB3')\n    root.style.setProperty('--secondary', '#5A9DCB')\n    root.style.setProperty('--accent', '#D1B05F')\n    root.style.setProperty('--background', '#121212')\n    root.style.setProperty('--surface', '#1E1E1E')\n    root.style.setProperty('--on-primary', '#000000')\n    root.style.setProperty('--on-secondary', '#FFFFFF')\n    root.style.setProperty('--text-primary', '#E0E0E0')\n    root.style.setProperty('--text-secondary', '#B0B0B0')\n    root.style.setProperty('--border', '#2C2C2C')\n    root.style.setProperty('--error', '#FF6F6F')\n    root.style.setProperty('--success', '#66BB6A')\n    root.style.setProperty('--warning', '#FFA726')\n    root.style.setProperty('--info', '#42A5F5')\n    // Sombras adaptativas para modo oscuro\n    root.style.setProperty('--shadow-sm', '0 1px 3px 0 rgba(0, 0, 0, 0.5)')\n    root.style.setProperty('--shadow-md', '0 4px 6px -1px rgba(0, 0, 0, 0.4)')\n    root.style.setProperty('--shadow-lg', '0 10px 15px -3px rgba(0, 0, 0, 0.4)')\n    root.style.setProperty('--shadow-xl', '0 20px 25px -5px rgba(0, 0, 0, 0.5)')\n  } else {\n    // Modo Claro\n    root.style.setProperty('--primary', '#F0907B')\n    root.style.setProperty('--primary-dark', '#D66E58')\n    root.style.setProperty('--primary-light', '#FAC3B8')\n    root.style.setProperty('--secondary', '#7BC5F0')\n    root.style.setProperty('--accent', '#F0D27B')\n    root.style.setProperty('--background', '#FFFFFF')\n    root.style.setProperty('--surface', '#F5F5F5')\n    root.style.setProperty('--on-primary', '#FFFFFF')\n    root.style.setProperty('--on-secondary', '#FFFFFF')\n    root.style.setProperty('--text-primary', '#212121')\n    root.style.setProperty('--text-secondary', '#424242')\n    root.style.setProperty('--border', '#E0E0E0')\n    root.style.setProperty('--error', '#E53935')\n    root.style.setProperty('--success', '#43A047')\n    root.style.setProperty('--warning', '#FB8C00')\n    root.style.setProperty('--info', '#1E88E5')\n    // Sombras adaptativas para modo claro\n    root.style.setProperty('--shadow-sm', '0 1px 3px 0 rgba(0, 0, 0, 0.1)')\n    root.style.setProperty('--shadow-md', '0 4px 6px -1px rgba(0, 0, 0, 0.1)')\n    root.style.setProperty('--shadow-lg', '0 10px 15px -3px rgba(0, 0, 0, 0.1)')\n    root.style.setProperty('--shadow-xl', '0 20px 25px -5px rgba(0, 0, 0, 0.1)')\n  }\n}\n\n// Aplicar el tema al documento\nconst applyTheme = (dark) => {\n  setCSSVariables(dark)\n  if (dark) {\n    document.documentElement.setAttribute('data-theme', 'dark')\n    document.body.style.backgroundColor = '#121212'\n    document.body.style.color = '#E0E0E0'\n    document.body.classList.add('dark-mode')\n    document.body.classList.remove('light-mode')\n  } else {\n    document.documentElement.removeAttribute('data-theme')\n    document.body.style.backgroundColor = '#FFFFFF'\n    document.body.style.color = '#212121'\n    document.body.classList.add('light-mode')\n    document.body.classList.remove('dark-mode')\n  }\n}\n\n// Aplicar tema inicial\napplyTheme(isDarkMode.value)\n\n// Observar cambios en el tema\nwatch(isDarkMode, (newValue) => {\n  localStorage.setItem('signance-theme', newValue ? 'dark' : 'light')\n  applyTheme(newValue)\n})\n\n// Variables CSS computadas para el tema\nconst themeVars = computed(() => ({\n  // Colores principales\n  primaryColor: isDarkMode.value ? '#FFAA93' : '#F0907B',\n  primaryDark: isDarkMode.value ? '#CC7A66' : '#D66E58',\n  primaryLight: isDarkMode.value ? '#FFCCB3' : '#FAC3B8',\n  secondaryColor: isDarkMode.value ? '#5A9DCB' : '#7BC5F0',\n  accentColor: isDarkMode.value ? '#D1B05F' : '#F0D27B',\n  \n  // Colores de estado\n  errorColor: isDarkMode.value ? '#FF6F6F' : '#E53935',\n  successColor: isDarkMode.value ? '#66BB6A' : '#43A047',\n  warningColor: isDarkMode.value ? '#FFA726' : '#FB8C00',\n  infoColor: isDarkMode.value ? '#42A5F5' : '#1E88E5',\n  \n  // Colores de fondo y superficie\n  backgroundColor: isDarkMode.value ? '#121212' : '#FFFFFF',\n  surfaceColor: isDarkMode.value ? '#1E1E1E' : '#F5F5F5',\n  cardColor: isDarkMode.value ? '#1E1E1E' : '#FFFFFF',\n  \n  // Colores de texto\n  textPrimary: isDarkMode.value ? '#E0E0E0' : '#212121',\n  textSecondary: isDarkMode.value ? '#B0B0B0' : '#424242',\n  onPrimary: isDarkMode.value ? '#000000' : '#FFFFFF',\n  onSecondary: isDarkMode.value ? '#FFFFFF' : '#FFFFFF',\n  \n  // Bordes y divisores\n  borderColor: isDarkMode.value ? '#2C2C2C' : '#E0E0E0',\n  \n  // Gradientes elegantes\n  gradientPrimary: isDarkMode.value \n    ? 'linear-gradient(135deg, #FFAA93 0%, #CC7A66 100%)'\n    : 'linear-gradient(135deg, #F0907B 0%, #D66E58 100%)',\n  gradientSecondary: isDarkMode.value\n    ? 'linear-gradient(135deg, #5A9DCB 0%, #42A5F5 100%)'\n    : 'linear-gradient(135deg, #7BC5F0 0%, #1E88E5 100%)',\n  gradientAccent: isDarkMode.value\n    ? 'linear-gradient(135deg, #D1B05F 0%, #FFA726 100%)'\n    : 'linear-gradient(135deg, #F0D27B 0%, #FB8C00 100%)',\n  \n  // Sombras adaptativas\n  shadowSm: isDarkMode.value \n    ? '0 1px 3px 0 rgba(0, 0, 0, 0.5)' \n    : '0 1px 3px 0 rgba(0, 0, 0, 0.1)',\n  shadowMd: isDarkMode.value \n    ? '0 4px 6px -1px rgba(0, 0, 0, 0.4)' \n    : '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\n  shadowLg: isDarkMode.value \n    ? '0 10px 15px -3px rgba(0, 0, 0, 0.4)' \n    : '0 10px 15px -3px rgba(0, 0, 0, 0.1)',\n  shadowXl: isDarkMode.value\n    ? '0 20px 25px -5px rgba(0, 0, 0, 0.5)'\n    : '0 20px 25px -5px rgba(0, 0, 0, 0.1)',\n  \n  // Estados hover\n  hoverColor: isDarkMode.value ? '#2C2C2C' : '#F5F5F5',\n  hoverPrimary: isDarkMode.value ? 'rgba(255, 170, 147, 0.1)' : 'rgba(240, 144, 123, 0.1)',\n  hoverSecondary: isDarkMode.value ? 'rgba(90, 157, 203, 0.1)' : 'rgba(123, 197, 240, 0.1)'\n}))\n\n// Función para alternar tema\nconst toggleTheme = () => {\n  isDarkMode.value = !isDarkMode.value\n}\n\n// Función para cargar tema (para compatibilidad)\nconst loadTheme = () => {\n  applyTheme(isDarkMode.value)\n}\n\nexport function useTheme() {\n  return {\n    isDarkMode,\n    toggleTheme,\n    loadTheme,\n    themeVars\n  }\n}\n","<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport backendDetector from './services/backendDetector'\n\nexport default {\n  name: 'App',\n  mounted() {\n    // Configuración global de la aplicación\n    console.log('🎬 Pochtecayotl Signance System - Frontend iniciado')\n    \n    // Verificar conectividad con el backend usando auto-detección\n    this.checkBackendConnection()\n    \n    // Inicializar correcciones de iconos\n    this.initializeIconFixes()\n  },\n  methods: {\n    async checkBackendConnection() {\n      try {\n        // Intentar detectar el backend automáticamente\n        const backendInfo = await backendDetector.detectBackend()\n        console.log(`✅ Conexión con backend establecida en ${backendInfo.baseUrl}`)\n      } catch (error) {\n        console.error('❌ No se puede conectar con el backend:', error)\n        this.$q.notify({\n          type: 'warning',\n          message: 'No se puede conectar con el servidor',\n          caption: 'Verifica que el backend esté ejecutándose en el rango de puertos 8000-8010'\n        })\n      }\n    },\n    \n    initializeIconFixes() {\n      console.log('🎨 Inicializando correcciones de iconos...')\n      \n      // Verificar si Material Icons está disponible\n      this.checkMaterialIconsAvailability()\n      \n      // Aplicar CSS de corrección\n      this.applyIconCSS()\n      \n      // Aplicar correcciones de tamaños\n      this.applyIconSizeCorrections()\n      \n      // Verificar después de un delay\n      setTimeout(() => {\n        this.verifyIconsAfterLoad()\n      }, 2000)\n    },\n    \n    checkMaterialIconsAvailability() {\n      if (document.fonts) {\n        const materialIconsLoaded = document.fonts.check('1rem \"Material Icons\"')\n        console.log('🔍 Material Icons disponible:', materialIconsLoaded)\n        \n        if (!materialIconsLoaded) {\n          console.log('⚠️ Material Icons no cargado, intentando forzar carga...')\n          this.forceLoadMaterialIcons()\n        }\n      }\n    },\n    \n    forceLoadMaterialIcons() {\n      // Crear enlace directo a Google Fonts si no existe\n      const existingLink = document.querySelector('link[href*=\"material-icons\"]')\n      if (!existingLink) {\n        const link = document.createElement('link')\n        link.rel = 'stylesheet'\n        link.href = 'https://fonts.googleapis.com/icon?family=Material+Icons&display=swap'\n        link.onload = () => {\n          console.log('✅ Material Icons cargado desde Google Fonts')\n        }\n        document.head.appendChild(link)\n      }\n    },\n    \n    applyIconCSS() {\n      const css = `\n        /* Corrección global para Material Icons - SIN interferir con tamaños */\n        .material-icons, .q-icon {\n          font-family: 'Material Icons' !important;\n          font-weight: normal !important;\n          font-style: normal !important;\n          line-height: 1 !important;\n          letter-spacing: normal !important;\n          text-transform: none !important;\n          display: inline-block !important;\n          white-space: nowrap !important;\n          word-wrap: normal !important;\n          direction: ltr !important;\n          font-feature-settings: 'liga' !important;\n          -webkit-font-feature-settings: 'liga' !important;\n          -webkit-font-smoothing: antialiased !important;\n          -moz-osx-font-smoothing: grayscale !important;\n          /* NO forzamos font-size para permitir que Quasar lo maneje */\n        }\n      `\n      \n      const style = document.createElement('style')\n      style.textContent = css\n      document.head.appendChild(style)\n    },\n    \n    applyIconSizeCorrections() {\n      // NO aplicar correcciones de tamaños que interfieran con Quasar\n      console.log('⚠️ Saltando correcciones de tamaño para permitir que Quasar las maneje')\n    },\n    \n    verifyIconsAfterLoad() {\n      const iconElements = document.querySelectorAll('.q-icon')\n      console.log(`🔍 Verificando ${iconElements.length} elementos de iconos...`)\n      \n      iconElements.forEach((element, index) => {\n        const computedStyle = window.getComputedStyle(element)\n        const fontFamily = computedStyle.fontFamily\n        \n        if (!fontFamily.includes('Material Icons')) {\n          console.warn(`⚠️ Icono ${index} no usa Material Icons:`, fontFamily)\n          element.style.fontFamily = '\"Material Icons\" !important'\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Roboto', -apple-system, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n/* Estilos globales para el sistema */\n.signance-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.signance-card {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n  margin-bottom: 20px;\n}\n\n.signance-header {\n  background: linear-gradient(135deg, #000000 0%, #784F17 10%, #E70000 25%, #FF8C00 40%, #FFEF00 55%, #00811F 70%, #00A7E4 85%, #760089 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n/* Responsivo */\n@media (max-width: 768px) {\n  .signance-container {\n    padding: 10px;\n  }\n  \n  .signance-card {\n    padding: 16px;\n    margin-bottom: 15px;\n  }\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=e68dce4e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=e68dce4e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login-container\">\n    <!-- Toggle de tema en esquina superior derecha -->\n    <div class=\"theme-toggle-container\">\n      <ThemeToggle />\n    </div>\n    \n    <div class=\"login-content\">\n      <q-card class=\"login-card\">\n        <q-card-section class=\"text-center login-header-section\">\n          <div class=\"login-header\">\n            <div class=\"logo-container\">\n              <q-icon name=\"video_library\" class=\"main-logo\" />\n              <div class=\"logo-glow\"></div>\n            </div>\n            <h2 class=\"app-title\">Pochtecayotl</h2>\n            <h3 class=\"app-subtitle-main\">Signance System</h3>\n            <p class=\"app-subtitle\">Sistema de Gestión de Anuncios Digitales</p>\n            <div class=\"pride-divider\"></div>\n          </div>\n        </q-card-section>\n\n        <q-card-section class=\"login-form-section\">\n          <q-form @submit=\"handleLogin\" class=\"login-form\">\n            <div class=\"input-group\">\n              <q-input\n                v-model=\"credentials.username\"\n                label=\"Usuario\"\n                outlined\n                dense\n                :rules=\"[val => !!val || 'El usuario es requerido']\"\n                ref=\"usernameRef\"\n                class=\"modern-input\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"person\" class=\"input-icon\" />\n                </template>\n              </q-input>\n            </div>\n\n            <div class=\"input-group\">\n              <q-input\n                v-model=\"credentials.password\"\n                label=\"Contraseña\"\n                type=\"password\"\n                outlined\n                dense\n                :rules=\"[val => !!val || 'La contraseña es requerida']\"\n                ref=\"passwordRef\"\n                class=\"modern-input\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"lock\" class=\"input-icon\" />\n                </template>\n              </q-input>\n            </div>\n\n            <div class=\"login-actions\">\n              <q-btn\n                type=\"submit\"\n                label=\"Iniciar Sesión\"\n                class=\"login-btn\"\n                size=\"md\"\n                unelevated\n                :loading=\"isLoading\"\n                :disable=\"!credentials.username || !credentials.password\"\n              />\n            </div>\n          </q-form>\n        </q-card-section>\n\n        <q-card-section class=\"text-center footer-section\">\n          <q-btn\n            flat\n            label=\"Probar Conexión\"\n            @click=\"testBackendConnection\"\n            size=\"sm\"\n            class=\"test-btn\"\n          />\n        </q-card-section>\n      </q-card>\n    </div>\n\n    <!-- Setup inicial del administrador -->\n    <q-dialog v-model=\"showSetupDialog\" persistent>\n      <q-card class=\"setup-dialog-card\" style=\"min-width: 400px\">\n        <q-card-section class=\"setup-header row items-center\">\n          <q-icon name=\"admin_panel_settings\" size=\"2rem\" color=\"orange\" />\n          <span class=\"q-ml-sm text-h6 setup-title\">Configuración Inicial</span>\n        </q-card-section>\n\n        <q-card-section class=\"setup-content\">\n          <p class=\"setup-description\">El sistema necesita configuración inicial. Crea el usuario administrador:</p>\n          \n          <q-form @submit=\"handleSetupAdmin\" class=\"q-gutter-md\">\n            <q-input\n              v-model=\"setupData.username\"\n              label=\"Usuario Administrador\"\n              outlined\n              class=\"setup-input\"\n              :rules=\"[val => !!val || 'Requerido']\"\n            />\n            \n            <q-input\n              v-model=\"setupData.password\"\n              label=\"Contraseña\"\n              type=\"password\"\n              outlined\n              class=\"setup-input\"\n              :rules=\"[val => !!val || 'Requerido']\"\n            />\n          </q-form>\n        </q-card-section>\n\n        <q-card-actions align=\"right\" class=\"setup-actions\">\n          <q-btn\n            label=\"Configurar\"\n            color=\"primary\"\n            class=\"setup-btn\"\n            @click=\"handleSetupAdmin\"\n            :loading=\"isSetupLoading\"\n          />\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useQuasar } from 'quasar'\nimport { useToast } from 'vue-toastification'\nimport { authAPI } from '../services/api'\nimport { useTheme } from '../composables/useTheme'\nimport ThemeToggle from '../components/ThemeToggle.vue'\n\nexport default {\n  name: 'LoginView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const $q = useQuasar()\n    const toast = useToast()\n    const { loadTheme } = useTheme()\n\n    // Estados reactivos\n    const isLoading = ref(false)\n    const isSetupLoading = ref(false)\n    const showSetupDialog = ref(false)\n    \n    const credentials = reactive({\n      username: '',\n      password: ''\n    })\n    \n    const setupData = reactive({\n      username: 'admin',\n      password: ''\n    })\n\n    // Verificar si necesita configuración inicial\n    const checkSetupStatus = async () => {\n      try {\n        const response = await authAPI.checkSetup()\n        if (response.data.setup_required) {\n          showSetupDialog.value = true\n          toast.info('Se requiere configuración inicial del sistema')\n        }\n      } catch (error) {\n        console.error('Error verificando setup:', error)\n        toast.error('Error conectando con el servidor')\n      }\n    }\n\n    // Configurar administrador inicial\n    const handleSetupAdmin = async () => {\n      if (!setupData.username || !setupData.password) {\n        toast.warning('Completa todos los campos')\n        return\n      }\n\n      isSetupLoading.value = true\n\n      try {\n        await authAPI.setupAdmin(setupData)\n        toast.success('Administrador configurado exitosamente')\n        showSetupDialog.value = false\n        \n        // Auto-login después del setup\n        credentials.username = setupData.username\n        credentials.password = setupData.password\n        await handleLogin()\n        \n      } catch (error) {\n        console.error('Error en setup:', error)\n        toast.error('Error configurando administrador')\n      } finally {\n        isSetupLoading.value = false\n      }\n    }\n\n    // Manejar login\n    const handleLogin = async () => {\n      isLoading.value = true\n\n      try {\n        const response = await authAPI.login(credentials)\n        const { access_token } = response.data\n\n        // Guardar token\n        localStorage.setItem('signance_token', access_token)\n        \n        toast.success(`¡Bienvenido, ${credentials.username}!`)\n        \n        // Redirigir al dashboard admin después del login exitoso\n        router.push('/admin')\n        \n      } catch (error) {\n        console.error('Error en login:', error)\n        \n        if (error.response?.status === 401) {\n          toast.error('Credenciales incorrectas')\n        } else {\n          toast.error('Error iniciando sesión')\n        }\n        \n        // Limpiar campos en caso de error\n        credentials.password = ''\n        \n      } finally {\n        isLoading.value = false\n      }\n    }\n\n    // Probar conexión con el backend\n    const testBackendConnection = async () => {\n      $q.loading.show({\n        message: 'Probando conexión...'\n      })\n\n      try {\n        const response = await fetch('http://127.0.0.1:8000/health')\n        if (response.ok) {\n          const data = await response.json()\n          toast.success(`Conexión exitosa: ${data.status}`)\n        } else {\n          toast.warning('El servidor responde pero con errores')\n        }\n      } catch (error) {\n        console.error('Error de conexión:', error)\n        toast.error('No se puede conectar con el servidor')\n      } finally {\n        $q.loading.hide()\n      }\n    }\n\n    // Verificar si ya está autenticado\n    const checkExistingAuth = () => {\n      const token = localStorage.getItem('signance_token')\n      if (token) {\n        // TODO: Verificar si el token es válido\n        router.push('/test-ok')\n      }\n    }\n\n    onMounted(() => {\n      loadTheme()\n      checkExistingAuth()\n      checkSetupStatus()\n    })\n\n    return {\n      credentials,\n      setupData,\n      isLoading,\n      isSetupLoading,\n      showSetupDialog,\n      handleLogin,\n      handleSetupAdmin,\n      testBackendConnection\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Variables CSS */\n:root {\n  --gradient-main: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  --gradient-light: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.8) 100%);\n  --gradient-text: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #06b6d4 100%);\n  --gradient-accent: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n  --gradient-button: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n  --surface: rgba(255, 255, 255, 0.95);\n  --background: #f8fafc;\n  --border: #e2e8f0;\n  --primary: #6366f1;\n  --primary-alpha: rgba(99, 102, 241, 0.1);\n  --text-primary: #1e293b;\n  --text-secondary: #64748b;\n  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n}\n\n/* Variables para modo oscuro */\n.body--dark {\n  --gradient-main: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);\n  --gradient-light: linear-gradient(135deg, rgba(30,30,30,0.9) 0%, rgba(30,30,30,0.8) 100%);\n  --gradient-text: linear-gradient(135deg, #818cf8 0%, #a78bfa 50%, #38bdf8 100%);\n  --gradient-accent: linear-gradient(90deg, #4338ca 0%, #6d28d9 100%);\n  --gradient-button: linear-gradient(135deg, #4338ca 0%, #7c3aed 100%);\n  --surface: rgba(30, 30, 30, 0.95);\n  --background: #0f172a;\n  --border: #334155;\n  --primary: #818cf8;\n  --primary-alpha: rgba(129, 140, 248, 0.1);\n  --text-primary: #e2e8f0;\n  --text-secondary: #94a3b8;\n  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n}\n\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: var(--gradient-main);\n  padding: 2rem;\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.theme-toggle-container {\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  z-index: 100;\n}\n\n.login-content {\n  width: 100%;\n  max-width: 420px;\n  position: relative;\n}\n\n.login-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  overflow: hidden;\n  backdrop-filter: blur(20px);\n  box-shadow: var(--shadow-xl);\n  transition: all 0.3s ease;\n}\n\n.login-header-section {\n  padding: 2.5rem 2rem 1.5rem;\n  background: var(--gradient-light);\n  border-bottom: 1px solid var(--border);\n}\n\n.logo-container {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 1rem;\n}\n\n.main-logo {\n  font-size: 3.5rem;\n  background: var(--gradient-text);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n}\n\n.logo-glow {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 70px;\n  height: 70px;\n  background: radial-gradient(circle, var(--primary-alpha), transparent);\n  border-radius: 50%;\n  animation: pulse 3s ease-in-out infinite;\n  z-index: -1;\n}\n\n@keyframes pulse {\n  0%, 100% { \n    transform: translate(-50%, -50%) scale(1); \n    opacity: 0.4; \n  }\n  50% { \n    transform: translate(-50%, -50%) scale(1.1); \n    opacity: 0.7; \n  }\n}\n\n.app-title {\n  margin: 0 0 0.2rem 0;\n  font-size: 2.2rem;\n  font-weight: 700;\n  line-height: 1.1;\n  color: #6366f1;\n  text-shadow: 0 2px 4px rgba(99, 102, 241, 0.3);\n}\n\n/* Modo oscuro */\n.body--dark .app-title {\n  color: #818cf8;\n  text-shadow: 0 2px 4px rgba(129, 140, 248, 0.3);\n}\n\n.app-subtitle-main {\n  margin: 0 0 0.8rem 0;\n  font-size: 1.4rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  line-height: 1.1;\n}\n\n.app-subtitle {\n  margin: 0 0 1rem 0;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  opacity: 0.9;\n  line-height: 1.3;\n}\n\n.pride-divider {\n  width: 50px;\n  height: 3px;\n  background: var(--gradient-accent);\n  border-radius: 2px;\n  margin: 0 auto;\n}\n\n.login-form-section {\n  padding: 1.5rem 2rem;\n  background: var(--background);\n}\n\n.login-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.2rem;\n}\n\n.input-group {\n  position: relative;\n}\n\n.modern-input {\n  border-radius: 10px !important;\n}\n\n.modern-input :deep(.q-field__control) {\n  border-radius: 10px !important;\n  background: var(--surface);\n  border: 1px solid var(--border);\n  transition: all 0.3s ease;\n  min-height: 48px;\n}\n\n.modern-input :deep(.q-field__control:hover) {\n  border-color: var(--primary);\n}\n\n.modern-input :deep(.q-field__control.q-field__control--focused) {\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-alpha);\n}\n\n.modern-input :deep(.q-field__label) {\n  color: var(--text-secondary);\n}\n\n.modern-input :deep(.q-field__native) {\n  color: var(--text-primary);\n}\n\n.input-icon {\n  color: var(--primary);\n}\n\n.login-actions {\n  margin-top: 0.5rem;\n}\n\n.login-btn {\n  width: 100%;\n  height: 48px;\n  border-radius: 10px;\n  background: var(--gradient-button);\n  color: white;\n  font-weight: 600;\n  font-size: 1rem;\n  letter-spacing: 0.3px;\n  text-transform: uppercase;\n  transition: all 0.3s ease;\n  border: none;\n  box-shadow: var(--shadow-md);\n}\n\n.login-btn:hover {\n  transform: translateY(-1px);\n  box-shadow: var(--shadow-lg);\n}\n\n.login-btn:active {\n  transform: translateY(0);\n}\n\n.login-btn:disabled {\n  opacity: 0.6;\n  transform: none;\n  box-shadow: none;\n}\n\n.footer-section {\n  padding: 1rem 2rem 1.5rem;\n  border-top: 1px solid var(--border);\n  background: var(--background);\n}\n\n.test-btn {\n  color: var(--secondary);\n  transition: all 0.2s ease;\n  border-radius: 8px;\n}\n\n.test-btn:hover {\n  background: var(--hover-secondary);\n  transform: translateY(-1px);\n}\n\n/* Dialog de configuración */\n.q-dialog .q-card {\n  background: var(--surface);\n  color: var(--text-primary);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  box-shadow: var(--shadow-xl);\n}\n\n.q-dialog .q-card-section {\n  background: var(--background);\n}\n\n.q-dialog .q-card-actions {\n  background: var(--surface);\n  border-top: 1px solid var(--border);\n}\n\n/* Input fields en el dialog */\n.q-dialog .q-input :deep(.q-field__control) {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 8px;\n}\n\n.q-dialog .q-input :deep(.q-field__control:hover) {\n  border-color: var(--primary);\n}\n\n.q-dialog .q-input :deep(.q-field__control.q-field__control--focused) {\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-alpha);\n}\n\n/* Botones del dialog */\n.q-dialog .q-btn {\n  border-radius: 8px;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .login-container {\n    padding: 1rem;\n  }\n  \n  .theme-toggle-container {\n    top: 1rem;\n    right: 1rem;\n  }\n  \n  .login-header-section {\n    padding: 2rem 1.5rem 1rem;\n  }\n  \n  .login-form-section {\n    padding: 1.2rem 1.5rem;\n  }\n  \n  .app-title {\n    font-size: 1.8rem;\n  }\n  \n  .app-subtitle-main {\n    font-size: 1.2rem;\n  }\n  \n  .main-logo {\n    font-size: 3rem;\n  }\n  \n  .login-content {\n    max-width: 100%;\n  }\n  \n  .footer-section {\n    padding: 0.8rem 1.5rem 1.2rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .login-container {\n    padding: 0.5rem;\n  }\n  \n  .login-header-section {\n    padding: 1.5rem 1rem 0.8rem;\n  }\n  \n  .login-form-section {\n    padding: 1rem;\n  }\n  \n  .app-title {\n    font-size: 1.6rem;\n  }\n  \n  .app-subtitle-main {\n    font-size: 1.1rem;\n  }\n  \n  .app-subtitle {\n    font-size: 0.85rem;\n  }\n  \n  .main-logo {\n    font-size: 2.5rem;\n  }\n  \n  .footer-section {\n    padding: 0.8rem 1rem 1rem;\n  }\n  \n  .login-btn {\n    height: 46px;\n    font-size: 0.95rem;\n  }\n  \n  .modern-input :deep(.q-field__control) {\n    min-height: 46px;\n  }\n}\n\n/* Estilos para el dialog de setup */\n.setup-dialog-card {\n  background: var(--surface) !important;\n  border: 1px solid var(--border) !important;\n  border-radius: 12px !important;\n  backdrop-filter: blur(20px);\n}\n\n.setup-header {\n  background: var(--gradient-light) !important;\n  border-bottom: 1px solid var(--border) !important;\n}\n\n.setup-title {\n  color: var(--text-primary) !important;\n  font-weight: 600;\n}\n\n.setup-content {\n  padding: 24px !important;\n}\n\n.setup-description {\n  color: var(--text-secondary) !important;\n  margin-bottom: 20px;\n  font-size: 0.95rem;\n}\n\n.setup-input {\n  margin-bottom: 16px;\n}\n\n.setup-input :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.setup-input :deep(.q-field__control) {\n  background: var(--surface) !important;\n}\n\n.setup-input :deep(.q-field__outline) {\n  border-color: var(--border) !important;\n}\n\n.setup-input :deep(.q-field--focused .q-field__outline) {\n  border-color: var(--primary) !important;\n}\n\n.setup-input :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.setup-actions {\n  padding: 16px 24px !important;\n  border-top: 1px solid var(--border) !important;\n}\n\n.setup-btn {\n  background: var(--gradient-button) !important;\n  border-radius: 8px;\n  font-weight: 600;\n  padding: 8px 24px;\n}\n\n/* Estilos específicos para modo oscuro en el dialog */\n.body--dark .setup-dialog-card {\n  background: rgba(30, 30, 30, 0.95) !important;\n  border-color: #374151 !important;\n}\n\n.body--dark .setup-input :deep(.q-field__control) {\n  background: rgba(30, 30, 30, 0.8) !important;\n  border-color: #374151 !important;\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=ff55de2c&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=ff55de2c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ff55de2c\"]])\n\nexport default __exports__","<template>\n  <div class=\"test-ok-container\">\n    <!-- Theme Toggle -->\n    <ThemeToggle class=\"theme-toggle\" />\n    \n    <div class=\"signance-container\">\n      <!-- Header de éxito -->\n      <div class=\"success-header\">\n        <div class=\"success-icon\">\n          <q-icon name=\"check_circle\" size=\"4rem\" />\n        </div>\n        <h2>¡Sistema Funcionando Correctamente!</h2>\n        <p>Pochtecayotl Signance System - Autenticación Exitosa</p>\n      </div>\n\n      <!-- Información del usuario -->\n      <div class=\"info-card user-info\">\n        <div class=\"card-header\">\n          <q-icon name=\"person\" size=\"2rem\" />\n          <div class=\"header-text\">\n            <h3>Usuario Autenticado</h3>\n            <p>{{ userInfo.username || 'Cargando...' }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Pruebas del sistema -->\n      <div class=\"info-card tests-card\">\n        <div class=\"card-title\">\n          <h3>Pruebas del Sistema</h3>\n        </div>\n        \n        <div class=\"tests-grid\">\n          <div \n            v-for=\"test in systemTests\" \n            :key=\"test.name\"\n            class=\"test-item\"\n            :class=\"{ \n              'test-success': test.status === 'success',\n              'test-error': test.status === 'error',\n              'test-testing': test.status === 'testing'\n            }\"\n          >\n            <div class=\"test-icon\">\n              <q-icon \n                :name=\"test.status === 'success' ? 'check_circle' : test.status === 'error' ? 'error' : 'hourglass_empty'\"\n                size=\"1.5rem\"\n              />\n            </div>\n            \n            <div class=\"test-info\">\n              <h4>{{ test.name }}</h4>\n              <p>{{ test.description }}</p>\n            </div>\n            \n            <div class=\"test-action\">\n              <q-btn \n                flat \n                round \n                :icon=\"test.status === 'testing' ? 'refresh' : 'play_arrow'\"\n                @click=\"runTest(test)\"\n                :loading=\"test.status === 'testing'\"\n                size=\"sm\"\n                :color=\"test.status === 'success' ? 'positive' : 'primary'\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Acciones disponibles -->\n      <div class=\"info-card actions-card\">\n        <div class=\"card-title\">\n          <h3>Acciones Disponibles</h3>\n        </div>\n        \n        <div class=\"actions-grid\">\n          <div class=\"action-button primary-action\" @click=\"goToDashboard\">\n            <q-icon name=\"dashboard\" size=\"2rem\" />\n            <span>Dashboard</span>\n          </div>\n          \n          <div class=\"action-button secondary-action\" @click=\"goToMediaManager\">\n            <q-icon name=\"cloud_upload\" size=\"2rem\" />\n            <span>Gestión de Media</span>\n          </div>\n          \n          <div class=\"action-button accent-action\" @click=\"goToConfig\">\n            <q-icon name=\"settings\" size=\"2rem\" />\n            <span>Configuración</span>\n          </div>\n          \n          <div class=\"action-button warning-action\" @click=\"goToErrorPage\">\n            <q-icon name=\"bug_report\" size=\"2rem\" />\n            <span>Ver Página de Error</span>\n          </div>\n        </div>\n        \n        <div class=\"logout-section\">\n          <q-btn\n            color=\"negative\"\n            icon=\"logout\"\n            label=\"Cerrar Sesión\"\n            @click=\"logout\"\n            outline\n            rounded\n            size=\"md\"\n          />\n        </div>\n      </div>\n\n      <!-- Información del sistema -->\n      <div class=\"info-card system-info\">\n        <div class=\"card-title\">\n          <h3>Información del Sistema</h3>\n        </div>\n        \n        <div class=\"system-details\">\n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Estado del Backend</span>\n            <div class=\"detail-value\">\n              <q-chip \n                :color=\"backendStatus.connected ? 'positive' : 'negative'\"\n                text-color=\"white\"\n                :icon=\"backendStatus.connected ? 'check' : 'close'\"\n                size=\"sm\"\n              >\n                {{ backendStatus.connected ? 'Conectado' : 'Desconectado' }}\n              </q-chip>\n            </div>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">URL del Backend</span>\n            <span class=\"detail-value\">{{ backendStatus.url }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Fecha de Acceso</span>\n            <span class=\"detail-value\">{{ new Date().toLocaleString('es-ES') }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Token JWT</span>\n            <div class=\"detail-value\">\n              <q-chip color=\"info\" text-color=\"white\" size=\"sm\">\n                {{ tokenInfo }}\n              </q-chip>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useToast } from 'vue-toastification'\nimport { authAPI, mediaAPI, businessAPI, scheduleAPI } from '../services/api'\nimport backendDetector from '../services/backendDetector'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'Ok_TestView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n\n    // Estados reactivos\n    const userInfo = ref({})\n    const backendStatus = reactive({\n      connected: false,\n      lastCheck: null,\n      url: 'Detectando...',\n      port: null\n    })\n\n    // Información del token\n    const tokenInfo = computed(() => {\n      const token = localStorage.getItem('signance_token')\n      if (token) {\n        return `${token.substring(0, 20)}...`\n      }\n      return 'No disponible'\n    })\n\n    // Pruebas del sistema\n    const systemTests = ref([\n      {\n        name: 'Autenticación',\n        description: 'Verificar ruta protegida',\n        status: 'pending',\n        test: () => authAPI.testProtected()\n      },\n      {\n        name: 'Gestión de Media',\n        description: 'Listar archivos multimedia',\n        status: 'pending',\n        test: () => mediaAPI.list(0, 5)\n      },\n      {\n        name: 'Información de Negocio',\n        description: 'Obtener configuración empresarial',\n        status: 'pending',\n        test: () => businessAPI.get()\n      },\n      {\n        name: 'Programación',\n        description: 'Listar horarios programados',\n        status: 'pending',\n        test: () => scheduleAPI.list(0, 5)\n      }\n    ])\n\n    // Ejecutar una prueba específica\n    const runTest = async (test) => {\n      test.status = 'testing'\n      \n      try {\n        const response = await test.test()\n        test.status = 'success'\n        test.result = response.data\n        \n        toast.success(`✅ ${test.name}: Prueba exitosa`)\n        \n      } catch (error) {\n        test.status = 'error'\n        test.error = error.message\n        \n        toast.error(`❌ ${test.name}: ${error.message}`)\n      }\n    }\n\n    // Ejecutar todas las pruebas\n    const runAllTests = async () => {\n      for (const test of systemTests.value) {\n        await runTest(test)\n        // Pequeña pausa entre pruebas\n        await new Promise(resolve => setTimeout(resolve, 500))\n      }\n    }\n\n    // Obtener información del usuario actual\n    const fetchUserInfo = async () => {\n      try {\n        const response = await authAPI.getCurrentUser()\n        userInfo.value = response.data\n      } catch (error) {\n        console.error('Error obteniendo información del usuario:', error)\n        toast.error('Error obteniendo información del usuario')\n      }\n    }\n\n    // Verificar estado del backend\n    const checkBackendStatus = async () => {\n      try {\n        console.log('🔍 Verificando estado del backend...')\n        \n        // Primero intentar obtener la información desde el detector\n        const cached = backendDetector.getCachedBackend()\n        if (cached) {\n          console.log('📦 Usando información cached del backend:', cached)\n          backendStatus.url = cached.baseUrl\n          backendStatus.port = cached.port\n          \n          // Verificar que el backend siga respondiendo\n          const isWorking = await backendDetector.testPort(cached.port)\n          backendStatus.connected = isWorking\n          backendStatus.lastCheck = new Date()\n          \n          if (isWorking) {\n            console.log('✅ Backend confirmado desde caché')\n            return\n          } else {\n            console.log('❌ Backend cached no responde, detectando nuevamente...')\n          }\n        }\n        \n        // Si no hay caché o no funciona, detectar automáticamente\n        const detection = await backendDetector.detectBackend()\n        backendStatus.connected = true\n        backendStatus.url = detection.baseUrl\n        backendStatus.port = detection.port\n        backendStatus.lastCheck = new Date()\n        \n        console.log('✅ Backend detectado exitosamente:', detection)\n        \n      } catch (error) {\n        console.error('❌ Error detectando backend:', error)\n        backendStatus.connected = false\n        backendStatus.url = 'No disponible'\n        backendStatus.port = null\n        backendStatus.lastCheck = new Date()\n      }\n    }\n\n    // Navegación\n    const goToDashboard = () => {\n      router.push('/admin')\n    }\n\n    const goToMediaManager = () => {\n      router.push('/media')\n    }\n\n    const goToConfig = () => {\n      router.push('/config')\n    }\n\n    const goToErrorPage = () => {\n      router.push('/error')\n    }\n\n    // Cerrar sesión\n    const logout = async () => {\n      try {\n        await authAPI.logout()\n      } catch (error) {\n        console.error('Error en logout:', error)\n      } finally {\n        localStorage.removeItem('signance_token')\n        toast.success('Sesión cerrada exitosamente')\n        router.push('/login')\n      }\n    }\n\n    onMounted(() => {\n      fetchUserInfo()\n      checkBackendStatus()\n      // Ejecutar pruebas automáticamente después de 2 segundos\n      setTimeout(runAllTests, 2000)\n    })\n\n    return {\n      userInfo,\n      backendStatus,\n      tokenInfo,\n      systemTests,\n      runTest,\n      runAllTests,\n      goToDashboard,\n      goToMediaManager,\n      goToConfig,\n      goToErrorPage,\n      logout,\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.test-ok-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--success) 0%, var(--primary) 50%, var(--secondary) 100%);\n  padding: 20px 0;\n  position: relative;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.signance-container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 0 20px;\n}\n\n.success-header {\n  text-align: center;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 20px;\n  padding: 40px 20px;\n  margin-bottom: 30px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n[data-theme=\"dark\"] .success-header {\n  background: rgba(30, 30, 30, 0.95);\n  color: var(--text-primary);\n}\n\n.success-icon {\n  color: var(--success);\n  margin-bottom: 20px;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.success-header h2 {\n  margin: 0 0 12px 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n\n.success-header p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n}\n\n.info-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  margin-bottom: 24px;\n  box-shadow: var(--shadow-md);\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-header q-icon {\n  color: var(--primary);\n}\n\n.header-text h3 {\n  margin: 0 0 4px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.header-text p {\n  margin: 0;\n  color: var(--text-secondary);\n}\n\n.card-title {\n  padding: 24px 24px 16px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-title h3 {\n  margin: 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.tests-grid {\n  padding: 20px;\n  display: grid;\n  gap: 16px;\n}\n\n.test-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 20px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  border-radius: 12px;\n  transition: all 0.3s ease;\n}\n\n.test-item:hover {\n  box-shadow: var(--shadow-md);\n}\n\n.test-success {\n  border-color: var(--success);\n  background: var(--hover-color);\n}\n\n.test-error {\n  border-color: var(--error);\n  background: var(--hover-color);\n}\n\n.test-testing {\n  border-color: var(--warning);\n  background: var(--hover-color);\n}\n\n.test-icon {\n  color: var(--text-secondary);\n}\n\n.test-success .test-icon {\n  color: var(--success);\n}\n\n.test-error .test-icon {\n  color: var(--error);\n}\n\n.test-testing .test-icon {\n  color: var(--warning);\n}\n\n.test-info {\n  flex: 1;\n}\n\n.test-info h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.test-info p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.actions-grid {\n  padding: 20px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.action-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 24px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: center;\n}\n\n.action-button:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-md);\n}\n\n.primary-action {\n  background: var(--hover-primary);\n  border: 2px solid var(--primary);\n  color: var(--primary);\n}\n\n.secondary-action {\n  background: var(--hover-secondary);\n  border: 2px solid var(--secondary);\n  color: var(--secondary);\n}\n\n.accent-action {\n  background: rgba(240, 210, 123, 0.1);\n  border: 2px solid var(--accent);\n  color: var(--accent);\n}\n\n[data-theme=\"dark\"] .accent-action {\n  background: rgba(209, 176, 95, 0.1);\n}\n\n.warning-action {\n  background: rgba(251, 140, 0, 0.1);\n  border: 2px solid var(--warning);\n  color: var(--warning);\n}\n\n[data-theme=\"dark\"] .warning-action {\n  background: rgba(255, 167, 38, 0.1);\n}\n\n.action-button span {\n  font-weight: 500;\n  font-size: 0.95rem;\n}\n\n.logout-section {\n  padding: 20px;\n  border-top: 1px solid var(--border);\n  text-align: center;\n}\n\n.system-details {\n  padding: 20px;\n  display: grid;\n  gap: 16px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 0;\n  border-bottom: 1px solid var(--border);\n}\n\n.detail-item:last-child {\n  border-bottom: none;\n}\n\n.detail-label {\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.detail-value {\n  color: var(--text-secondary);\n  font-family: monospace;\n}\n\n@media (max-width: 768px) {\n  .test-ok-container {\n    padding: 10px;\n  }\n  \n  .success-header {\n    padding: 30px 15px;\n  }\n  \n  .success-header h2 {\n    font-size: 1.5rem;\n  }\n  \n  .actions-grid {\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  }\n  \n  .action-button {\n    padding: 20px 12px;\n  }\n  \n  .detail-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n  \n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n}\n</style>\n","import { render } from \"./Ok_TestView.vue?vue&type=template&id=0aaf4706&scoped=true\"\nimport script from \"./Ok_TestView.vue?vue&type=script&lang=js\"\nexport * from \"./Ok_TestView.vue?vue&type=script&lang=js\"\n\nimport \"./Ok_TestView.vue?vue&type=style&index=0&id=0aaf4706&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0aaf4706\"]])\n\nexport default __exports__","<template>\n  <div class=\"error-container\">\n    <!-- Theme Toggle -->\n    <ThemeToggle class=\"theme-toggle\" />\n    \n    <div class=\"signance-container\">\n      <!-- Header de error -->\n      <div class=\"error-header\">\n        <div class=\"error-icon\">\n          <q-icon name=\"error\" size=\"5rem\" />\n        </div>\n        <h2>¡Oops! Algo salió mal</h2>\n        <p>Pochtecayotl Signance System - Página de Error</p>\n      </div>\n\n      <!-- Información del error -->\n      <div class=\"info-card error-info\">\n        <div class=\"card-header\">\n          <q-icon name=\"bug_report\" size=\"2rem\" />\n          <div class=\"header-text\">\n            <h3>Error del Sistema</h3>\n            <p>Detalles técnicos del problema</p>\n          </div>\n        </div>\n\n        <div class=\"error-details\">\n          <div class=\"error-badge\">\n            <q-chip color=\"negative\" text-color=\"white\" icon=\"error\">\n              Código: {{ errorCode }}\n            </q-chip>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Mensaje:</span>\n            <span class=\"detail-value\">{{ errorMessage }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Timestamp:</span>\n            <span class=\"detail-value\">{{ new Date().toLocaleString('es-ES') }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">URL:</span>\n            <span class=\"detail-value\">{{ currentUrl }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Diagnóstico del sistema -->\n      <div class=\"info-card diagnostic-card\">\n        <div class=\"card-title\">\n          <h3>Diagnóstico del Sistema</h3>\n        </div>\n        \n        <div class=\"diagnostic-grid\">\n          <div \n            v-for=\"check in diagnosticChecks\" \n            :key=\"check.name\"\n            class=\"diagnostic-item\"\n            :class=\"{ \n              'diagnostic-ok': check.status === 'ok',\n              'diagnostic-error': check.status === 'error',\n              'diagnostic-checking': check.checking\n            }\"\n          >\n            <div class=\"diagnostic-icon\">\n              <q-icon \n                :name=\"check.status === 'ok' ? 'check_circle' : check.status === 'error' ? 'error' : 'help'\"\n                size=\"1.5rem\"\n              />\n            </div>\n            \n            <div class=\"diagnostic-info\">\n              <h4>{{ check.name }}</h4>\n              <p>{{ check.description }}</p>\n              <p v-if=\"check.details\" class=\"diagnostic-details\">{{ check.details }}</p>\n            </div>\n            \n            <div class=\"diagnostic-action\">\n              <q-btn \n                flat \n                round \n                icon=\"refresh\"\n                @click=\"runDiagnostic(check)\"\n                :loading=\"check.checking\"\n                size=\"sm\"\n                color=\"primary\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Posibles soluciones -->\n      <div class=\"info-card solutions-card\">\n        <div class=\"card-title\">\n          <h3>Posibles Soluciones</h3>\n        </div>\n        \n        <div class=\"solutions-timeline\">\n          <div class=\"solution-step\">\n            <div class=\"step-number\">1</div>\n            <div class=\"step-content\">\n              <h4>Verificar Conexión</h4>\n              <p>Verifica que el servidor backend esté ejecutándose en <code>http://127.0.0.1:8002</code></p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Probar Conexión\"\n                @click=\"testConnection\"\n                size=\"sm\"\n                icon=\"wifi\"\n                rounded\n              />\n            </div>\n          </div>\n\n          <div class=\"solution-step\">\n            <div class=\"step-number\">2</div>\n            <div class=\"step-content\">\n              <h4>Revisar Autenticación</h4>\n              <p>Verifica que tu sesión no haya expirado</p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Ir a Login\"\n                @click=\"goToLogin\"\n                size=\"sm\"\n                icon=\"key\"\n                rounded\n              />\n            </div>\n          </div>\n\n          <div class=\"solution-step\">\n            <div class=\"step-number\">3</div>\n            <div class=\"step-content\">\n              <h4>Recargar Página</h4>\n              <p>A veces un simple recargo puede solucionar el problema</p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Recargar\"\n                @click=\"reloadPage\"\n                size=\"sm\"\n                icon=\"refresh\"\n                rounded\n              />\n            </div>\n          </div>\n\n          <div class=\"solution-step\">\n            <div class=\"step-number\">4</div>\n            <div class=\"step-content\">\n              <h4>Contactar Soporte</h4>\n              <p>Si el problema persiste, contacta al equipo de soporte</p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Reportar Error\"\n                @click=\"reportError\"\n                size=\"sm\"\n                icon=\"support\"\n                rounded\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Acciones de navegación -->\n      <div class=\"info-card navigation-card\">\n        <div class=\"card-title\">\n          <h3>Navegación</h3>\n        </div>\n        \n        <div class=\"navigation-actions\">\n          <div class=\"nav-button primary-nav\" @click=\"goToHome\">\n            <q-icon name=\"home\" size=\"2rem\" />\n            <span>Ir al Inicio</span>\n          </div>\n          \n          <div class=\"nav-button secondary-nav\" @click=\"goToLogin\">\n            <q-icon name=\"login\" size=\"2rem\" />\n            <span>Iniciar Sesión</span>\n          </div>\n          \n          <div class=\"nav-button success-nav\" @click=\"goToTestPage\">\n            <q-icon name=\"check\" size=\"2rem\" />\n            <span>Página de Prueba</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Información técnica -->\n      <div class=\"technical-section\">\n        <q-expansion-item\n          icon=\"code\"\n          label=\"Información Técnica\"\n          caption=\"Detalles para desarrolladores\"\n          class=\"technical-expansion\"\n        >\n          <div class=\"technical-content\">\n            <pre class=\"technical-info\">{{ technicalInfo }}</pre>\n          </div>\n        </q-expansion-item>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, computed } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useQuasar } from 'quasar'\nimport { useToast } from 'vue-toastification'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'Error_View',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const $q = useQuasar()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n\n    // Información del error\n    const errorCode = ref(route.query.code || '500')\n    const errorMessage = ref(route.query.message || 'Error interno del sistema')\n    const currentUrl = ref(window.location.href)\n\n    // Diagnósticos del sistema\n    const diagnosticChecks = ref([\n      {\n        name: 'Conexión Backend',\n        description: 'Verificar si el servidor está disponible',\n        status: 'unknown',\n        checking: false,\n        test: async () => {\n          const response = await fetch('http://127.0.0.1:8002/health')\n          return response.ok\n        }\n      },\n      {\n        name: 'Token de Autenticación',\n        description: 'Verificar validez del token JWT',\n        status: 'unknown',\n        checking: false,\n        test: () => {\n          const token = localStorage.getItem('signance_token')\n          return !!token\n        }\n      },\n      {\n        name: 'Almacenamiento Local',\n        description: 'Verificar disponibilidad de localStorage',\n        status: 'unknown',\n        checking: false,\n        test: () => {\n          try {\n            localStorage.setItem('test', 'test')\n            localStorage.removeItem('test')\n            return true\n          } catch {\n            return false\n          }\n        }\n      },\n      {\n        name: 'Conectividad de Red',\n        description: 'Verificar conexión a internet',\n        status: 'unknown',\n        checking: false,\n        test: () => navigator.onLine\n      }\n    ])\n\n    // Información técnica\n    const technicalInfo = computed(() => {\n      return JSON.stringify({\n        errorCode: errorCode.value,\n        errorMessage: errorMessage.value,\n        url: currentUrl.value,\n        userAgent: navigator.userAgent,\n        timestamp: new Date().toISOString(),\n        localStorage: {\n          hasToken: !!localStorage.getItem('signance_token'),\n          tokenLength: localStorage.getItem('signance_token')?.length || 0\n        },\n        route: {\n          path: route.path,\n          query: route.query,\n          params: route.params\n        }\n      }, null, 2)\n    })\n\n    // Ejecutar diagnóstico\n    const runDiagnostic = async (check) => {\n      check.checking = true\n      \n      try {\n        const result = await check.test()\n        check.status = result ? 'ok' : 'error'\n        check.details = result ? 'Funcionando correctamente' : 'Problema detectado'\n      } catch (error) {\n        check.status = 'error'\n        check.details = `Error: ${error.message}`\n      } finally {\n        check.checking = false\n      }\n    }\n\n    // Ejecutar todos los diagnósticos\n    const runAllDiagnostics = async () => {\n      for (const check of diagnosticChecks.value) {\n        await runDiagnostic(check)\n        await new Promise(resolve => setTimeout(resolve, 300))\n      }\n    }\n\n    // Probar conexión\n    const testConnection = async () => {\n      $q.loading.show({\n        message: 'Probando conexión...'\n      })\n\n      try {\n        const response = await fetch('http://127.0.0.1:8002/health')\n        if (response.ok) {\n          toast.success('✅ Conexión exitosa con el backend')\n        } else {\n          toast.warning('⚠️ El servidor responde pero con errores')\n        }\n      } catch (error) {\n        toast.error('❌ No se puede conectar con el servidor')\n      } finally {\n        $q.loading.hide()\n      }\n    }\n\n    // Navegación\n    const goToHome = () => {\n      router.push('/')\n    }\n\n    const goToLogin = () => {\n      router.push('/login')\n    }\n\n    const goToTestPage = () => {\n      router.push('/test-ok')\n    }\n\n    const reloadPage = () => {\n      window.location.reload()\n    }\n\n    const reportError = () => {\n      toast.info('Función de reporte de errores en desarrollo')\n      console.log('Error Report:', technicalInfo.value)\n    }\n\n    onMounted(() => {\n      // Ejecutar diagnósticos automáticamente\n      setTimeout(runAllDiagnostics, 1000)\n    })\n\n    return {\n      errorCode,\n      errorMessage,\n      currentUrl,\n      diagnosticChecks,\n      technicalInfo,\n      runDiagnostic,\n      runAllDiagnostics,\n      testConnection,\n      goToHome,\n      goToLogin,\n      goToTestPage,\n      reloadPage,\n      reportError,\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.error-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--error) 0%, var(--primary) 50%, var(--secondary) 100%);\n  padding: 20px 0;\n  position: relative;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.signance-container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 0 20px;\n}\n\n.error-header {\n  text-align: center;\n  background: var(--surface);\n  backdrop-filter: blur(20px);\n  border-radius: 20px;\n  padding: 40px 20px;\n  margin-bottom: 30px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid var(--border);\n}\n\n.error-icon {\n  color: var(--error);\n  margin-bottom: 20px;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.error-header h2 {\n  margin: 0 0 12px 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n\n.error-header p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n}\n\n.info-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  margin-bottom: 24px;\n  box-shadow: var(--shadow-md);\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-header q-icon {\n  color: var(--warning);\n}\n\n.header-text h3 {\n  margin: 0 0 4px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.header-text p {\n  margin: 0;\n  color: var(--text-secondary);\n}\n\n.card-title {\n  padding: 24px 24px 16px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-title h3 {\n  margin: 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.error-details {\n  padding: 20px;\n}\n\n.error-badge {\n  margin-bottom: 20px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 0;\n  border-bottom: 1px solid var(--border);\n}\n\n.detail-item:last-child {\n  border-bottom: none;\n}\n\n.detail-label {\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.detail-value {\n  color: var(--text-secondary);\n  font-family: monospace;\n  word-break: break-all;\n}\n\n.diagnostic-grid {\n  padding: 20px;\n  display: grid;\n  gap: 16px;\n}\n\n.diagnostic-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 20px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  border-radius: 12px;\n  transition: all 0.3s ease;\n}\n\n.diagnostic-item:hover {\n  box-shadow: var(--shadow-md);\n}\n\n.diagnostic-ok {\n  border-color: var(--success);\n  background: var(--hover-color);\n}\n\n.diagnostic-error {\n  border-color: var(--error);\n  background: var(--hover-color);\n}\n\n.diagnostic-checking {\n  border-color: var(--warning);\n  background: var(--hover-color);\n}\n\n.diagnostic-icon {\n  color: var(--text-secondary);\n}\n\n.diagnostic-ok .diagnostic-icon {\n  color: var(--success);\n}\n\n.diagnostic-error .diagnostic-icon {\n  color: var(--error);\n}\n\n.diagnostic-checking .diagnostic-icon {\n  color: var(--warning);\n}\n\n.diagnostic-info {\n  flex: 1;\n}\n\n.diagnostic-info h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.diagnostic-info p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.diagnostic-details {\n  font-size: 0.8rem !important;\n  color: var(--text-secondary) !important;\n  margin-top: 4px !important;\n}\n\n.solutions-timeline {\n  padding: 20px;\n  display: grid;\n  gap: 24px;\n}\n\n.solution-step {\n  display: flex;\n  gap: 20px;\n  align-items: flex-start;\n}\n\n.step-number {\n  background: var(--primary);\n  color: var(--on-primary);\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  flex-shrink: 0;\n}\n\n.step-content {\n  flex: 1;\n}\n\n.step-content h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.step-content p {\n  margin: 0 0 12px 0;\n  color: var(--text-secondary);\n  line-height: 1.4;\n}\n\n.step-content code {\n  background: var(--background);\n  border: 1px solid var(--border);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: monospace;\n  font-size: 0.85rem;\n}\n\n.navigation-actions {\n  padding: 20px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n}\n\n.nav-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 24px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: center;\n}\n\n.nav-button:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-md);\n}\n\n.primary-nav {\n  background: var(--hover-primary);\n  border: 2px solid var(--primary);\n  color: var(--primary);\n}\n\n.secondary-nav {\n  background: var(--hover-secondary);\n  border: 2px solid var(--secondary);\n  color: var(--secondary);\n}\n\n.success-nav {\n  background: rgba(67, 160, 71, 0.1);\n  border: 2px solid var(--success);\n  color: var(--success);\n}\n\n[data-theme=\"dark\"] .success-nav {\n  background: rgba(102, 187, 106, 0.1);\n}\n\n.nav-button span {\n  font-weight: 500;\n  font-size: 0.95rem;\n}\n\n.technical-section {\n  margin-bottom: 20px;\n}\n\n.technical-expansion {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  overflow: hidden;\n}\n\n.technical-content {\n  padding: 20px;\n}\n\n.technical-info {\n  background: var(--background);\n  padding: 15px;\n  border-radius: 8px;\n  font-size: 12px;\n  overflow-x: auto;\n  max-height: 300px;\n  border: 1px solid var(--border);\n  color: var(--text-primary);\n}\n\n@media (max-width: 768px) {\n  .error-container {\n    padding: 10px;\n  }\n  \n  .error-header {\n    padding: 30px 15px;\n  }\n  \n  .error-header h2 {\n    font-size: 1.5rem;\n  }\n  \n  .navigation-actions {\n    grid-template-columns: 1fr;\n  }\n  \n  .nav-button {\n    padding: 20px 12px;\n  }\n  \n  .detail-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n  \n  .solution-step {\n    flex-direction: column;\n    gap: 12px;\n  }\n  \n  .step-number {\n    align-self: flex-start;\n  }\n  \n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n}\n</style>\n","import { render } from \"./Error_View.vue?vue&type=template&id=2aecc947&scoped=true\"\nimport script from \"./Error_View.vue?vue&type=script&lang=js\"\nexport * from \"./Error_View.vue?vue&type=script&lang=js\"\n\nimport \"./Error_View.vue?vue&type=style&index=0&id=2aecc947&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2aecc947\"]])\n\nexport default __exports__","<template>\n  <div class=\"selection-container\">\n    <!-- Theme Toggle -->\n    <ThemeToggle class=\"theme-toggle\" />\n    \n    <!-- Main Selection Card -->\n    <div class=\"selection-card\">\n      <div class=\"card-header\">\n        <div class=\"logo-section\">\n          <q-icon name=\"campaign\" size=\"4rem\" class=\"ads-icon\" />\n          <h2 class=\"welcome-title\">Bienvenido</h2>\n          <h3 class=\"system-title\">Pochtecayotl Signance System</h3>\n        </div>\n        <p class=\"subtitle\">Seleccione una opción para continuar</p>\n      </div>\n\n      <div class=\"options-section\">\n        <div class=\"option-card player-option\" @click=\"goPlayer\">\n          <div class=\"option-icon\">\n            <q-icon name=\"play_circle_filled\" size=\"3rem\" />\n          </div>\n          <div class=\"option-content\">\n            <h4>Reproductor</h4>\n            <p>Acceder al reproductor de contenido multimedia</p>\n          </div>\n          <q-icon name=\"arrow_forward\" size=\"1.5rem\" class=\"arrow-icon\" />\n        </div>\n\n        <div class=\"option-card admin-option\" @click=\"goAdmin\">\n          <div class=\"option-icon\">\n            <q-icon name=\"dashboard\" size=\"3rem\" />\n          </div>\n          <div class=\"option-content\">\n            <h4>Admin Dashboard</h4>\n            <p>Gestionar contenido y configuración del sistema</p>\n          </div>\n          <q-icon name=\"arrow_forward\" size=\"1.5rem\" class=\"arrow-icon\" />\n        </div>\n      </div>\n\n      <div class=\"footer-section\">\n        <p class=\"footer-text\">Sistema diseñado por un gei 🏳️‍🌈</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'SelectionView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const { isDarkMode } = useTheme()\n    \n    const goPlayer = () => router.push('/player')\n    const goAdmin = () => router.push('/admin')\n    \n    return { \n      goPlayer, \n      goAdmin,\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.selection-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  position: relative;\n  overflow: hidden;\n}\n\n.selection-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 30% 20%, rgba(240, 144, 123, 0.2) 0%, transparent 50%),\n              radial-gradient(circle at 70% 80%, rgba(123, 197, 240, 0.2) 0%, transparent 50%);\n  pointer-events: none;\n}\n\n[data-theme=\"dark\"] .selection-container::before {\n  background: radial-gradient(circle at 30% 20%, rgba(255, 170, 147, 0.2) 0%, transparent 50%),\n              radial-gradient(circle at 70% 80%, rgba(90, 157, 203, 0.2) 0%, transparent 50%);\n}\n\n.theme-toggle {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  z-index: 10;\n}\n\n.selection-card {\n  background: var(--surface);\n  backdrop-filter: blur(20px);\n  border-radius: 24px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid var(--border);\n  padding: 60px 40px;\n  max-width: 600px;\n  width: 100%;\n  text-align: center;\n  position: relative;\n  z-index: 2;\n  transition: all 0.3s ease;\n}\n\n.card-header {\n  margin-bottom: 40px;\n}\n\n.logo-section {\n  margin-bottom: 20px;\n}\n\n.pride-icon {\n  color: var(--primary);\n  margin-bottom: 16px;\n  animation: float 3s ease-in-out infinite;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.welcome-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  background: linear-gradient(45deg, var(--primary), var(--secondary));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.system-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0 0 16px 0;\n  color: var(--text-primary);\n}\n\n.subtitle {\n  font-size: 1.1rem;\n  color: var(--text-secondary);\n  margin: 0;\n}\n\n.options-section {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-bottom: 40px;\n}\n\n.option-card {\n  display: flex;\n  align-items: center;\n  padding: 24px;\n  border-radius: 16px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n}\n\n.option-card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--shadow-lg);\n  border-color: var(--primary);\n}\n\n.player-option:hover {\n  background: var(--hover-secondary);\n}\n\n.admin-option:hover {\n  background: var(--hover-primary);\n}\n\n.option-icon {\n  margin-right: 20px;\n  color: var(--primary);\n  transition: all 0.3s ease;\n}\n\n.option-card:hover .option-icon {\n  transform: scale(1.1);\n  color: var(--primary-dark);\n}\n\n.option-content {\n  flex: 1;\n}\n\n.option-content h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.option-content p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n}\n\n.arrow-icon {\n  color: var(--secondary);\n  transition: all 0.3s ease;\n}\n\n.option-card:hover .arrow-icon {\n  transform: translateX(4px);\n  color: var(--primary);\n}\n\n.footer-section {\n  border-top: 1px solid var(--border);\n  padding-top: 20px;\n}\n\n.footer-text {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n}\n\n@media (max-width: 768px) {\n  .selection-container {\n    padding: 20px 10px;\n  }\n  \n  .selection-card {\n    padding: 40px 20px;\n  }\n  \n  .welcome-title {\n    font-size: 2rem;\n  }\n  \n  .system-title {\n    font-size: 1.3rem;\n  }\n  \n  .option-card {\n    padding: 20px;\n  }\n  \n  .option-icon {\n    margin-right: 16px;\n  }\n  \n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n}\n</style>\n","import { render } from \"./SelectionView.vue?vue&type=template&id=8e67c9e0&scoped=true\"\nimport script from \"./SelectionView.vue?vue&type=script&lang=js\"\nexport * from \"./SelectionView.vue?vue&type=script&lang=js\"\n\nimport \"./SelectionView.vue?vue&type=style&index=0&id=8e67c9e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8e67c9e0\"]])\n\nexport default __exports__","<template>\n  <div class=\"admin-dashboard-container\">\n    <ThemeToggle class=\"theme-toggle\" />\n    <div class=\"signance-container\">\n      <div class=\"dashboard-header\">\n        <div class=\"header-icon\">\n          <q-icon name=\"dashboard\" size=\"4rem\" />\n        </div>\n        <h2>Dashboard Administrativo</h2>\n        <p>Pochtecayotl Signance System - Panel de Control</p>\n      </div>\n\n      <StatisticsCard :stats=\"stats\" :business-info=\"businessInfo\" />\n\n      <PlaylistManagement\n        :playlists=\"playlists\"\n        @create=\"showCreatePlaylistDialog\"\n        @edit=\"editPlaylist\"\n        @manage=\"managePlaylistMedia\"\n        @schedule=\"schedulePlaylist\"\n        @delete=\"deletePlaylist\"\n      />\n\n      <div class=\"info-card upload-card\">\n        <div class=\"card-header\">\n          <q-icon name=\"cloud_upload\" size=\"2rem\" />\n          <div class=\"header-text\">\n            <h3>Subir Multimedia</h3>\n            <p>Agregar nuevos archivos al sistema</p>\n          </div>\n        </div>\n        <div class=\"upload-content\">\n          <MediaUploader @uploaded=\"onMediaUploaded\" @error=\"onMediaUploadError\" />\n        </div>\n      </div>\n\n      <MediaGallery\n        :media-files=\"mediaFiles\"\n        :backend-base-url=\"backendBaseUrl\"\n        :loading=\"mediaLoading\"\n        mode=\"compact\"\n        title=\"Archivos Multimedia\"\n        subtitle=\"Archivos recientes\"\n        :max-items=\"8\"\n        @refresh=\"loadMedia\"\n        @edit=\"editMedia\"\n        @delete=\"deleteMedia\"\n        @show-all=\"navigateToMediaManager\"\n        class=\"section-spacing\"\n      />\n\n      <QuickActions @logout=\"logout\" class=\"section-spacing\" />\n    </div>\n\n    <PlaylistDialog\n      v-model=\"playlistDialog\"\n      :playlist=\"editingPlaylist\"\n      :form=\"playlistForm\"\n      :loading=\"savingPlaylist\"\n      :is-dark=\"isDarkMode\"\n      @save=\"savePlaylist\"\n      @close=\"closePlaylistDialog\"\n    />\n\n    <EditMediaDialog\n      v-model=\"editMediaDialog\"\n      :media=\"editingMedia\"\n      :form=\"editMediaForm\"\n      :loading=\"savingMedia\"\n      :is-dark=\"isDarkMode\"\n      @save=\"saveMediaChanges\"\n      @close=\"closeEditMediaDialog\"\n    />\n\n    <ScheduleDialog\n      v-model=\"scheduleDialog\"\n      :form=\"scheduleForm\"\n      :loading=\"savingSchedule\"\n      :weekday-options=\"weekdayOptions\"\n      :is-dark=\"isDarkMode\"\n      @save=\"saveSchedule\"\n      @close=\"closeScheduleDialog\"\n    />\n\n    <!-- Dialog para gestionar medios en playlist -->\n    <q-dialog v-model=\"playlistMediaDialog\" persistent>\n      <q-card style=\"min-width: 700px; max-width: 900px;\" :class=\"{ 'bg-dark text-white': isDarkMode }\">\n        <q-card-section>\n          <div class=\"text-h6\">\n            Gestionar Medios - {{ selectedPlaylist?.name }}\n          </div>\n        </q-card-section>\n\n        <q-card-section class=\"q-pt-none\">\n          <div class=\"row q-gutter-md\">\n            <!-- Medios disponibles -->\n            <div class=\"col-5\">\n              <div class=\"text-subtitle2 q-mb-md\">Medios Disponibles</div>\n              <q-list bordered class=\"available-media-list\" :class=\"{ 'bg-grey-9': isDarkMode }\">\n                <q-item \n                  v-for=\"media in availableMedia\" \n                  :key=\"media.id\"\n                  clickable\n                  @click=\"addMediaToPlaylist(media)\"\n                >\n                  <q-item-section avatar>\n                    <q-icon :name=\"getMediaIcon(media.media_type || media.file_type)\" />\n                  </q-item-section>\n                  <q-item-section>\n                    <q-item-label>{{ media.filename }}</q-item-label>\n                    <q-item-label caption>{{ media.media_type || media.file_type }}</q-item-label>\n                  </q-item-section>\n                  <q-item-section side>\n                    <q-btn flat round icon=\"add\" size=\"sm\" />\n                  </q-item-section>\n                </q-item>\n                <q-item v-if=\"availableMedia.length === 0\">\n                  <q-item-section>\n                    <q-item-label class=\"text-center text-grey\">No hay medios disponibles</q-item-label>\n                  </q-item-section>\n                </q-item>\n              </q-list>\n            </div>\n\n            <!-- Medios en playlist -->\n            <div class=\"col-6\">\n              <div class=\"text-subtitle2 q-mb-md\">Medios en Playlist</div>\n              <q-list bordered class=\"playlist-media-list\" :class=\"{ 'bg-grey-9': isDarkMode }\">\n                <draggable \n                  v-model=\"playlistMedias\" \n                  @end=\"reorderPlaylistMedia\"\n                  item-key=\"id\"\n                >\n                  <template #item=\"{ element: media, index }\">\n                    <q-item>\n                      <q-item-section avatar>\n                        <q-icon name=\"drag_handle\" />\n                      </q-item-section>\n                      <q-item-section avatar>\n                        <q-icon :name=\"getMediaIcon(media.media_type || media.file_type)\" />\n                      </q-item-section>\n                      <q-item-section>\n                        <q-item-label>{{ media.filename }}</q-item-label>\n                        <q-item-label caption>{{ media.media_type || media.file_type }} - Orden: {{ index + 1 }}</q-item-label>\n                      </q-item-section>\n                      <q-item-section side>\n                        <q-btn \n                          flat \n                          round \n                          icon=\"remove\" \n                          size=\"sm\"\n                          @click=\"removeMediaFromPlaylist(media.id)\"\n                        />\n                      </q-item-section>\n                    </q-item>\n                  </template>\n                </draggable>\n                <q-item v-if=\"playlistMedias.length === 0\">\n                  <q-item-section>\n                    <q-item-label class=\"text-center text-grey\">No hay medios en esta playlist</q-item-label>\n                  </q-item-section>\n                </q-item>\n              </q-list>\n            </div>\n          </div>\n        </q-card-section>\n\n        <q-card-actions align=\"right\">\n          <q-btn flat label=\"Cerrar\" @click=\"closePlaylistMediaDialog\" />\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useQuasar } from 'quasar'\nimport { useToast } from 'vue-toastification'\nimport { businessAPI } from '../services/api'\nimport MediaUploader from '../components/MediaUploader.vue'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport StatisticsCard from '../components/dashboard/StatisticsCard.vue'\nimport PlaylistManagement from '../components/dashboard/PlaylistManagement.vue'\nimport MediaGallery from '../components/dashboard/MediaGallery.vue'\nimport QuickActions from '../components/dashboard/QuickActions.vue'\nimport PlaylistDialog from '../components/dashboard/dialogs/PlaylistDialog.vue'\nimport EditMediaDialog from '../components/dashboard/dialogs/EditMediaDialog.vue'\nimport ScheduleDialog from '../components/dashboard/dialogs/ScheduleDialog.vue'\nimport { useTheme } from '../composables/useTheme'\nimport { usePlaylists } from '../composables/usePlaylists'\nimport { useMedia } from '../composables/useMedia'\nimport { useSchedules } from '../composables/useSchedules'\nimport { useMediaUrl } from '../composables/useMediaUrl'\nimport backendDetector from '../services/backendDetector'\nimport draggable from 'vuedraggable'\n\nexport default {\n  name: 'AdminView',\n  components: {\n    MediaUploader,\n    ThemeToggle,\n    StatisticsCard,\n    PlaylistManagement,\n    MediaGallery,\n    QuickActions,\n    PlaylistDialog,\n    EditMediaDialog,\n    ScheduleDialog,\n    draggable\n  },\n  setup () {\n    const router = useRouter()\n    const $q = useQuasar()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n    const { backendBaseUrl } = useMediaUrl()\n\n    const playlistDialog = ref(false)\n    const editMediaDialog = ref(false)\n    const scheduleDialog = ref(false)\n    const playlistMediaDialog = ref(false)\n\n    const playlistForm = reactive({ name: '', description: '' })\n    const editMediaForm = reactive({ filename: '', description: '' })\n    const scheduleForm = reactive({ contentName: '' })\n\n    const savingPlaylist = ref(false)\n    const savingMedia = ref(false)\n    const savingSchedule = ref(false)\n    const mediaLoading = ref(false)\n\n    const { playlists, stats, loadPlaylists, loadStats, createPlaylist, updatePlaylist, removePlaylist } = usePlaylists()\n    const { mediaFiles, loadMedia, removeMedia } = useMedia()\n    const { loadSchedules } = useSchedules()\n\n    const businessInfo = reactive({ name: '', logo: null })\n    const editingPlaylist = ref(null)\n    const editingMedia = ref(null)\n    const selectedPlaylist = ref(null)\n    const availableMedia = ref([])\n    const playlistMedias = ref([])\n\n    const weekdayOptions = [\n      { label: 'Lun', value: 0 },\n      { label: 'Mar', value: 1 },\n      { label: 'Mié', value: 2 },\n      { label: 'Jue', value: 3 },\n      { label: 'Vie', value: 4 },\n      { label: 'Sáb', value: 5 },\n      { label: 'Dom', value: 6 }\n    ]\n\n    const refreshData = async () => {\n      await Promise.all([loadPlaylists(), loadMedia(), loadStats(), loadSchedules(), loadBusinessInfo()])\n    }\n\n    const loadBusinessInfo = async () => {\n      try {\n        const response = await businessAPI.get()\n        Object.assign(businessInfo, response.data)\n      } catch (error) {\n        console.error('Error loading business info:', error)\n        // Set default values if error\n        businessInfo.name = 'Signance System'\n        businessInfo.logo = null\n      }\n    }\n\n    const showCreatePlaylistDialog = () => {\n      editingPlaylist.value = null\n      playlistForm.name = ''\n      playlistForm.description = ''\n      playlistDialog.value = true\n    }\n\n    const editPlaylist = (playlist) => {\n      editingPlaylist.value = playlist\n      playlistForm.name = playlist.name\n      playlistForm.description = playlist.description || ''\n      playlistDialog.value = true\n    }\n\n    const savePlaylist = async () => {\n      savingPlaylist.value = true\n      try {\n        if (editingPlaylist.value) {\n          await updatePlaylist(editingPlaylist.value.id, playlistForm)\n        } else {\n          await createPlaylist(playlistForm)\n        }\n        playlistDialog.value = false\n      } finally {\n        savingPlaylist.value = false\n      }\n    }\n\n    const deletePlaylist = async (playlistId) => {\n      await removePlaylist(playlistId)\n    }\n\n    const onMediaUploaded = () => {\n      loadMedia()\n      loadStats()\n    }\n\n    const onMediaUploadError = () => {\n      toast.error('Error subiendo archivo')\n    }\n\n    const editMedia = (media) => {\n      editingMedia.value = media\n      editMediaForm.filename = media.filename\n      editMediaForm.description = media.description\n      editMediaDialog.value = true\n    }\n\n    const saveMediaChanges = async () => {\n      // Placeholder for update logic\n      editMediaDialog.value = false\n    }\n\n    const deleteMedia = async (mediaId) => {\n      await removeMedia(mediaId)\n      loadStats()\n    }\n\n    const schedulePlaylist = (playlist) => {\n      scheduleForm.contentName = playlist.name\n      scheduleDialog.value = true\n    }\n\n    const managePlaylistMedia = async (playlist) => {\n      selectedPlaylist.value = playlist\n      try {\n        // Cargar medios de la playlist\n        const playlistResponse = await fetch(`${backendBaseUrl.value}/api/playlists/${playlist.id}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          }\n        })\n        const playlistData = await playlistResponse.json()\n        playlistMedias.value = playlistData.medias || []\n\n        // Cargar todos los medios disponibles\n        // Filtrar medios que no están en la playlist\n        const mediaInPlaylist = new Set(playlistMedias.value.map(m => m.id))\n        availableMedia.value = mediaFiles.value.filter(m => !mediaInPlaylist.has(m.id))\n\n        playlistMediaDialog.value = true\n      } catch (error) {\n        toast.error('Error cargando datos de playlist')\n        console.error('Error loading playlist media:', error)\n      }\n    }\n\n    const closePlaylistMediaDialog = () => {\n      playlistMediaDialog.value = false\n      selectedPlaylist.value = null\n      availableMedia.value = []\n      playlistMedias.value = []\n    }\n\n    const closePlaylistDialog = () => { playlistDialog.value = false }\n    const closeEditMediaDialog = () => { editMediaDialog.value = false }\n    const closeScheduleDialog = () => { scheduleDialog.value = false }\n\n    const saveSchedule = async () => {\n      savingSchedule.value = false\n      scheduleDialog.value = false\n    }\n\n    const logout = () => {\n      localStorage.removeItem('signance_token')\n      router.push('/login')\n    }\n\n    const addMediaToPlaylist = async (media) => {\n      try {\n        const response = await fetch(`${backendBaseUrl.value}/api/playlists/${selectedPlaylist.value.id}/media`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          },\n          body: JSON.stringify({\n            media_id: media.id\n          })\n        })\n\n        if (response.ok) {\n          // Mover el media de disponible a playlist\n          availableMedia.value = availableMedia.value.filter(m => m.id !== media.id)\n          playlistMedias.value.push({\n            ...media,\n            order_index: playlistMedias.value.length\n          })\n          toast.success(`\"${media.filename}\" añadido a la playlist`)\n        } else {\n          throw new Error('Error en la respuesta del servidor')\n        }\n      } catch (error) {\n        toast.error('Error añadiendo medio a la playlist')\n        console.error('Error adding media to playlist:', error)\n      }\n    }\n\n    const removeMediaFromPlaylist = async (mediaId) => {\n      try {\n        const response = await fetch(`${backendBaseUrl.value}/api/playlists/${selectedPlaylist.value.id}/media/${mediaId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          }\n        })\n\n        if (response.ok) {\n          // Mover el media de playlist a disponible\n          const mediaToRemove = playlistMedias.value.find(m => m.id === mediaId)\n          if (mediaToRemove) {\n            playlistMedias.value = playlistMedias.value.filter(m => m.id !== mediaId)\n            availableMedia.value.push(mediaToRemove)\n            toast.success(`\"${mediaToRemove.filename}\" removido de la playlist`)\n          }\n        } else {\n          throw new Error('Error en la respuesta del servidor')\n        }\n      } catch (error) {\n        toast.error('Error removiendo medio de la playlist')\n        console.error('Error removing media from playlist:', error)\n      }\n    }\n\n    const reorderPlaylistMedia = async () => {\n      try {\n        const mediaOrder = playlistMedias.value.map((media, index) => ({\n          media_id: media.id,\n          order_index: index\n        }))\n\n        const response = await fetch(`${backendBaseUrl.value}/api/playlists/${selectedPlaylist.value.id}/reorder`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          },\n          body: JSON.stringify({\n            media_order: mediaOrder\n          })\n        })\n\n        if (response.ok) {\n          toast.success('Orden actualizado')\n        } else {\n          throw new Error('Error en la respuesta del servidor')\n        }\n      } catch (error) {\n        toast.error('Error reordenando medios')\n        console.error('Error reordering media:', error)\n      }\n    }\n\n    const getMediaIcon = (fileType) => {\n      if (!fileType) return 'description'\n      \n      const type = fileType.toLowerCase()\n      if (type.includes('image')) return 'image'\n      if (type.includes('video')) return 'videocam'\n      if (type.includes('audio')) return 'audiotrack'\n      if (type.includes('pdf')) return 'picture_as_pdf'\n      return 'description'\n    }\n\n    const navigateToMediaManager = () => {\n      router.push('/media')\n    }\n\n    onMounted(async () => {\n      refreshData()\n      $q.dark.set(isDarkMode.value)\n    })\n\n    watch(isDarkMode, (val) => {\n      $q.dark.set(val)\n    })\n\n    return {\n      backendBaseUrl,\n      playlistDialog,\n      editMediaDialog,\n      scheduleDialog,\n      playlistMediaDialog,\n      playlistForm,\n      editMediaForm,\n      scheduleForm,\n      savingPlaylist,\n      savingMedia,\n      savingSchedule,\n      mediaLoading,\n      playlists,\n      stats,\n      mediaFiles,\n      businessInfo,\n      editingPlaylist,\n      editingMedia,\n      selectedPlaylist,\n      availableMedia,\n      playlistMedias,\n      weekdayOptions,\n      isDarkMode,\n      loadMedia,\n      showCreatePlaylistDialog,\n      editPlaylist,\n      savePlaylist,\n      deletePlaylist,\n      managePlaylistMedia,\n      closePlaylistMediaDialog,\n      schedulePlaylist,\n      onMediaUploaded,\n      onMediaUploadError,\n      editMedia,\n      saveMediaChanges,\n      deleteMedia,\n      saveSchedule,\n      closePlaylistDialog,\n      closeEditMediaDialog,\n      closeScheduleDialog,\n      logout,\n      addMediaToPlaylist,\n      removeMediaFromPlaylist,\n      reorderPlaylistMedia,\n      getMediaIcon\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* CSS Variables */\n:root {\n  --primary: #1976d2;\n  --primary-light: #42a5f5;\n  --primary-rgb: 25, 118, 210;\n  --secondary: #dc004e;\n  --accent: #9c27b0;\n}\n\n.admin-dashboard-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);\n  padding: 20px 0;\n  position: relative;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.signance-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n}\n\n.dashboard-header {\n  text-align: center;\n  color: white;\n  margin-bottom: 40px;\n  padding: 40px 20px;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.header-icon {\n  margin-bottom: 20px;\n  opacity: 0.9;\n}\n\n.dashboard-header h2 {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 10px 0;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.dashboard-header p {\n  font-size: 1.1rem;\n  opacity: 0.9;\n  margin: 0;\n  font-weight: 300;\n}\n\n/* Card Styles */\n.info-card {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  transition: all 0.3s ease;\n}\n\n.info-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n}\n\n/* Dark mode card styles */\n.body--dark .info-card {\n  background: rgba(30, 30, 30, 0.95);\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin-bottom: 25px;\n  padding-bottom: 20px;\n  border-bottom: 2px solid rgba(0, 0, 0, 0.1);\n}\n\n.body--dark .card-header {\n  border-bottom-color: rgba(255, 255, 255, 0.1);\n}\n\n.header-text h3 {\n  margin: 0 0 5px 0;\n  font-size: 1.8rem;\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.body--dark .header-text h3 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.header-text p {\n  margin: 0;\n  color: #666;\n  font-size: 1rem;\n}\n\n.body--dark .header-text p {\n  color: #ccc;\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  margin-bottom: 25px;\n}\n\n.card-title h3 {\n  margin: 0;\n  font-size: 1.8rem;\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.body--dark .card-title h3 {\n  color: var(--primary-light, #42a5f5);\n}\n\n/* Upload Card Specific Styles */\n.upload-card .upload-content {\n  padding: 20px 0;\n}\n\n/* Stats Grid */\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  transition: all 0.3s ease;\n}\n\n.body--dark .stat-item {\n  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);\n}\n\n.stat-item:hover {\n  transform: scale(1.02);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n}\n\n.stat-icon {\n  color: var(--primary);\n  opacity: 0.8;\n}\n\n.stat-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: var(--primary);\n}\n\n.body--dark .stat-info h4 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.stat-info p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: #666;\n  font-weight: 500;\n}\n\n.body--dark .stat-info p {\n  color: #ccc;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .signance-container {\n    padding: 0 10px;\n  }\n  \n  .info-card {\n    padding: 20px;\n    margin-bottom: 20px;\n  }\n  \n  .dashboard-header {\n    padding: 30px 15px;\n  }\n  \n  .dashboard-header h2 {\n    font-size: 2rem;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 15px;\n  }\n  \n  .card-header {\n    flex-direction: column;\n    gap: 15px;\n    align-items: flex-start;\n  }\n}\n\n@media (max-width: 480px) {\n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n  \n  .dashboard-header h2 {\n    font-size: 1.8rem;\n  }\n  \n  .dashboard-header p {\n    font-size: 1rem;\n  }\n  \n  .info-card {\n    padding: 15px;\n  }\n  \n  .header-text h3 {\n    font-size: 1.5rem;\n  }\n}\n\n/* Playlist Media Management Dialog Styles */\n.available-media-list,\n.playlist-media-list {\n  max-height: 400px;\n  overflow-y: auto;\n  border-radius: 8px;\n}\n\n.body--dark .available-media-list,\n.body--dark .playlist-media-list {\n  background-color: #1e1e1e;\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n/* Custom scrollbar for lists */\n.available-media-list::-webkit-scrollbar,\n.playlist-media-list::-webkit-scrollbar {\n  width: 6px;\n}\n\n.available-media-list::-webkit-scrollbar-track,\n.playlist-media-list::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 3px;\n}\n\n.available-media-list::-webkit-scrollbar-thumb,\n.playlist-media-list::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.available-media-list::-webkit-scrollbar-thumb:hover,\n.playlist-media-list::-webkit-scrollbar-thumb:hover {\n  background: #a1a1a1;\n}\n\n.body--dark .available-media-list::-webkit-scrollbar-track,\n.body--dark .playlist-media-list::-webkit-scrollbar-track {\n  background: #2d2d2d;\n}\n\n.body--dark .available-media-list::-webkit-scrollbar-thumb,\n.body--dark .playlist-media-list::-webkit-scrollbar-thumb {\n  background: #555;\n}\n\n.body--dark .available-media-list::-webkit-scrollbar-thumb:hover,\n.body--dark .playlist-media-list::-webkit-scrollbar-thumb:hover {\n  background: #777;\n}\n\n/* Separación entre secciones */\n.section-spacing {\n  margin-bottom: 32px;\n}\n\n/* Espaciado especial para MediaGallery */\n.section-spacing + .section-spacing {\n  margin-top: 24px;\n}\n\n/* Responsive spacing */\n@media (max-width: 768px) {\n  .section-spacing {\n    margin-bottom: 24px;\n  }\n  \n  .section-spacing + .section-spacing {\n    margin-top: 16px;\n  }\n}\n</style>\n\n","<template>\n  <div class=\"info-card stats-card\">\n    <div class=\"card-title\">\n      <h3>Estadísticas del Sistema</h3>\n    </div>\n    <div class=\"stats-grid\">\n      <div class=\"stat-item media-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"video_library\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ stats.totalMedia }}</h4>\n          <p>Archivos Multimedia</p>\n        </div>\n      </div>\n      <div class=\"stat-item playlist-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"playlist_play\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ stats.totalPlaylists }}</h4>\n          <p>Playlists Creadas</p>\n        </div>\n      </div>\n      <div class=\"stat-item schedule-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"schedule\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ stats.totalScheduledItems }}</h4>\n          <p>Elementos Programados</p>\n        </div>\n      </div>\n      <div class=\"stat-item business-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"business\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ businessInfo.name || 'N/A' }}</h4>\n          <p>Negocio Configurado</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefineProps({\n  stats: Object,\n  businessInfo: Object\n})\n</script>\n\n<style scoped>\n/* CSS Variables */\n:root {\n  --primary: #1976d2;\n  --primary-light: #42a5f5;\n  --primary-rgb: 25, 118, 210;\n  --secondary: #dc004e;\n  --accent: #9c27b0;\n}\n\n/* Stats Grid */\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  transition: all 0.3s ease;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n/* Dark mode for stat items */\n.body--dark .stat-item {\n  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.stat-item:hover {\n  transform: scale(1.02);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n}\n\n/* Specific stat item colors */\n.media-stat .stat-icon {\n  color: #ff9800;\n  background: rgba(255, 152, 0, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.playlist-stat .stat-icon {\n  color: #2196f3;\n  background: rgba(33, 150, 243, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.schedule-stat .stat-icon {\n  color: #4caf50;\n  background: rgba(76, 175, 80, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.business-stat .stat-icon {\n  color: #9c27b0;\n  background: rgba(156, 39, 176, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.stat-info {\n  flex: 1;\n}\n\n.stat-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: var(--primary);\n}\n\n.body--dark .stat-info h4 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.stat-info p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: #666;\n  font-weight: 500;\n}\n\n.body--dark .stat-info p {\n  color: #ccc;\n}\n\n/* Media queries for responsive design */\n@media (max-width: 768px) {\n  .stats-grid {\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 15px;\n  }\n  \n  .stat-item {\n    padding: 15px;\n    gap: 12px;\n  }\n  \n  .stat-info h4 {\n    font-size: 1.5rem;\n  }\n  \n  .stat-info p {\n    font-size: 0.8rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .stat-item {\n    padding: 12px;\n  }\n  \n  .stat-info h4 {\n    font-size: 1.4rem;\n  }\n}\n</style>\n","import script from \"./StatisticsCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StatisticsCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StatisticsCard.vue?vue&type=style&index=0&id=ed43a590&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ed43a590\"]])\n\nexport default __exports__","<template>\n  <div class=\"info-card playlists-card\">\n    <div class=\"card-header\">\n      <q-icon name=\"playlist_play\" size=\"2rem\" />\n      <div class=\"header-text\">\n        <h3>Gestión de Playlists</h3>\n        <p>Crear y administrar listas de reproducción</p>\n      </div>\n      <q-btn color=\"primary\" icon=\"add\" label=\"Nueva Playlist\" @click=\"$emit('create')\" rounded no-caps />\n    </div>\n\n    <div class=\"playlists-content\">\n      <div v-if=\"playlists.length === 0\" class=\"empty-state\">\n        <q-icon name=\"playlist_add\" size=\"3rem\" />\n        <p>No hay playlists creadas</p>\n        <q-btn flat color=\"primary\" label=\"Crear primera playlist\" @click=\"$emit('create')\" />\n      </div>\n\n      <div v-else class=\"playlists-grid\">\n        <div v-for=\"playlist in playlists\" :key=\"playlist.id\" class=\"playlist-item\">\n          <div class=\"playlist-icon\"><q-icon name=\"queue_music\" size=\"1.5rem\" /></div>\n          <div class=\"playlist-info\">\n            <h4>{{ playlist.name }}</h4>\n            <p>{{ playlist.description || 'Sin descripción' }}</p>\n            <div class=\"playlist-meta\">\n              <q-chip size=\"sm\" color=\"primary\" text-color=\"white\">\n                {{ playlist.media_count || 0 }} medios\n              </q-chip>\n              <span class=\"playlist-date\">{{ formatDate(playlist.created_at) }}</span>\n            </div>\n          </div>\n          <div class=\"playlist-actions\">\n            <q-btn flat round icon=\"video_library\" size=\"sm\" color=\"secondary\" title=\"Gestionar medios\" @click=\"$emit('manage', playlist)\" />\n            <q-btn flat round icon=\"schedule\" size=\"sm\" color=\"orange\" title=\"Programar playlist\" @click=\"$emit('schedule', playlist)\" />\n            <q-btn flat round icon=\"edit\" size=\"sm\" color=\"primary\" title=\"Editar\" @click=\"$emit('edit', playlist)\" />\n            <q-btn flat round icon=\"delete\" size=\"sm\" color=\"negative\" title=\"Eliminar\" @click=\"$emit('delete', playlist.id)\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefineProps({\n  playlists: Array\n})\n\nconst formatDate = (dateString) => {\n  if (!dateString) return 'Fecha no disponible'\n  return new Date(dateString).toLocaleDateString('es-ES', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n</script>\n\n<style scoped>\n.playlists-content {\n  padding-top: 10px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #666;\n}\n\n.body--dark .empty-state {\n  color: #ccc;\n}\n\n.empty-state q-icon {\n  margin-bottom: 20px;\n  opacity: 0.6;\n}\n\n.empty-state p {\n  font-size: 1.1rem;\n  margin-bottom: 20px;\n  font-weight: 500;\n}\n\n.playlists-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 20px;\n}\n\n.playlist-item {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n}\n\n.body--dark .playlist-item {\n  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.playlist-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n}\n\n.playlist-icon {\n  color: var(--primary);\n  padding: 10px;\n  border-radius: 8px;\n  background: rgba(var(--primary-rgb), 0.1);\n}\n\n.playlist-info {\n  flex: 1;\n}\n\n.playlist-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.body--dark .playlist-info h4 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.playlist-info p {\n  margin: 0 0 10px 0;\n  color: #666;\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.body--dark .playlist-info p {\n  color: #ccc;\n}\n\n.playlist-meta {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-top: 8px;\n}\n\n.playlist-date {\n  font-size: 0.8rem;\n  color: #999;\n}\n\n.body--dark .playlist-date {\n  color: #aaa;\n}\n\n.playlist-actions {\n  display: flex;\n  gap: 5px;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .playlists-grid {\n    grid-template-columns: 1fr;\n    gap: 15px;\n  }\n  \n  .playlist-item {\n    padding: 15px;\n    gap: 12px;\n  }\n  \n  .playlist-info h4 {\n    font-size: 1rem;\n  }\n  \n  .playlist-actions {\n    flex-direction: column;\n    gap: 8px;\n  }\n}\n\n@media (max-width: 480px) {\n  .empty-state {\n    padding: 40px 15px;\n  }\n  \n  .playlist-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 15px;\n  }\n  \n  .playlist-actions {\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-around;\n  }\n}\n</style>\n","import script from \"./PlaylistManagement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PlaylistManagement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PlaylistManagement.vue?vue&type=style&index=0&id=56cea820&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56cea820\"]])\n\nexport default __exports__","<template>\n  <div class=\"info-card actions-card\">\n    <div class=\"card-title\"><h3>Acciones Rápidas</h3></div>\n    <div class=\"actions-grid\">\n      <div class=\"action-button primary-action\" @click=\"$router.push('/config')\">\n        <q-icon name=\"settings\" size=\"2rem\" />\n        <span>Configuración del Negocio</span>\n      </div>\n      <div class=\"action-button secondary-action\" @click=\"$router.push('/player')\">\n        <q-icon name=\"play_circle\" size=\"2rem\" />\n        <span>Reproductor</span>\n      </div>\n      <div class=\"action-button accent-action\" @click=\"navigateToMedia\">\n        <q-icon name=\"folder\" size=\"2rem\" />\n        <span>Explorar Media</span>\n      </div>\n      <div class=\"action-button info-action\" @click=\"navigateToAssistance\">\n        <q-icon name=\"support_agent\" size=\"2rem\" />\n        <span>Asistencia</span>\n      </div>\n      <div class=\"action-button warning-action\" @click=\"$emit('logout')\">\n        <q-icon name=\"logout\" size=\"2rem\" />\n        <span>Cerrar Sesión</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { useRouter } from 'vue-router'\n\nconst $router = useRouter()\n\ndefineEmits(['logout'])\n\n// Función para navegar a media\nconst navigateToMedia = () => {\n  $router.push('/media')\n}\n\n// Función para navegar a asistencia\nconst navigateToAssistance = () => {\n  $router.push('/test-ok')\n}\n</script>\n\n<style scoped>\n.actions-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 20px;\n  margin-top: 10px;\n}\n\n.action-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 25px 20px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 500;\n  font-size: 1rem;\n  text-align: center;\n  border: 2px solid transparent;\n}\n\n.action-button:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n}\n\n.primary-action {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n}\n\n.primary-action:hover {\n  background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);\n}\n\n.secondary-action {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n  color: white;\n}\n\n.secondary-action:hover {\n  background: linear-gradient(135deg, #ee82e9 0%, #f3455a 100%);\n}\n\n.accent-action {\n  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n  color: white;\n}\n\n.accent-action:hover {\n  background: linear-gradient(135deg, #3d9aec 0%, #00e0ec 100%);\n}\n\n.info-action {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n}\n\n.info-action:hover {\n  background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);\n}\n\n.warning-action {\n  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);\n  color: white;\n}\n\n.warning-action:hover {\n  background: linear-gradient(135deg, #f95e88 0%, #fedd2e 100%);\n}\n\n/* Dark mode styles */\n.body--dark .action-button {\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.body--dark .primary-action {\n  background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);\n}\n\n.body--dark .secondary-action {\n  background: linear-gradient(135deg, #9f7aea 0%, #667eea 100%);\n}\n\n.body--dark .accent-action {\n  background: linear-gradient(135deg, #38b2ac 0%, #319795 100%);\n}\n\n.body--dark .info-action {\n  background: linear-gradient(135deg, #5a67d8 0%, #553c9a 100%);\n}\n\n.body--dark .warning-action {\n  background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .actions-grid {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 15px;\n  }\n  \n  .action-button {\n    padding: 20px 15px;\n    gap: 10px;\n  }\n  \n  .action-button q-icon {\n    transform: scale(0.8);\n  }\n  \n  .action-button span {\n    font-size: 0.9rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .actions-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .action-button {\n    flex-direction: row;\n    justify-content: flex-start;\n    padding: 18px;\n    gap: 15px;\n  }\n}\n</style>\n","import script from \"./QuickActions.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./QuickActions.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./QuickActions.vue?vue&type=style&index=0&id=ac02aafe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ac02aafe\"]])\n\nexport default __exports__","<template>\n  <q-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" persistent>\n    <q-card style=\"min-width: 400px;\" :class=\"{ 'bg-dark text-white': isDark }\">\n      <q-card-section>\n        <div class=\"text-h6\">{{ playlist ? 'Editar Playlist' : 'Nueva Playlist' }}</div>\n      </q-card-section>\n      <q-card-section class=\"q-pt-none\">\n        <q-input v-model=\"form.name\" label=\"Nombre de la playlist\" outlined class=\"q-mb-md\" />\n        <q-input v-model=\"form.description\" label=\"Descripción (opcional)\" type=\"textarea\" outlined rows=\"3\" />\n      </q-card-section>\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancelar\" @click=\"$emit('close')\" />\n        <q-btn color=\"primary\" label=\"Guardar\" :loading=\"loading\" @click=\"$emit('save')\" />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script setup>\ndefineProps({\n  modelValue: Boolean,\n  playlist: Object,\n  form: Object,\n  loading: Boolean,\n  isDark: Boolean\n})\n\ndefineEmits(['update:modelValue', 'save', 'close'])\n</script>\n","import script from \"./PlaylistDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PlaylistDialog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <q-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" persistent>\n    <q-card style=\"min-width: 400px;\" :class=\"{ 'bg-dark text-white': isDark }\">\n      <q-card-section>\n        <div class=\"text-h6\">Programar Contenido</div>\n      </q-card-section>\n      <q-card-section class=\"q-pt-none\">\n        <q-input v-model=\"form.contentName\" label=\"Nombre\" outlined class=\"q-mb-md\" />\n        <!-- Campos adicionales para programación -->\n      </q-card-section>\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancelar\" @click=\"$emit('close')\" />\n        <q-btn color=\"primary\" label=\"Guardar\" :loading=\"loading\" @click=\"$emit('save')\" />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script setup>\ndefineProps({\n  modelValue: Boolean,\n  form: Object,\n  loading: Boolean,\n  isDark: Boolean,\n  weekdayOptions: Array\n})\n\ndefineEmits(['update:modelValue', 'save', 'close'])\n</script>\n","import script from \"./ScheduleDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ScheduleDialog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ref, reactive } from 'vue'\nimport { playlistAPI, mediaAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\n\nexport function usePlaylists() {\n  const playlists = ref([])\n  const stats = reactive({\n    totalPlaylists: 0,\n    totalScheduledItems: 0,\n    totalMedia: 0\n  })\n  const toast = useToast()\n\n  const loadPlaylists = async () => {\n    try {\n      const { data } = await playlistAPI.list()\n      playlists.value = data\n    } catch (error) {\n      toast.error('Error cargando playlists')\n    }\n  }\n\n  const loadStats = async () => {\n    try {\n      const [playlistStatsResponse, mediaResponse] = await Promise.all([\n        playlistAPI.getStats(),\n        mediaAPI.list()\n      ])\n      \n      stats.totalPlaylists = playlistStatsResponse.data.total_playlists\n      stats.totalScheduledItems = playlistStatsResponse.data.total_scheduled_items\n      stats.totalMedia = mediaResponse.data.length\n    } catch (error) {\n      toast.error('Error cargando estadísticas')\n    }\n  }\n\n  const createPlaylist = async (payload) => {\n    await playlistAPI.create(payload)\n    await loadPlaylists()\n    await loadStats()\n  }\n\n  const updatePlaylist = async (id, payload) => {\n    await playlistAPI.update(id, payload)\n    await loadPlaylists()\n    await loadStats()\n  }\n\n  const removePlaylist = async (id) => {\n    await playlistAPI.delete(id)\n    await loadPlaylists()\n    await loadStats()\n  }\n\n  return {\n    playlists,\n    stats,\n    loadPlaylists,\n    loadStats,\n    createPlaylist,\n    updatePlaylist,\n    removePlaylist\n  }\n}\n","import { ref } from 'vue'\nimport { mediaAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\n\nexport function useMedia() {\n  const mediaFiles = ref([])\n  const toast = useToast()\n\n  const loadMedia = async () => {\n    try {\n      const { data } = await mediaAPI.list()\n      mediaFiles.value = data\n    } catch (error) {\n      toast.error('Error cargando medios')\n    }\n  }\n\n  const removeMedia = async (id) => {\n    await mediaAPI.delete(id)\n    await loadMedia()\n  }\n\n  return {\n    mediaFiles,\n    loadMedia,\n    removeMedia\n  }\n}\n","import { ref } from 'vue'\nimport { scheduleAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\n\nexport function useSchedules() {\n  const schedules = ref([])\n  const toast = useToast()\n\n  const loadSchedules = async () => {\n    try {\n      const { data } = await scheduleAPI.list()\n      schedules.value = data\n    } catch (error) {\n      toast.error('Error cargando programaciones')\n    }\n  }\n\n  const createSchedule = async (payload) => {\n    await scheduleAPI.create(payload)\n    await loadSchedules()\n  }\n\n  return {\n    schedules,\n    loadSchedules,\n    createSchedule\n  }\n}\n","import { render } from \"./AdminView.vue?vue&type=template&id=2388a27e&scoped=true\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport \"./AdminView.vue?vue&type=style&index=0&id=2388a27e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2388a27e\"]])\n\nexport default __exports__","<template>\n  <q-page padding>\n    <div class=\"q-pa-lg\">\n      <h4>Test de Tamaños de Iconos - Versión Corregida</h4>\n      \n      <!-- Test básico con diferentes tamaños usando size prop -->\n      <div class=\"q-mb-lg\">\n        <h5>Usando prop 'size' de Quasar:</h5>\n        <div class=\"row q-gutter-md items-center\">\n          <q-icon name=\"home\" size=\"xs\" />\n          <span>xs</span>\n          <q-icon name=\"home\" size=\"sm\" />\n          <span>sm</span>\n          <q-icon name=\"home\" size=\"md\" />\n          <span>md</span>\n          <q-icon name=\"home\" size=\"lg\" />\n          <span>lg</span>\n          <q-icon name=\"home\" size=\"xl\" />\n          <span>xl</span>\n        </div>\n      </div>\n\n      <!-- Test con tamaños específicos -->\n      <div class=\"q-mb-lg\">\n        <h5>Usando tamaños específicos:</h5>\n        <div class=\"row q-gutter-md items-center\">\n          <q-icon name=\"dashboard\" size=\"1rem\" />\n          <span>1rem</span>\n          <q-icon name=\"dashboard\" size=\"1.5rem\" />\n          <span>1.5rem</span>\n          <q-icon name=\"dashboard\" size=\"2rem\" />\n          <span>2rem</span>\n          <q-icon name=\"dashboard\" size=\"3rem\" />\n          <span>3rem</span>\n          <q-icon name=\"dashboard\" size=\"4rem\" />\n          <span>4rem</span>\n        </div>\n      </div>\n\n      <!-- Test con clases de texto -->\n      <div class=\"q-mb-lg\">\n        <h5>Usando clases de texto de Quasar:</h5>\n        <div class=\"row q-gutter-md items-center\">\n          <q-icon name=\"star\" class=\"text-xs\" />\n          <span>text-xs</span>\n          <q-icon name=\"star\" class=\"text-sm\" />\n          <span>text-sm</span>\n          <q-icon name=\"star\" class=\"text-base\" />\n          <span>text-base</span>\n          <q-icon name=\"star\" class=\"text-lg\" />\n          <span>text-lg</span>\n          <q-icon name=\"star\" class=\"text-xl\" />\n          <span>text-xl</span>\n          <q-icon name=\"star\" class=\"text-2xl\" />\n          <span>text-2xl</span>\n          <q-icon name=\"star\" class=\"text-3xl\" />\n          <span>text-3xl</span>\n        </div>\n      </div>\n\n      <!-- Test en botones -->\n      <div class=\"q-mb-lg\">\n        <h5>Iconos en botones:</h5>\n        <div class=\"row q-gutter-md\">\n          <q-btn color=\"primary\" icon=\"add\" label=\"Pequeño\" size=\"sm\" />\n          <q-btn color=\"primary\" icon=\"add\" label=\"Mediano\" size=\"md\" />\n          <q-btn color=\"primary\" icon=\"add\" label=\"Grande\" size=\"lg\" />\n        </div>\n      </div>\n\n      <!-- Test manual con Material Icons -->\n      <div class=\"q-mb-lg\">\n        <h5>Material Icons directo (para comparación):</h5>\n        <div class=\"row q-gutter-md items-center\">\n          <i class=\"material-icons\" style=\"font-size: 16px;\">home</i>\n          <span>16px</span>\n          <i class=\"material-icons\" style=\"font-size: 24px;\">home</i>\n          <span>24px</span>\n          <i class=\"material-icons\" style=\"font-size: 32px;\">home</i>\n          <span>32px</span>\n          <i class=\"material-icons\" style=\"font-size: 48px;\">home</i>\n          <span>48px</span>\n        </div>\n      </div>\n\n      <!-- Debug info -->\n      <div class=\"q-mt-xl\">\n        <h5>Información de Debug:</h5>\n        <div class=\"q-pa-md bg-grey-2 rounded-borders\">\n          <p><strong>Fonts disponibles:</strong> {{ fontsInfo.available ? 'Sí' : 'No' }}</p>\n          <p><strong>Material Icons cargado:</strong> {{ fontsInfo.materialIconsCheck ? 'Sí' : 'No' }}</p>\n          <p><strong>Enlaces de fonts encontrados:</strong> {{ materialIconsLinks.length }}</p>\n        </div>\n        \n        <q-btn \n          color=\"primary\" \n          label=\"Verificar tamaños\" \n          @click=\"checkIconSizes\"\n          class=\"q-mt-md\"\n        />\n      </div>\n    </div>\n  </q-page>\n</template>\n\n<script>\nexport default {\n  name: 'IconSizeTestFixed',\n  data() {\n    return {\n      fontsInfo: {\n        available: false,\n        materialIconsCheck: false\n      },\n      materialIconsLinks: []\n    }\n  },\n  mounted() {\n    this.checkFontsInfo()\n  },\n  methods: {\n    checkFontsInfo() {\n      if (document.fonts) {\n        this.fontsInfo.available = true\n        this.fontsInfo.materialIconsCheck = document.fonts.check('1rem \"Material Icons\"')\n      }\n      \n      this.materialIconsLinks = Array.from(\n        document.querySelectorAll('link[href*=\"material-icons\"], link[href*=\"Material+Icons\"]')\n      ).map(link => link.href)\n    },\n    \n    checkIconSizes() {\n      const icons = document.querySelectorAll('.q-icon')\n      console.log('🔍 Verificando tamaños de iconos:')\n      \n      icons.forEach((icon, index) => {\n        const computedStyle = window.getComputedStyle(icon)\n        const rect = icon.getBoundingClientRect()\n        \n        console.log(`Icono ${index + 1}:`, {\n          fontSize: computedStyle.fontSize,\n          width: computedStyle.width,\n          height: computedStyle.height,\n          actualWidth: rect.width,\n          actualHeight: rect.height,\n          fontFamily: computedStyle.fontFamily.substring(0, 50) + '...',\n          classes: icon.className\n        })\n      })\n      \n      this.$q.notify({\n        type: 'info',\n        message: 'Información de tamaños en la consola',\n        caption: 'Abre las herramientas de desarrollador para ver los detalles'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\nh5 {\n  margin: 16px 0 8px 0;\n}\n</style>\n","import { render } from \"./IconSizeTestFixed.vue?vue&type=template&id=453bbd34&scoped=true\"\nimport script from \"./IconSizeTestFixed.vue?vue&type=script&lang=js\"\nexport * from \"./IconSizeTestFixed.vue?vue&type=script&lang=js\"\n\nimport \"./IconSizeTestFixed.vue?vue&type=style&index=0&id=453bbd34&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-453bbd34\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport LoginView from '../views/LoginView.vue'\nimport Ok_TestView from '../views/Ok_TestView.vue'\nimport Error_View from '../views/Error_View.vue'\nimport SelectionView from '../views/SelectionView.vue'\nimport PlayerView from '../views/PlayerView.vue'\nimport ConfigView from '../views/ConfigView.vue'\nimport AdminView from '../views/AdminView.vue'\nimport IconSizeTestFixed from '../views/IconSizeTestFixed.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Selection',\n    component: SelectionView,\n    meta: {\n      requiresAuth: false,\n      title: 'Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: LoginView,\n    meta: {\n      requiresAuth: false,\n      title: 'Iniciar Sesión - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/config',\n    name: 'Config',\n    component: ConfigView,\n    meta: {\n      requiresAuth: false,\n      title: 'Configuración - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/test-ok',\n    name: 'TestOk',\n    component: Ok_TestView,\n    meta: { \n      requiresAuth: true,\n      title: 'Prueba Exitosa - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/error',\n    name: 'Error',\n    component: Error_View,\n    meta: {\n      requiresAuth: false,\n      title: 'Error - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/player',\n    name: 'Player',\n    component: PlayerView,\n    meta: {\n      requiresAuth: false,\n      title: 'Reproductor - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: AdminView,\n    meta: { \n      requiresAuth: true, \n      role: 'admin',\n      title: 'Dashboard Admin - Pochtecayotl Signance System'\n    }\n  },\n  // Rutas administrativas adicionales:\n  {\n    path: '/config-admin',\n    name: 'ConfigAdmin',\n    component: () => import('../views/ConfigView.vue'),\n    meta: { requiresAuth: true, role: 'admin' }\n  },\n  {\n    path: '/media',\n    name: 'MediaManager',\n    component: () => import('../views/MediaManager.vue'),\n    meta: { requiresAuth: true, role: 'admin' }\n  },\n  {\n    path: '/player-admin',\n    name: 'PlayerAdmin',\n    component: () => import('../views/PlayerView.vue'),\n    meta: { requiresAuth: true }\n  },\n  // Ruta de prueba para iconos\n  {\n    path: '/icon-test',\n    name: 'IconTest',\n    component: () => import('../views/IconTestView.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de diagnóstico para iconos\n  {\n    path: '/diagnostic',\n    name: 'Diagnostic',\n    component: () => import('../views/DiagnosticView.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Diagnóstico de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba simple para iconos\n  {\n    path: '/simple-test',\n    name: 'SimpleTest',\n    component: () => import('../views/SimpleIconTest.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba Simple de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba final para iconos\n  {\n    path: '/final-test',\n    name: 'FinalTest',\n    component: () => import('../views/FinalIconTest.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba Final de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba de tamaños de iconos\n  {\n    path: '/icon-size-test',\n    name: 'IconSizeTest',\n    component: () => import('../views/IconSizeTest.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba de Tamaños de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba de tamaños corregida\n  {\n    path: '/icon-size-test-fixed',\n    name: 'IconSizeTestFixed',\n    component: IconSizeTestFixed,\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba de Tamaños de Iconos (Corregida) - Pochtecayotl Signance System'\n    }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n// Navigation Guards\nrouter.beforeEach((to, from, next) => {\n  \n  // Actualizar título de la página\n  document.title = to.meta.title || 'Pochtecayotl Signance System'\n  \n  // Verificar autenticación\n  const token = localStorage.getItem('signance_token')\n  const isAuthenticated = !!token\n  \n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      // Redirigir al login si no está autenticado\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      // TODO: Verificar si el token es válido\n      // TODO: Verificar roles de usuario\n      next()\n    }\n  } else {\n    // Ruta pública\n    next()\n  }\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\n// Inicializar API con auto-detección del backend\nimport { initializeAPI } from './services/api'\n\n// Quasar Framework\nimport { \n  Quasar, \n  Notify, \n  Dialog, \n  Loading,\n  QCard,\n  QCardSection,\n  QCardActions,\n  QBtn,\n  QInput,\n  QForm,\n  QPage,\n  QPageContainer,\n  QLayout,\n  QHeader,\n  QToolbar,\n  QToolbarTitle,\n  QDrawer,\n  QList,\n  QItem,\n  QItemSection,\n  QItemLabel,\n  QSeparator,\n  QIcon,\n  QSpinner,\n  QLinearProgress,\n  QFile,\n  QUploader,\n  QTable,\n  QTh,\n  QTr,\n  QTd,\n  QSelect,\n  QDate,\n  QTime,\n  QToggle,\n  QDialog,\n  QExpansionItem,\n  QTooltip,\n  QBanner,\n  QBtnToggle,\n  QSkeleton\n} from 'quasar'\nimport quasarLang from 'quasar/lang/es'\nimport quasarIconSet from 'quasar/icon-set/material-icons'\n\n// Import icon libraries\nimport '@quasar/extras/material-icons/material-icons.css'\nimport '@quasar/extras/fontawesome-v6/fontawesome-v6.css'\n\n// Import Quasar css\nimport 'quasar/dist/quasar.css'\n\n// Import icon fixes\nimport './assets/icon-fixes.css'\n\n// Toast notifications\nimport Toast from 'vue-toastification'\nimport 'vue-toastification/dist/index.css'\n\n// Utilidades para iconos\nimport { initializeMaterialIcons } from './utils/iconUtils'\nimport { applyIconSizeFixes } from './utils/iconSizeUtils'\n\nconst app = createApp(App)\n\nconsole.log('🎬 Pochtecayotl Signance System - Frontend iniciado')\n// Verificar que el iconset se esté cargando correctamente\nconsole.log('🎨 Icon set cargado:', quasarIconSet)\n\n// Inicializar correcciones de iconos\ninitializeMaterialIcons()\n\n// Aplicar correcciones de tamaños después de un breve delay (sin interferir)\nsetTimeout(() => {\n  applyIconSizeFixes()\n}, 500)\n\n// Configure Quasar with components\napp.use(Quasar, {\n  plugins: {\n    Notify,\n    Dialog,\n    Loading\n  },\n  components: {\n    QCard,\n    QCardSection,\n    QCardActions,\n    QBtn,\n    QInput,\n    QForm,\n    QPage,\n    QPageContainer,\n    QLayout,\n    QHeader,\n    QToolbar,\n    QToolbarTitle,\n    QDrawer,\n    QList,\n    QItem,\n    QItemSection,\n    QItemLabel,\n    QSeparator,\n    QIcon,\n    QSpinner,\n    QLinearProgress,\n    QFile,\n    QUploader,\n    QTable,\n    QTh,\n    QTr,\n    QTd,\n    QSelect,\n    QDate,\n    QTime,\n    QToggle,\n    QDialog,\n    QExpansionItem,\n    QTooltip,\n    QBanner,\n    QBtnToggle,\n    QSkeleton\n  },\n  lang: quasarLang,\n  iconSet: quasarIconSet,\n  config: {\n    notify: {\n      position: 'top-right',\n      timeout: 3000\n    }\n  }\n})\n\n// Configure Toast\nconst toastOptions = {\n  position: 'top-right',\n  timeout: 3000,\n  closeOnClick: true,\n  pauseOnFocusLoss: true,\n  pauseOnHover: true,\n  draggable: true,\n  draggablePercent: 0.6,\n  showCloseButtonOnHover: false,\n  hideProgressBar: false,\n  closeButton: 'button',\n  icon: true,\n  rtl: false\n}\n\napp.use(Toast, toastOptions)\napp.use(router)\n\n// Inicializar la detección del backend en segundo plano\ninitializeAPI().catch(error => {\n  console.warn('⚠️ No se pudo conectar al backend al iniciar:', error.message)\n  console.log('🔄 La detección se reintentará automáticamente en las próximas peticiones')\n})\n\napp.mount('#app')\n","// Utilidad para forzar la carga correcta de Material Icons\n\nexport function initializeMaterialIcons() {\n  console.log('🎨 Inicializando Material Icons...')\n  \n  // 1. Asegurar que Google Fonts esté cargado\n  loadGoogleFonts()\n  \n  // 2. Aplicar CSS correctivo\n  applyCorrectiveCSS()\n  \n  // 3. Verificar carga después de un delay\n  setTimeout(verifyIconsLoaded, 1000)\n}\n\nfunction loadGoogleFonts() {\n  // Verificar si ya existe un link a Google Fonts\n  const existingLink = document.querySelector('link[href*=\"fonts.googleapis.com\"][href*=\"Material+Icons\"]')\n  \n  if (!existingLink) {\n    console.log('📥 Cargando Material Icons desde Google Fonts...')\n    \n    const link = document.createElement('link')\n    link.rel = 'stylesheet'\n    link.href = 'https://fonts.googleapis.com/icon?family=Material+Icons&display=swap'\n    link.onload = () => {\n      console.log('✅ Material Icons cargado desde Google Fonts')\n    }\n    link.onerror = () => {\n      console.error('❌ Error al cargar Material Icons desde Google Fonts')\n    }\n    \n    document.head.appendChild(link)\n  }\n}\n\nfunction applyCorrectiveCSS() {\n  console.log('🎨 Aplicando CSS correctivo para iconos...')\n  \n  const css = `\n    /* Corrección global para Material Icons sin interferir con tamaños */\n    .material-icons {\n      font-family: 'Material Icons' !important;\n      font-weight: normal !important;\n      font-style: normal !important;\n      line-height: 1 !important;\n      letter-spacing: normal !important;\n      text-transform: none !important;\n      display: inline-block !important;\n      white-space: nowrap !important;\n      word-wrap: normal !important;\n      direction: ltr !important;\n      font-feature-settings: 'liga' !important;\n      -webkit-font-feature-settings: 'liga' !important;\n      -webkit-font-smoothing: antialiased !important;\n      -moz-osx-font-smoothing: grayscale !important;\n    }\n    \n    /* Corrección específica para Quasar Icons - mantener tamaños */\n    .q-icon {\n      font-family: 'Material Icons' !important;\n      font-feature-settings: 'liga' !important;\n      -webkit-font-feature-settings: 'liga' !important;\n      /* NO sobrescribir font-size, width, height - dejar que Quasar los maneje */\n    }\n    \n    /* Corrección para iconos que aparecen como texto */\n    .q-icon:not(.q-icon--svg) {\n      font-family: 'Material Icons' !important;\n    }\n  `\n  \n  const style = document.createElement('style')\n  style.id = 'material-icons-fix'\n  style.textContent = css\n  document.head.appendChild(style)\n}\n\nfunction verifyIconsLoaded() {\n  console.log('🔍 Verificando carga de iconos...')\n  \n  // Crear elemento de prueba\n  const testElement = document.createElement('i')\n  testElement.className = 'material-icons'\n  testElement.textContent = 'home'\n  testElement.style.position = 'absolute'\n  testElement.style.left = '-9999px'\n  testElement.style.fontSize = '24px'\n  \n  document.body.appendChild(testElement)\n  \n  setTimeout(() => {\n    const rect = testElement.getBoundingClientRect()\n    const computedStyle = window.getComputedStyle(testElement)\n    \n    console.log('📊 Resultados de verificación:', {\n      width: rect.width,\n      height: rect.height,\n      fontFamily: computedStyle.fontFamily,\n      fontSize: computedStyle.fontSize,\n      rendered: rect.width > 0 && rect.height > 0\n    })\n    \n    if (rect.width > 0 && rect.height > 0) {\n      console.log('✅ Material Icons cargado correctamente')\n    } else {\n      console.warn('⚠️ Material Icons puede no estar cargando correctamente')\n      // Intentar una segunda corrección\n      forceIconCorrection()\n    }\n    \n    document.body.removeChild(testElement)\n  }, 100)\n}\n\nfunction forceIconCorrection() {\n  console.log('🔧 Aplicando corrección forzada de iconos...')\n  \n  // Forzar recarga de todos los iconos\n  const iconElements = document.querySelectorAll('.q-icon')\n  iconElements.forEach((element, index) => {\n    element.style.fontFamily = '\"Material Icons\" !important'\n    \n    // Si el elemento contiene texto (nombre del icono), puede ser que no se esté renderizando\n    if (element.textContent && element.textContent.length > 0) {\n      console.warn('Icono ' + index + ' contiene texto: \"' + element.textContent + '\"')\n      // Crear un elemento i con la clase material-icons\n      const iconText = element.textContent\n      element.innerHTML = '<i class=\"material-icons\">' + iconText + '</i>'\n    }\n  })\n}\n\n// Función para verificar si un icono específico está disponible\nexport function checkIconAvailability(iconName) {\n  const testElement = document.createElement('i')\n  testElement.className = 'material-icons'\n  testElement.textContent = iconName\n  testElement.style.position = 'absolute'\n  testElement.style.left = '-9999px'\n  \n  document.body.appendChild(testElement)\n  \n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const rect = testElement.getBoundingClientRect()\n      const isAvailable = rect.width > 0 && rect.height > 0\n      document.body.removeChild(testElement)\n      resolve(isAvailable)\n    }, 100)\n  })\n}\n\n// Función para obtener información de debug\nexport function getIconDebugInfo() {\n  return {\n    fontsAPI: {\n      available: !!document.fonts,\n      size: document.fonts ? document.fonts.size : 'N/A',\n      materialIconsCheck: document.fonts ? document.fonts.check('1rem \"Material Icons\"') : 'N/A'\n    },\n    stylesheets: Array.from(document.styleSheets).map(sheet => {\n      try {\n        return {\n          href: sheet.href,\n          rules: sheet.cssRules ? sheet.cssRules.length : 'N/A'\n        }\n      } catch (e) {\n        return {\n          href: sheet.href,\n          error: 'CORS restriction'\n        }\n      }\n    }),\n    materialIconsLinks: Array.from(document.querySelectorAll('link[href*=\"material-icons\"], link[href*=\"Material+Icons\"]')).map(link => link.href)\n  }\n}\n\n// Función para corregir tamaños de iconos\nexport function fixIconSizes() {\n  console.log('🔧 Corrigiendo tamaños de iconos...')\n  \n  // No aplicamos tamaños fijos, dejamos que Quasar maneje los tamaños\n  const icons = document.querySelectorAll('.q-icon')\n  \n  icons.forEach(icon => {\n    // Solo nos aseguramos de que tengan la fuente correcta\n    if (!icon.style.fontFamily || !icon.style.fontFamily.includes('Material Icons')) {\n      icon.style.fontFamily = 'Material Icons, Material Icons Outlined, Material Icons Round, Material Icons Sharp, Material Icons Two Tone'\n    }\n    \n    // Removemos cualquier tamaño fijo que hayamos aplicado anteriormente\n    if (icon.style.fontSize && (icon.style.fontSize === '16px' || icon.style.fontSize === '14px' || icon.style.fontSize === '24px')) {\n      icon.style.removeProperty('font-size')\n    }\n    if (icon.style.width && (icon.style.width === '16px' || icon.style.width === '14px' || icon.style.width === '24px')) {\n      icon.style.removeProperty('width')\n    }\n    if (icon.style.height && (icon.style.height === '16px' || icon.style.height === '14px' || icon.style.height === '24px')) {\n      icon.style.removeProperty('height')\n    }\n  })\n  \n  console.log('✅ Tamaños corregidos para ' + icons.length + ' iconos')\n}\n\nexport function verifyIconSizes() {\n  const icons = document.querySelectorAll('.q-icon')\n  console.log('🔍 Verificando tamaños de iconos:')\n  \n  icons.forEach((icon, index) => {\n    const computedStyle = window.getComputedStyle(icon)\n    console.log('Icono ' + (index + 1) + ':', {\n      fontSize: computedStyle.fontSize,\n      width: computedStyle.width,\n      height: computedStyle.height,\n      fontFamily: computedStyle.fontFamily,\n      classes: icon.className\n    })\n  })\n}\n\nexport function resetIconSizes() {\n  console.log('🔄 Reseteando tamaños de iconos a valores por defecto de Quasar...')\n  \n  const icons = document.querySelectorAll('.q-icon')\n  \n  icons.forEach(icon => {\n    // Removemos estilos inline que puedan estar interfiriendo\n    icon.style.removeProperty('font-size')\n    icon.style.removeProperty('width') \n    icon.style.removeProperty('height')\n    \n    // Mantenemos solo la fuente\n    icon.style.fontFamily = 'Material Icons, Material Icons Outlined, Material Icons Round, Material Icons Sharp, Material Icons Two Tone'\n  })\n  \n  console.log('✅ Tamaños reseteados para ' + icons.length + ' iconos')\n}\n","import axios from 'axios'\nimport { useToast } from 'vue-toastification'\nimport backendDetector from './backendDetector'\nimport { createProductionBackendDetector, getAPIBaseURL } from './productionDetector'\n\n// Configuración inicial de Axios (se actualizará dinámicamente)\nlet api = axios.create({\n  baseURL: '', // Iniciar vacío, se configurará automáticamente\n  timeout: 15000, // Aumentar timeout para detección\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\n// Función para inicializar la API con auto-detección\nlet isInitialized = false\nlet initializationPromise = null\n\nconst initializeAPI = async () => {\n  if (isInitialized) return api\n  if (initializationPromise) return initializationPromise\n\n  initializationPromise = (async () => {\n    try {\n      console.log('🚀 Inicializando API con detección mejorada...')\n      \n      // NUEVO: Primero verificar si estamos en producción (servido desde backend)\n      const productionConfig = createProductionBackendDetector()\n      \n      if (productionConfig) {\n        console.log('🎯 Modo producción detectado, usando mismo origen')\n        api.defaults.baseURL = `${productionConfig.baseUrl}/api`\n        \n        // Verificar conectividad\n        console.log('🧪 Probando conectividad en modo producción...')\n        await api.get('/health', { timeout: 5000 })\n        \n        isInitialized = true\n        console.log(`✅ API inicializada en modo producción: ${productionConfig.baseUrl}`)\n        return api\n      }\n      \n      // Modo desarrollo: usar detección automática original\n      console.log('🔧 Modo desarrollo detectado, usando auto-detección...')\n      \n      // Intentar usar caché primero\n      const cached = backendDetector.getCachedBackend()\n      if (cached) {\n        console.log(`📦 Usando backend desde caché: ${cached.baseUrl}`)\n        api.defaults.baseURL = `${cached.baseUrl}/api`\n        \n        // Verificar que el backend cached siga funcionando\n        try {\n          const isWorking = await backendDetector.testPort(cached.port)\n          if (isWorking) {\n            isInitialized = true\n            console.log('✅ API inicializada correctamente con backend desde caché')\n            return api\n          } else {\n            console.log('❌ Backend cached no responde, detectando nuevamente...')\n            backendDetector.clearCache()\n          }\n        } catch (error) {\n          console.log('❌ Error probando backend cached:', error.message)\n          backendDetector.clearCache()\n        }\n      }\n      \n      // Detectar backend automáticamente\n      console.log('🔍 Detectando backend automáticamente...')\n      const { baseUrl } = await backendDetector.detectBackend()\n      api.defaults.baseURL = `${baseUrl}/api`\n      \n      // Hacer una prueba rápida de conectividad\n      console.log('🧪 Probando conectividad con el backend...')\n      await api.get('/health', { timeout: 5000 })\n      \n      isInitialized = true\n      console.log(`✅ API inicializada correctamente con backend: ${baseUrl}`)\n      \n      // Iniciar health check\n      backendDetector.startHealthCheck(() => {\n        console.log('⚠️ Conexión con backend perdida, reintentando...')\n        isInitialized = false\n        initializationPromise = null\n      })\n      \n      return api\n    } catch (error) {\n      console.error('❌ Error inicializando API:', error)\n      // Fallback: intentar con localhost en puerto 8000\n      console.log('🔄 Intentando fallback con localhost:8000...')\n      api.defaults.baseURL = 'http://127.0.0.1:8000/api'\n      \n      try {\n        await api.get('/health', { timeout: 3000 })\n        console.log('✅ API inicializada con fallback localhost:8000')\n        isInitialized = true\n        return api\n      } catch (fallbackError) {\n        console.error('❌ Fallback también falló:', fallbackError)\n        throw new Error('No se pudo conectar con el backend. Verifica que el servidor esté ejecutándose.')\n      }\n    }\n  })()\n\n  return initializationPromise\n}\n\n// Función helper para asegurar que la API esté inicializada\nconst ensureAPIInitialized = async () => {\n  if (!isInitialized) {\n    await initializeAPI()\n  }\n  return api\n}\n\n// Interceptor de request para añadir token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('signance_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Interceptor de response para manejar errores\napi.interceptors.response.use(\n  (response) => {\n    return response\n  },\n  (error) => {\n    const toast = useToast()\n    \n    if (error.response) {\n      // El servidor respondió con un código de error\n      const status = error.response.status\n      const message = error.response.data?.detail || 'Error del servidor'\n      \n      switch (status) {\n        case 401:\n          // Token inválido o expirado\n          localStorage.removeItem('signance_token')\n          toast.error('Sesión expirada. Por favor inicia sesión nuevamente.')\n          window.location.href = '/login'\n          break\n        case 403:\n          toast.error('No tienes permisos para realizar esta acción')\n          break\n        case 404:\n          toast.error('Recurso no encontrado')\n          break\n        case 500:\n          toast.error('Error interno del servidor')\n          break\n        default:\n          toast.error(message)\n      }\n    } else if (error.request) {\n      // No se recibió respuesta del servidor\n      toast.error('No se puede conectar con el servidor')\n    } else {\n      // Error en la configuración de la request\n      toast.error('Error en la solicitud')\n    }\n    \n    return Promise.reject(error)\n  }\n)\n\n// Wrapper para métodos HTTP que asegura la inicialización\nconst createAPIMethod = (method) => {\n  return async (...args) => {\n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance[method](...args)\n  }\n}\n\n// Crear métodos HTTP wrappeados\nconst httpMethods = {\n  get: createAPIMethod('get'),\n  post: createAPIMethod('post'),\n  put: createAPIMethod('put'),\n  delete: createAPIMethod('delete'),\n  patch: createAPIMethod('patch')\n}\n\n// Funciones de API específicas del sistema\nexport const authAPI = {\n  // Verificar estado de configuración inicial\n  checkSetup: () => httpMethods.get('/auth/check-setup'),\n  \n  // Configurar usuario administrador inicial\n  setupAdmin: (userData) => httpMethods.post('/auth/setup-admin', userData),\n  \n  // Iniciar sesión\n  login: async (credentials) => {\n    const formData = new FormData()\n    formData.append('username', credentials.username)\n    formData.append('password', credentials.password)\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.post('/auth/login', formData, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n  },\n  \n  // Cerrar sesión\n  logout: () => httpMethods.post('/auth/logout'),\n  \n  // Obtener información del usuario actual\n  getCurrentUser: () => httpMethods.get('/auth/me'),\n  \n  // Verificar ruta protegida (para testing)\n  testProtected: () => httpMethods.get('/auth/protected')\n}\n\nexport const mediaAPI = {\n  // Listar archivos multimedia\n  list: (skip = 0, limit = 100) => httpMethods.get(`/media/?skip=${skip}&limit=${limit}`),\n  \n  // Obtener archivo específico\n  get: (mediaId) => httpMethods.get(`/media/${mediaId}`),\n  \n  // Subir nuevo archivo multimedia\n  upload: async (fileData) => {\n    const formData = new FormData()\n    formData.append('file', fileData.file)\n    formData.append('filename', fileData.filename)\n    formData.append('media_type', fileData.media_type)\n    formData.append('duration', fileData.duration)\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.post('/media/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  \n  // Actualizar archivo multimedia\n  update: (mediaId, updateData) => httpMethods.put(`/media/${mediaId}`, updateData),\n  \n  // Eliminar archivo multimedia\n  delete: (mediaId) => httpMethods.delete(`/media/${mediaId}`),\n  \n  // Nueva función: obtener playlists de un medio\n  getPlaylists: (mediaId) => httpMethods.get(`/media/${mediaId}/playlists`)\n}\n\nexport const businessAPI = {\n  // Obtener información del negocio\n  get: () => httpMethods.get('/business/'),\n\n  // Verificar si requiere configuración\n  checkSetup: () => httpMethods.get('/business/check-setup'),\n  \n  // Crear información del negocio\n  create: async (businessData) => {\n    const formData = new FormData()\n    formData.append('name', businessData.name)\n    if (businessData.logo) {\n      formData.append('logo', businessData.logo)\n    }\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.post('/business/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  \n  // Actualizar información del negocio\n  update: async (businessData) => {\n    const formData = new FormData()\n    if (businessData.name) {\n      formData.append('name', businessData.name)\n    }\n    if (businessData.logo) {\n      formData.append('logo', businessData.logo)\n    }\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.put('/business/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  \n  // Obtener logo del negocio\n  getLogo: () => httpMethods.get('/business/logo'),\n  \n  // Eliminar información del negocio\n  delete: () => httpMethods.delete('/business/')\n}\n\nexport const scheduleAPI = {\n  // Listar todas las programaciones\n  list: (skip = 0, limit = 100) => httpMethods.get(`/schedules/?skip=${skip}&limit=${limit}`),\n  \n  // Obtener programación específica\n  get: (scheduleId) => httpMethods.get(`/schedules/${scheduleId}`),\n  \n  // Obtener programaciones de un medio específico\n  getByMedia: (mediaId) => httpMethods.get(`/schedules/media/${mediaId}`),\n  \n  // Obtener programaciones activas\n  getActive: (scheduleType = null) => {\n    const url = scheduleType ? `/schedules/schedules/active?schedule_type=${scheduleType}` : '/schedules/schedules/active'\n    return httpMethods.get(url)\n  },\n  \n  // Crear nueva programación\n  create: (scheduleData) => httpMethods.post('/schedules/', scheduleData),\n  \n  // Actualizar programación\n  update: (scheduleId, updateData) => httpMethods.put(`/schedules/${scheduleId}`, updateData),\n  \n  // Eliminar programación\n  delete: (scheduleId) => httpMethods.delete(`/schedules/${scheduleId}`)\n}\n\nexport const playlistAPI = {\n  // Listar todas las playlists\n  list: (skip = 0, limit = 100) => httpMethods.get(`/playlists/?skip=${skip}&limit=${limit}`),\n  \n  // Obtener playlist específica\n  get: (playlistId) => httpMethods.get(`/playlists/${playlistId}`),\n  \n  // Obtener estadísticas de playlists\n  getStats: () => httpMethods.get('/playlists/stats'),\n  \n  // Crear nueva playlist\n  create: (playlistData) => httpMethods.post('/playlists/', playlistData),\n  \n  // Actualizar playlist\n  update: (playlistId, updateData) => httpMethods.put(`/playlists/${playlistId}`, updateData),\n  \n  // Eliminar playlist\n  delete: (playlistId) => httpMethods.delete(`/playlists/${playlistId}`),\n  \n  // Agregar medios a playlist (múltiples)\n  addMedia: (playlistId, mediaIds) => httpMethods.post(`/playlists/${playlistId}/media`, { media_ids: mediaIds }),\n  \n  // Agregar un solo medio a playlist\n  addSingleMedia: (playlistId, mediaData) => httpMethods.post(`/playlists/${playlistId}/media`, mediaData),\n  \n  // Quitar medio de playlist\n  removeMedia: (playlistId, mediaId) => httpMethods.delete(`/playlists/${playlistId}/media/${mediaId}`),\n  \n  // Actualizar medio en playlist (duración, orden, etc.)\n  updateMedia: (playlistId, mediaId, updateData) => httpMethods.put(`/playlists/${playlistId}/media/${mediaId}`, updateData),\n  \n  // Reordenar medios en playlist\n  reorder: (playlistId, mediaOrders) => httpMethods.put(`/playlists/${playlistId}/reorder`, { media_orders: mediaOrders }),\n  \n  // Obtener medios de una playlist\n  getMedia: (playlistId) => httpMethods.get(`/playlists/${playlistId}`)\n}\n\n// Función utilitaria para manejar errores de archivo\nexport const handleFileError = (error, toast) => {\n  if (error.response?.status === 413) {\n    toast.error('El archivo es demasiado grande')\n  } else if (error.response?.status === 415) {\n    toast.error('Tipo de archivo no soportado')\n  } else {\n    toast.error('Error al procesar el archivo')\n  }\n}\n\n// Exportar funciones de inicialización\nexport { initializeAPI, ensureAPIInitialized }\n\n// Exportar la instancia de API y el detector\nexport { backendDetector }\nexport default httpMethods\n\n","// Composable para manejar URLs de media de manera reactiva\nimport { ref, watch } from 'vue'\nimport backendDetector from '../services/backendDetector'\n\nexport function useMediaUrl() {\n  const backendBaseUrl = ref('')\n  \n  // Detectar backend una vez\n  const detectBackend = async () => {\n    try {\n      const { baseUrl } = await backendDetector.detectBackend()\n      backendBaseUrl.value = baseUrl\n    } catch (error) {\n      console.error('Error detectando backend:', error)\n      backendBaseUrl.value = 'http://127.0.0.1:8000' // Fallback\n    }\n  }\n  \n  // Función para construir URL de media\n  const buildMediaUrl = (media) => {\n    if (!media || !backendBaseUrl.value) return ''\n    \n    // Priorizar file_url si está disponible (ya incluye la ruta correcta /uploads/)\n    if (media.file_url) {\n      return `${backendBaseUrl.value}${media.file_url}`\n    }\n    \n    // Fallback: usar served_filename o filename\n    const filename = media.served_filename || media.filename\n    if (!filename) {\n      console.error('No se puede construir URL: falta file_url, served_filename y filename')\n      return ''\n    }\n    \n    // Construir URL con /uploads/\n    return `${backendBaseUrl.value}/uploads/${filename}`\n  }\n  \n  // Inicializar detección al usar el composable\n  detectBackend()\n  \n  return {\n    backendBaseUrl,\n    buildMediaUrl,\n    detectBackend\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"289\":\"3e9580c5\",\"403\":\"08a85daf\",\"650\":\"645265dc\",\"935\":\"98ac9301\",\"941\":\"ea9f767e\",\"990\":\"fc4bd100\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"289\":\"2facc57a\",\"403\":\"3a0e73e2\",\"650\":\"e20c89da\",\"935\":\"e475adb7\",\"941\":\"b79bc63a\",\"990\":\"ac9bc180\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"signance-frontend:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"289\":1,\"403\":1,\"650\":1,\"935\":1,\"941\":1,\"990\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksignance_frontend\"] = self[\"webpackChunksignance_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(764); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["fixIconSizes","console","log","icons","document","querySelectorAll","forEach","icon","style","fontFamily","includes","fontSize","removeProperty","width","height","length","verifyIconSizes","index","computedStyle","window","getComputedStyle","classes","className","resetIconSizes","applyIconSizeFixes","existingStyle","querySelector","remove","css","createElement","id","textContent","head","appendChild","testIconSizes","testContainer","position","top","right","background","padding","border","zIndex","sizes","size","label","closeBtn","onclick","body","removeChild","NETWORK_CONFIG","BACKEND_PREFERRED_PORT","PORT_RANGE","start","end","HEALTH_ENDPOINT","CONNECTION_TIMEOUT","generateCandidateIPs","currentHost","location","hostname","ips","push","ipParts","split","every","part","isNaN","baseNetwork","commonServerIPs","ip","commonNetworks","network","startsWith","uniqueIPs","Set","BackendDetector","constructor","this","detectedPort","detectedBaseUrl","portRange","testEndpoint","preferredPort","connectionTimeout","getCurrentHost","getCandidateHosts","detectBackend","host","URL","testSpecificHostPort","port","baseUrl","candidateHosts","saveToLocalStorage","Error","join","testPort","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","method","signal","mode","headers","clearTimeout","ok","data","json","status","module","JSON","stringify","error","name","message","getCachedBackend","localStorage","getItem","cachedHost","clearCache","parseInt","removeItem","startHealthCheck","onConnectionLost","healthCheckInterval","clearInterval","setInterval","async","isOnline","stopHealthCheck","setItem","toString","backendDetector","class","isFullscreen","onMouseMoveFullscreen","selectedPlaylist","currentMedia","media_type","currentMediaSrc","src","alt","filename","handleMediaError","onMediaLoaded","ref","onMediaEnded","autoplay","muted","color","description","getCurrentDuration","currentMediaIndex","playlistMedia","isPlaying","togglePlayPause","round","skipToNext","skipToPrevious","value","progress","formatTime","elapsedTime","showInfo","toggleInfo","flat","toggleFullscreen","debugCurrentMedia","stopPlayback","showFullscreenControls","businessLogo","scheduleOverride","avatar","action","dismissScheduleNotification","media","playlists","playlist","key","selectPlaylist","formatTotalDuration","total_duration","media_count","goToAdmin","rounded","unelevated","goBack","outline","fetchPlaylists","WebSocketService","socket","connected","listeners","Map","reconnectAttempts","maxReconnectAttempts","reconnectDelay","detectedBackendUrl","getWebSocketUrl","backendUrl","wsUrl","replace","connect","serverUrl","WebSocket","onopen","emit","onclose","event","code","reason","onerror","onmessage","parse","disconnect","close","clear","send","warn","on","callback","has","set","get","off","callbacks","indexOf","splice","notifyUploadStart","fileData","requestPlaybackStatus","sendPlayerCommand","command","notifyScheduleChange","scheduleData","requestSystemStats","wsService","connectWebSocket","disconnectWebSocket","isWebSocketConnected","useWebSocket","isConnected","components","ThemeToggle","setup","router","toast","isDarkMode","loadTheme","useTheme","backendBaseUrl","buildMediaUrl","useMediaUrl","videoPlayer","loading","currentMediaUrl","playbackTimer","scheduleCheckTimer","progressTimer","duration","mediaCreatedHandler","loadPlaylistMedia","info","playlistUpdatedHandler","playlist_id","media_id","oldLength","newLength","loadCurrentMedia","warning","seconds","mins","Math","floor","secs","padStart","totalSeconds","hours","minutes","effective_duration","getMediaUrl","playerAPI","listPlaylists","playlistId","getPlaylist","playlistData","medias","Array","isArray","map","url","file_url","count","playlist_name","items","filepath","startPlayback","success","scheduleMediaPlayback","startProgressTimer","startScheduleCheck","nextMedia","previousMedia","pausePlayback","resumePlayback","pause","play","ended","default","detected","debugUrl","testUrl","served_filename","statusText","fetchError","debugError","variations","i","fullscreenControlsTimer","initializeFullscreenState","fullscreenElement","exitFullscreen","playerElement","requestFullscreen","documentElement","handleFullscreenChange","wasFullscreen","nowFullscreen","element","cursor","loadBusinessLogo","detectionError","logoUrl","logo","addEventListener","removeEventListener","__exports__","render","playerApi","create","baseURL","timeout","isPlayerAPIInitialized","initializationPromise","initializePlayerAPI","productionConfig","defaults","fallbackError","ensurePlayerAPIInitialized","list","skip","limit","api","getPlaylistInfo","finalUrl","fallbackPath","fallbackUrl","props","mediaUrl","fileUrl","isImage","type","file_type","test","isVideo","getFileIcon","ext","pop","toLowerCase","formatFileSize","bytes","pow","formatDuration","remainingSeconds","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","handleImageError","img","target","container","closest","innerHTML","handleVideoError","video","compact","preload","title","file_size","created_at","$emit","getFileType","charAt","toUpperCase","slice","hour","minute","searchQuery","viewMode","filteredMedia","mediaFiles","filtered","query","filter","sort","a","b","dateA","upload_date","dateB","displayedMedia","maxItems","subtitle","placeholder","outlined","dense","prepend","append","options","n","isUpdate","save","form","required","rules","val","currentLogoPreview","clearCurrentLogo","onLogoSelected","accept","newLogoPreview","clearNewLogo","disable","initialLoading","currentBusiness","loadBusinessData","logoResponse","getLogo","file","validTypes","reader","FileReader","onload","e","result","readAsDataURL","formData","update","err","errorMessage","handleDragOver","handleDragLeave","handleDrop","triggerFileSelect","handleFileSelect","selectedFile","isUploading","previewUrl","metadata","getTypeColor","resetForm","uploadProgress","percent","thickness","mediaTypeOptions","hint","uploadFile","isFormValid","uploadedFileName","emits","fileInput","isDragOver","uploadSuccess","show","trim","click","files","File","processFile","createImagePreview","preventDefault","dataTransfer","mimeType","k","parseFloat","toFixed","progressInterval","random","upload","createProductionBackendDetector","currentOrigin","origin","isServedFromBackend","pathname","protocol","isProduction","toggleTheme","themeToggleClass","square","modelValue","$event","persistent","isDark","rows","align","savedTheme","matchMedia","matches","setCSSVariables","dark","root","setProperty","applyTheme","setAttribute","backgroundColor","classList","add","removeAttribute","newValue","themeVars","primaryColor","primaryDark","primaryLight","secondaryColor","accentColor","errorColor","successColor","warningColor","infoColor","surfaceColor","cardColor","textPrimary","textSecondary","onPrimary","onSecondary","borderColor","gradientPrimary","gradientSecondary","gradientAccent","shadowSm","shadowMd","shadowLg","shadowXl","hoverColor","hoverPrimary","hoverSecondary","mounted","checkBackendConnection","initializeIconFixes","methods","backendInfo","$q","notify","caption","checkMaterialIconsAvailability","applyIconCSS","applyIconSizeCorrections","verifyIconsAfterLoad","fonts","materialIconsLoaded","check","forceLoadMaterialIcons","existingLink","link","rel","href","iconElements","handleLogin","credentials","username","password","isLoading","testBackendConnection","showSetupDialog","handleSetupAdmin","setupData","isSetupLoading","checkSetupStatus","checkSetup","setup_required","setupAdmin","login","access_token","hide","checkExistingAuth","token","userInfo","systemTests","runTest","goToDashboard","goToMediaManager","goToConfig","goToErrorPage","logout","backendStatus","toLocaleString","tokenInfo","lastCheck","substring","testProtected","runAllTests","Promise","resolve","fetchUserInfo","getCurrentUser","checkBackendStatus","cached","isWorking","detection","errorCode","currentUrl","diagnosticChecks","details","runDiagnostic","checking","testConnection","goToLogin","reloadPage","reportError","goToHome","goToTestPage","technicalInfo","route","navigator","onLine","userAgent","timestamp","toISOString","hasToken","tokenLength","path","params","runAllDiagnostics","reload","goPlayer","goAdmin","stats","businessInfo","showCreatePlaylistDialog","editPlaylist","managePlaylistMedia","schedulePlaylist","deletePlaylist","onMediaUploaded","onMediaUploadError","mediaLoading","loadMedia","editMedia","deleteMedia","navigateToMediaManager","playlistDialog","editingPlaylist","playlistForm","savingPlaylist","savePlaylist","closePlaylistDialog","editMediaDialog","editingMedia","editMediaForm","savingMedia","saveMediaChanges","closeEditMediaDialog","scheduleDialog","scheduleForm","savingSchedule","weekdayOptions","saveSchedule","closeScheduleDialog","playlistMediaDialog","bordered","availableMedia","clickable","addMediaToPlaylist","getMediaIcon","side","playlistMedias","reorderPlaylistMedia","item","removeMediaFromPlaylist","closePlaylistMediaDialog","totalMedia","totalPlaylists","totalScheduledItems","$router","navigateToMedia","navigateToAssistance","contentName","usePlaylists","loadPlaylists","loadStats","playlistStatsResponse","mediaResponse","all","getStats","total_playlists","total_scheduled_items","createPlaylist","payload","updatePlaylist","removePlaylist","delete","useMedia","removeMedia","useSchedules","schedules","loadSchedules","createSchedule","MediaUploader","StatisticsCard","PlaylistManagement","MediaGallery","QuickActions","PlaylistDialog","EditMediaDialog","ScheduleDialog","draggable","refreshData","loadBusinessInfo","Object","assign","mediaId","playlistResponse","mediaInPlaylist","m","order_index","mediaToRemove","find","mediaOrder","media_order","fileType","fontsInfo","available","materialIconsCheck","materialIconsLinks","checkIconSizes","checkFontsInfo","from","rect","getBoundingClientRect","actualWidth","actualHeight","routes","component","SelectionView","meta","requiresAuth","LoginView","ConfigView","Ok_TestView","Error_View","PlayerView","AdminView","role","IconSizeTestFixed","history","beforeEach","to","next","isAuthenticated","matched","some","record","redirect","fullPath","app","App","use","plugins","Notify","Dialog","Loading","QCard","QCardSection","QCardActions","QBtn","QInput","QForm","QPage","QPageContainer","QLayout","QHeader","QToolbar","QToolbarTitle","QDrawer","QList","QItem","QItemSection","QItemLabel","QSeparator","QIcon","QSpinner","QLinearProgress","QFile","QUploader","QTable","QTh","QTr","QTd","QSelect","QDate","QTime","QToggle","QDialog","QExpansionItem","QTooltip","QBanner","QBtnToggle","QSkeleton","lang","iconSet","config","toastOptions","closeOnClick","pauseOnFocusLoss","pauseOnHover","draggablePercent","showCloseButtonOnHover","hideProgressBar","closeButton","rtl","catch","mount","initializeMaterialIcons","loadGoogleFonts","applyCorrectiveCSS","verifyIconsLoaded","testElement","left","rendered","forceIconCorrection","iconText","checkIconAvailability","iconName","isAvailable","getIconDebugInfo","fontsAPI","stylesheets","styleSheets","sheet","cssRules","isInitialized","initializeAPI","ensureAPIInitialized","interceptors","request","Authorization","reject","detail","createAPIMethod","args","apiInstance","httpMethods","post","put","patch","authAPI","userData","FormData","mediaAPI","updateData","getPlaylists","businessAPI","businessData","scheduleAPI","scheduleId","getByMedia","getActive","scheduleType","playlistAPI","addMedia","mediaIds","media_ids","addSingleMedia","mediaData","updateMedia","reorder","mediaOrders","media_orders","getMedia","handleFileError","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","r","getter","__esModule","d","definition","o","defineProperty","enumerable","f","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","onScriptComplete","prev","doneFns","parentNode","bind","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","linkTag","nonce","onLinkComplete","errorType","realHref","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","then","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}