{"version":3,"file":"js/app.8a6b424e.js","mappings":"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","sources":["webpack://signance-frontend/./src/App.vue","webpack://signance-frontend/./src/App.vue?7ccd","webpack://signance-frontend/./src/views/LoginView.vue","webpack://signance-frontend/./src/views/LoginView.vue?5755","webpack://signance-frontend/./src/views/Ok_TestView.vue","webpack://signance-frontend/./src/views/Ok_TestView.vue?6ce1","webpack://signance-frontend/./src/views/Error_View.vue","webpack://signance-frontend/./src/views/Error_View.vue?7e6c","webpack://signance-frontend/./src/views/SelectionView.vue","webpack://signance-frontend/./src/views/SelectionView.vue?4fd1","webpack://signance-frontend/./src/views/AdminView.vue","webpack://signance-frontend/./src/components/dashboard/StatisticsCard.vue","webpack://signance-frontend/./src/components/dashboard/StatisticsCard.vue?b445","webpack://signance-frontend/./src/components/dashboard/PlaylistManagement.vue","webpack://signance-frontend/./src/components/dashboard/PlaylistManagement.vue?1699","webpack://signance-frontend/./src/components/dashboard/QuickActions.vue","webpack://signance-frontend/./src/components/dashboard/QuickActions.vue?833f","webpack://signance-frontend/./src/components/dashboard/dialogs/PlaylistDialog.vue","webpack://signance-frontend/./src/components/dashboard/dialogs/PlaylistDialog.vue?ff07","webpack://signance-frontend/./src/components/dashboard/dialogs/ScheduleDialog.vue","webpack://signance-frontend/./src/components/dashboard/dialogs/ScheduleDialog.vue?f03a","webpack://signance-frontend/./src/composables/usePlaylists.js","webpack://signance-frontend/./src/composables/useMedia.js","webpack://signance-frontend/./src/composables/useSchedules.js","webpack://signance-frontend/./src/views/AdminView.vue?e347","webpack://signance-frontend/./src/router/index.js","webpack://signance-frontend/./src/main.js","webpack://signance-frontend/./src/config/network.js","webpack://signance-frontend/./src/services/backendDetector.js","webpack://signance-frontend/./src/components/dashboard/MediaCard.vue","webpack://signance-frontend/./src/components/dashboard/MediaCard.vue?f6bf","webpack://signance-frontend/./src/components/dashboard/MediaListItem.vue","webpack://signance-frontend/./src/components/dashboard/MediaListItem.vue?370c","webpack://signance-frontend/./src/components/dashboard/MediaGallery.vue","webpack://signance-frontend/./src/components/dashboard/MediaGallery.vue?2eb1","webpack://signance-frontend/./src/views/ConfigView.vue","webpack://signance-frontend/./src/views/ConfigView.vue?7930","webpack://signance-frontend/./src/views/PlayerView.vue","webpack://signance-frontend/./src/services/playerAPI.js","webpack://signance-frontend/./src/services/ws.js","webpack://signance-frontend/./src/views/PlayerView.vue?d8bd","webpack://signance-frontend/./src/components/MediaUploader.vue","webpack://signance-frontend/./src/components/MediaUploader.vue?3b5a","webpack://signance-frontend/./src/services/productionDetector.js","webpack://signance-frontend/./src/components/ThemeToggle.vue","webpack://signance-frontend/./src/components/ThemeToggle.vue?afca","webpack://signance-frontend/./src/components/dashboard/dialogs/EditMediaDialog.vue","webpack://signance-frontend/./src/components/dashboard/dialogs/EditMediaDialog.vue?c49d","webpack://signance-frontend/./src/composables/useTheme.js","webpack://signance-frontend/./src/utils/iconUtils.js","webpack://signance-frontend/./src/services/api.js","webpack://signance-frontend/./src/composables/useMediaUrl.js","webpack://signance-frontend/webpack/bootstrap","webpack://signance-frontend/webpack/runtime/chunk loaded","webpack://signance-frontend/webpack/runtime/compat get default export","webpack://signance-frontend/webpack/runtime/define property getters","webpack://signance-frontend/webpack/runtime/ensure chunk","webpack://signance-frontend/webpack/runtime/get javascript chunk filename","webpack://signance-frontend/webpack/runtime/get mini-css chunk filename","webpack://signance-frontend/webpack/runtime/global","webpack://signance-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://signance-frontend/webpack/runtime/load script","webpack://signance-frontend/webpack/runtime/make namespace object","webpack://signance-frontend/webpack/runtime/publicPath","webpack://signance-frontend/webpack/runtime/css loading","webpack://signance-frontend/webpack/runtime/jsonp chunk loading","webpack://signance-frontend/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n<script>\nimport backendDetector from './services/backendDetector'\n\nexport default {\n  name: 'App',\n  mounted() {\n    // Configuración global de la aplicación\n    console.log('🎬 Pochtecayotl Signance System - Frontend iniciado')\n    \n    // Verificar conectividad con el backend usando auto-detección\n    this.checkBackendConnection()\n    \n    // Inicializar correcciones de iconos\n    this.initializeIconFixes()\n  },\n  methods: {\n    async checkBackendConnection() {\n      try {\n        // Intentar detectar el backend automáticamente\n        const backendInfo = await backendDetector.detectBackend()\n        console.log(`✅ Conexión con backend establecida en ${backendInfo.baseUrl}`)\n      } catch (error) {\n        console.error('❌ No se puede conectar con el backend:', error)\n        this.$q.notify({\n          type: 'warning',\n          message: 'No se puede conectar con el servidor',\n          caption: 'Verifica que el backend esté ejecutándose en el rango de puertos 8000-8010'\n        })\n      }\n    },\n    \n    initializeIconFixes() {\n      console.log('🎨 Inicializando correcciones de iconos...')\n      \n      // Verificar si Material Icons está disponible\n      this.checkMaterialIconsAvailability()\n      \n      // Aplicar CSS de corrección\n      this.applyIconCSS()\n      \n      // Aplicar correcciones de tamaños\n      this.applyIconSizeCorrections()\n      \n      // Verificar después de un delay\n      setTimeout(() => {\n        this.verifyIconsAfterLoad()\n      }, 2000)\n    },\n    \n    checkMaterialIconsAvailability() {\n      if (document.fonts) {\n        const materialIconsLoaded = document.fonts.check('1rem \"Material Icons\"')\n        console.log('🔍 Material Icons disponible:', materialIconsLoaded)\n        \n        if (!materialIconsLoaded) {\n          console.log('⚠️ Material Icons no cargado, intentando forzar carga...')\n          this.forceLoadMaterialIcons()\n        }\n      }\n    },\n    \n    forceLoadMaterialIcons() {\n      // Crear enlace directo a Google Fonts si no existe\n      const existingLink = document.querySelector('link[href*=\"material-icons\"]')\n      if (!existingLink) {\n        const link = document.createElement('link')\n        link.rel = 'stylesheet'\n        link.href = 'https://fonts.googleapis.com/icon?family=Material+Icons&display=swap'\n        link.onload = () => {\n          console.log('✅ Material Icons cargado desde Google Fonts')\n        }\n        document.head.appendChild(link)\n      }\n    },\n    \n    applyIconCSS() {\n      const css = `\n        /* Corrección global para Material Icons */\n        .material-icons, .q-icon {\n          font-family: 'Material Icons' !important;\n          font-weight: normal !important;\n          font-style: normal !important;\n          font-size: inherit !important;\n          line-height: 1 !important;\n          letter-spacing: normal !important;\n          text-transform: none !important;\n          display: inline-block !important;\n          white-space: nowrap !important;\n          word-wrap: normal !important;\n          direction: ltr !important;\n          font-feature-settings: 'liga' !important;\n          -webkit-font-feature-settings: 'liga' !important;\n          -webkit-font-smoothing: antialiased !important;\n          -moz-osx-font-smoothing: grayscale !important;\n        }\n      `\n      \n      const style = document.createElement('style')\n      style.textContent = css\n      document.head.appendChild(style)\n    },\n    \n    applyIconSizeCorrections() {\n      // Aplicar correcciones específicas para tamaños de iconos\n      const sizeCSS = `\n        /* Corrección específica para mantener los tamaños de Quasar */\n        .q-icon {\n          font-family: 'Material Icons' !important;\n          /* Mantener tamaños dinámicos de Quasar */\n          font-size: inherit !important;\n          width: auto !important;\n          height: auto !important;\n        }\n        \n        /* Asegurar que las clases de tamaño de Quasar funcionen */\n        .q-icon.text-xs { font-size: 0.75rem !important; }\n        .q-icon.text-sm { font-size: 0.875rem !important; }\n        .q-icon.text-base { font-size: 1rem !important; }\n        .q-icon.text-lg { font-size: 1.125rem !important; }\n        .q-icon.text-xl { font-size: 1.25rem !important; }\n        .q-icon.text-2xl { font-size: 1.5rem !important; }\n        .q-icon.text-3xl { font-size: 1.875rem !important; }\n        .q-icon.text-4xl { font-size: 2.25rem !important; }\n        .q-icon.text-5xl { font-size: 3rem !important; }\n        .q-icon.text-6xl { font-size: 4rem !important; }\n      `\n      \n      const sizeStyle = document.createElement('style')\n      sizeStyle.id = 'icon-size-corrections'\n      sizeStyle.textContent = sizeCSS\n      document.head.appendChild(sizeStyle)\n    },\n    \n    verifyIconsAfterLoad() {\n      const iconElements = document.querySelectorAll('.q-icon')\n      console.log(`🔍 Verificando ${iconElements.length} elementos de iconos...`)\n      \n      iconElements.forEach((element, index) => {\n        const computedStyle = window.getComputedStyle(element)\n        const fontFamily = computedStyle.fontFamily\n        \n        if (!fontFamily.includes('Material Icons')) {\n          console.warn(`⚠️ Icono ${index} no usa Material Icons:`, fontFamily)\n          element.style.fontFamily = '\"Material Icons\" !important'\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Roboto', -apple-system, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n\n/* Estilos globales para el sistema */\n.signance-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.signance-card {\n  background: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n  padding: 24px;\n  margin-bottom: 20px;\n}\n\n.signance-header {\n  background: linear-gradient(135deg, #000000 0%, #784F17 10%, #E70000 25%, #FF8C00 40%, #FFEF00 55%, #00811F 70%, #00A7E4 85%, #760089 100%);\n  color: white;\n  padding: 20px;\n  border-radius: 8px;\n  margin-bottom: 20px;\n}\n\n/* Responsivo */\n@media (max-width: 768px) {\n  .signance-container {\n    padding: 10px;\n  }\n  \n  .signance-card {\n    padding: 16px;\n    margin-bottom: 15px;\n  }\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=0165862e\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=0165862e&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"login-container\">\n    <!-- Toggle de tema en esquina superior derecha -->\n    <div class=\"theme-toggle-container\">\n      <ThemeToggle />\n    </div>\n    \n    <div class=\"login-content\">\n      <q-card class=\"login-card\">\n        <q-card-section class=\"text-center login-header-section\">\n          <div class=\"login-header\">\n            <div class=\"logo-container\">\n              <q-icon name=\"video_library\" class=\"main-logo\" />\n              <div class=\"logo-glow\"></div>\n            </div>\n            <h2 class=\"app-title\">Pochtecayotl</h2>\n            <h3 class=\"app-subtitle-main\">Signance System</h3>\n            <p class=\"app-subtitle\">Sistema de Gestión de Anuncios Digitales</p>\n            <div class=\"pride-divider\"></div>\n          </div>\n        </q-card-section>\n\n        <q-card-section class=\"login-form-section\">\n          <q-form @submit=\"handleLogin\" class=\"login-form\">\n            <div class=\"input-group\">\n              <q-input\n                v-model=\"credentials.username\"\n                label=\"Usuario\"\n                outlined\n                dense\n                :rules=\"[val => !!val || 'El usuario es requerido']\"\n                ref=\"usernameRef\"\n                class=\"modern-input\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"person\" class=\"input-icon\" />\n                </template>\n              </q-input>\n            </div>\n\n            <div class=\"input-group\">\n              <q-input\n                v-model=\"credentials.password\"\n                label=\"Contraseña\"\n                type=\"password\"\n                outlined\n                dense\n                :rules=\"[val => !!val || 'La contraseña es requerida']\"\n                ref=\"passwordRef\"\n                class=\"modern-input\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"lock\" class=\"input-icon\" />\n                </template>\n              </q-input>\n            </div>\n\n            <div class=\"login-actions\">\n              <q-btn\n                type=\"submit\"\n                label=\"Iniciar Sesión\"\n                class=\"login-btn\"\n                size=\"md\"\n                unelevated\n                :loading=\"isLoading\"\n                :disable=\"!credentials.username || !credentials.password\"\n              />\n            </div>\n          </q-form>\n        </q-card-section>\n\n        <q-card-section class=\"text-center footer-section\">\n          <q-btn\n            flat\n            label=\"Probar Conexión\"\n            @click=\"testBackendConnection\"\n            size=\"sm\"\n            class=\"test-btn\"\n          />\n        </q-card-section>\n      </q-card>\n    </div>\n\n    <!-- Setup inicial del administrador -->\n    <q-dialog v-model=\"showSetupDialog\" persistent>\n      <q-card class=\"setup-dialog-card\" style=\"min-width: 400px\">\n        <q-card-section class=\"setup-header row items-center\">\n          <q-icon name=\"admin_panel_settings\" size=\"2rem\" color=\"orange\" />\n          <span class=\"q-ml-sm text-h6 setup-title\">Configuración Inicial</span>\n        </q-card-section>\n\n        <q-card-section class=\"setup-content\">\n          <p class=\"setup-description\">El sistema necesita configuración inicial. Crea el usuario administrador:</p>\n          \n          <q-form @submit=\"handleSetupAdmin\" class=\"q-gutter-md\">\n            <q-input\n              v-model=\"setupData.username\"\n              label=\"Usuario Administrador\"\n              outlined\n              class=\"setup-input\"\n              :rules=\"[val => !!val || 'Requerido']\"\n            />\n            \n            <q-input\n              v-model=\"setupData.password\"\n              label=\"Contraseña\"\n              type=\"password\"\n              outlined\n              class=\"setup-input\"\n              :rules=\"[val => !!val || 'Requerido']\"\n            />\n          </q-form>\n        </q-card-section>\n\n        <q-card-actions align=\"right\" class=\"setup-actions\">\n          <q-btn\n            label=\"Configurar\"\n            color=\"primary\"\n            class=\"setup-btn\"\n            @click=\"handleSetupAdmin\"\n            :loading=\"isSetupLoading\"\n          />\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useQuasar } from 'quasar'\nimport { useToast } from 'vue-toastification'\nimport { authAPI } from '../services/api'\nimport { useTheme } from '../composables/useTheme'\nimport ThemeToggle from '../components/ThemeToggle.vue'\n\nexport default {\n  name: 'LoginView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const $q = useQuasar()\n    const toast = useToast()\n    const { loadTheme } = useTheme()\n\n    // Estados reactivos\n    const isLoading = ref(false)\n    const isSetupLoading = ref(false)\n    const showSetupDialog = ref(false)\n    \n    const credentials = reactive({\n      username: '',\n      password: ''\n    })\n    \n    const setupData = reactive({\n      username: 'admin',\n      password: ''\n    })\n\n    // Verificar si necesita configuración inicial\n    const checkSetupStatus = async () => {\n      try {\n        const response = await authAPI.checkSetup()\n        if (response.data.setup_required) {\n          showSetupDialog.value = true\n          toast.info('Se requiere configuración inicial del sistema')\n        }\n      } catch (error) {\n        console.error('Error verificando setup:', error)\n        toast.error('Error conectando con el servidor')\n      }\n    }\n\n    // Configurar administrador inicial\n    const handleSetupAdmin = async () => {\n      if (!setupData.username || !setupData.password) {\n        toast.warning('Completa todos los campos')\n        return\n      }\n\n      isSetupLoading.value = true\n\n      try {\n        await authAPI.setupAdmin(setupData)\n        toast.success('Administrador configurado exitosamente')\n        showSetupDialog.value = false\n        \n        // Auto-login después del setup\n        credentials.username = setupData.username\n        credentials.password = setupData.password\n        await handleLogin()\n        \n      } catch (error) {\n        console.error('Error en setup:', error)\n        toast.error('Error configurando administrador')\n      } finally {\n        isSetupLoading.value = false\n      }\n    }\n\n    // Manejar login\n    const handleLogin = async () => {\n      isLoading.value = true\n\n      try {\n        const response = await authAPI.login(credentials)\n        const { access_token } = response.data\n\n        // Guardar token\n        localStorage.setItem('signance_token', access_token)\n        \n        toast.success(`¡Bienvenido, ${credentials.username}!`)\n        \n        // Redirigir al dashboard admin después del login exitoso\n        router.push('/admin')\n        \n      } catch (error) {\n        console.error('Error en login:', error)\n        \n        if (error.response?.status === 401) {\n          toast.error('Credenciales incorrectas')\n        } else {\n          toast.error('Error iniciando sesión')\n        }\n        \n        // Limpiar campos en caso de error\n        credentials.password = ''\n        \n      } finally {\n        isLoading.value = false\n      }\n    }\n\n    // Probar conexión con el backend\n    const testBackendConnection = async () => {\n      $q.loading.show({\n        message: 'Probando conexión...'\n      })\n\n      try {\n        const response = await fetch('http://127.0.0.1:8000/health')\n        if (response.ok) {\n          const data = await response.json()\n          toast.success(`Conexión exitosa: ${data.status}`)\n        } else {\n          toast.warning('El servidor responde pero con errores')\n        }\n      } catch (error) {\n        console.error('Error de conexión:', error)\n        toast.error('No se puede conectar con el servidor')\n      } finally {\n        $q.loading.hide()\n      }\n    }\n\n    // Verificar si ya está autenticado\n    const checkExistingAuth = () => {\n      const token = localStorage.getItem('signance_token')\n      if (token) {\n        // TODO: Verificar si el token es válido\n        router.push('/test-ok')\n      }\n    }\n\n    onMounted(() => {\n      loadTheme()\n      checkExistingAuth()\n      checkSetupStatus()\n    })\n\n    return {\n      credentials,\n      setupData,\n      isLoading,\n      isSetupLoading,\n      showSetupDialog,\n      handleLogin,\n      handleSetupAdmin,\n      testBackendConnection\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Variables CSS */\n:root {\n  --gradient-main: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  --gradient-light: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.8) 100%);\n  --gradient-text: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #06b6d4 100%);\n  --gradient-accent: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n  --gradient-button: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);\n  --surface: rgba(255, 255, 255, 0.95);\n  --background: #f8fafc;\n  --border: #e2e8f0;\n  --primary: #6366f1;\n  --primary-alpha: rgba(99, 102, 241, 0.1);\n  --text-primary: #1e293b;\n  --text-secondary: #64748b;\n  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n}\n\n/* Variables para modo oscuro */\n.body--dark {\n  --gradient-main: linear-gradient(135deg, #1e1b4b 0%, #312e81 100%);\n  --gradient-light: linear-gradient(135deg, rgba(30,30,30,0.9) 0%, rgba(30,30,30,0.8) 100%);\n  --gradient-text: linear-gradient(135deg, #818cf8 0%, #a78bfa 50%, #38bdf8 100%);\n  --gradient-accent: linear-gradient(90deg, #4338ca 0%, #6d28d9 100%);\n  --gradient-button: linear-gradient(135deg, #4338ca 0%, #7c3aed 100%);\n  --surface: rgba(30, 30, 30, 0.95);\n  --background: #0f172a;\n  --border: #334155;\n  --primary: #818cf8;\n  --primary-alpha: rgba(129, 140, 248, 0.1);\n  --text-primary: #e2e8f0;\n  --text-secondary: #94a3b8;\n  --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n}\n\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n  background: var(--gradient-main);\n  padding: 2rem;\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.theme-toggle-container {\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  z-index: 100;\n}\n\n.login-content {\n  width: 100%;\n  max-width: 420px;\n  position: relative;\n}\n\n.login-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  overflow: hidden;\n  backdrop-filter: blur(20px);\n  box-shadow: var(--shadow-xl);\n  transition: all 0.3s ease;\n}\n\n.login-header-section {\n  padding: 2.5rem 2rem 1.5rem;\n  background: var(--gradient-light);\n  border-bottom: 1px solid var(--border);\n}\n\n.logo-container {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 1rem;\n}\n\n.main-logo {\n  font-size: 3.5rem;\n  background: var(--gradient-text);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n}\n\n.logo-glow {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 70px;\n  height: 70px;\n  background: radial-gradient(circle, var(--primary-alpha), transparent);\n  border-radius: 50%;\n  animation: pulse 3s ease-in-out infinite;\n  z-index: -1;\n}\n\n@keyframes pulse {\n  0%, 100% { \n    transform: translate(-50%, -50%) scale(1); \n    opacity: 0.4; \n  }\n  50% { \n    transform: translate(-50%, -50%) scale(1.1); \n    opacity: 0.7; \n  }\n}\n\n.app-title {\n  margin: 0 0 0.2rem 0;\n  font-size: 2.2rem;\n  font-weight: 700;\n  line-height: 1.1;\n  color: #6366f1;\n  text-shadow: 0 2px 4px rgba(99, 102, 241, 0.3);\n}\n\n/* Modo oscuro */\n.body--dark .app-title {\n  color: #818cf8;\n  text-shadow: 0 2px 4px rgba(129, 140, 248, 0.3);\n}\n\n.app-subtitle-main {\n  margin: 0 0 0.8rem 0;\n  font-size: 1.4rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  line-height: 1.1;\n}\n\n.app-subtitle {\n  margin: 0 0 1rem 0;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  opacity: 0.9;\n  line-height: 1.3;\n}\n\n.pride-divider {\n  width: 50px;\n  height: 3px;\n  background: var(--gradient-accent);\n  border-radius: 2px;\n  margin: 0 auto;\n}\n\n.login-form-section {\n  padding: 1.5rem 2rem;\n  background: var(--background);\n}\n\n.login-form {\n  display: flex;\n  flex-direction: column;\n  gap: 1.2rem;\n}\n\n.input-group {\n  position: relative;\n}\n\n.modern-input {\n  border-radius: 10px !important;\n}\n\n.modern-input :deep(.q-field__control) {\n  border-radius: 10px !important;\n  background: var(--surface);\n  border: 1px solid var(--border);\n  transition: all 0.3s ease;\n  min-height: 48px;\n}\n\n.modern-input :deep(.q-field__control:hover) {\n  border-color: var(--primary);\n}\n\n.modern-input :deep(.q-field__control.q-field__control--focused) {\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-alpha);\n}\n\n.modern-input :deep(.q-field__label) {\n  color: var(--text-secondary);\n}\n\n.modern-input :deep(.q-field__native) {\n  color: var(--text-primary);\n}\n\n.input-icon {\n  color: var(--primary);\n}\n\n.login-actions {\n  margin-top: 0.5rem;\n}\n\n.login-btn {\n  width: 100%;\n  height: 48px;\n  border-radius: 10px;\n  background: var(--gradient-button);\n  color: white;\n  font-weight: 600;\n  font-size: 1rem;\n  letter-spacing: 0.3px;\n  text-transform: uppercase;\n  transition: all 0.3s ease;\n  border: none;\n  box-shadow: var(--shadow-md);\n}\n\n.login-btn:hover {\n  transform: translateY(-1px);\n  box-shadow: var(--shadow-lg);\n}\n\n.login-btn:active {\n  transform: translateY(0);\n}\n\n.login-btn:disabled {\n  opacity: 0.6;\n  transform: none;\n  box-shadow: none;\n}\n\n.footer-section {\n  padding: 1rem 2rem 1.5rem;\n  border-top: 1px solid var(--border);\n  background: var(--background);\n}\n\n.test-btn {\n  color: var(--secondary);\n  transition: all 0.2s ease;\n  border-radius: 8px;\n}\n\n.test-btn:hover {\n  background: var(--hover-secondary);\n  transform: translateY(-1px);\n}\n\n/* Dialog de configuración */\n.q-dialog .q-card {\n  background: var(--surface);\n  color: var(--text-primary);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  box-shadow: var(--shadow-xl);\n}\n\n.q-dialog .q-card-section {\n  background: var(--background);\n}\n\n.q-dialog .q-card-actions {\n  background: var(--surface);\n  border-top: 1px solid var(--border);\n}\n\n/* Input fields en el dialog */\n.q-dialog .q-input :deep(.q-field__control) {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 8px;\n}\n\n.q-dialog .q-input :deep(.q-field__control:hover) {\n  border-color: var(--primary);\n}\n\n.q-dialog .q-input :deep(.q-field__control.q-field__control--focused) {\n  border-color: var(--primary);\n  box-shadow: 0 0 0 2px var(--primary-alpha);\n}\n\n/* Botones del dialog */\n.q-dialog .q-btn {\n  border-radius: 8px;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .login-container {\n    padding: 1rem;\n  }\n  \n  .theme-toggle-container {\n    top: 1rem;\n    right: 1rem;\n  }\n  \n  .login-header-section {\n    padding: 2rem 1.5rem 1rem;\n  }\n  \n  .login-form-section {\n    padding: 1.2rem 1.5rem;\n  }\n  \n  .app-title {\n    font-size: 1.8rem;\n  }\n  \n  .app-subtitle-main {\n    font-size: 1.2rem;\n  }\n  \n  .main-logo {\n    font-size: 3rem;\n  }\n  \n  .login-content {\n    max-width: 100%;\n  }\n  \n  .footer-section {\n    padding: 0.8rem 1.5rem 1.2rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .login-container {\n    padding: 0.5rem;\n  }\n  \n  .login-header-section {\n    padding: 1.5rem 1rem 0.8rem;\n  }\n  \n  .login-form-section {\n    padding: 1rem;\n  }\n  \n  .app-title {\n    font-size: 1.6rem;\n  }\n  \n  .app-subtitle-main {\n    font-size: 1.1rem;\n  }\n  \n  .app-subtitle {\n    font-size: 0.85rem;\n  }\n  \n  .main-logo {\n    font-size: 2.5rem;\n  }\n  \n  .footer-section {\n    padding: 0.8rem 1rem 1rem;\n  }\n  \n  .login-btn {\n    height: 46px;\n    font-size: 0.95rem;\n  }\n  \n  .modern-input :deep(.q-field__control) {\n    min-height: 46px;\n  }\n}\n\n/* Estilos para el dialog de setup */\n.setup-dialog-card {\n  background: var(--surface) !important;\n  border: 1px solid var(--border) !important;\n  border-radius: 12px !important;\n  backdrop-filter: blur(20px);\n}\n\n.setup-header {\n  background: var(--gradient-light) !important;\n  border-bottom: 1px solid var(--border) !important;\n}\n\n.setup-title {\n  color: var(--text-primary) !important;\n  font-weight: 600;\n}\n\n.setup-content {\n  padding: 24px !important;\n}\n\n.setup-description {\n  color: var(--text-secondary) !important;\n  margin-bottom: 20px;\n  font-size: 0.95rem;\n}\n\n.setup-input {\n  margin-bottom: 16px;\n}\n\n.setup-input :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.setup-input :deep(.q-field__control) {\n  background: var(--surface) !important;\n}\n\n.setup-input :deep(.q-field__outline) {\n  border-color: var(--border) !important;\n}\n\n.setup-input :deep(.q-field--focused .q-field__outline) {\n  border-color: var(--primary) !important;\n}\n\n.setup-input :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.setup-actions {\n  padding: 16px 24px !important;\n  border-top: 1px solid var(--border) !important;\n}\n\n.setup-btn {\n  background: var(--gradient-button) !important;\n  border-radius: 8px;\n  font-weight: 600;\n  padding: 8px 24px;\n}\n\n/* Estilos específicos para modo oscuro en el dialog */\n.body--dark .setup-dialog-card {\n  background: rgba(30, 30, 30, 0.95) !important;\n  border-color: #374151 !important;\n}\n\n.body--dark .setup-input :deep(.q-field__control) {\n  background: rgba(30, 30, 30, 0.8) !important;\n  border-color: #374151 !important;\n}\n</style>\n","import { render } from \"./LoginView.vue?vue&type=template&id=ff55de2c&scoped=true\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=ff55de2c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ff55de2c\"]])\n\nexport default __exports__","<template>\n  <div class=\"test-ok-container\">\n    <!-- Theme Toggle -->\n    <ThemeToggle class=\"theme-toggle\" />\n    \n    <div class=\"signance-container\">\n      <!-- Header de éxito -->\n      <div class=\"success-header\">\n        <div class=\"success-icon\">\n          <q-icon name=\"check_circle\" size=\"4rem\" />\n        </div>\n        <h2>¡Sistema Funcionando Correctamente!</h2>\n        <p>Pochtecayotl Signance System - Autenticación Exitosa</p>\n      </div>\n\n      <!-- Información del usuario -->\n      <div class=\"info-card user-info\">\n        <div class=\"card-header\">\n          <q-icon name=\"person\" size=\"2rem\" />\n          <div class=\"header-text\">\n            <h3>Usuario Autenticado</h3>\n            <p>{{ userInfo.username || 'Cargando...' }}</p>\n          </div>\n        </div>\n      </div>\n\n      <!-- Pruebas del sistema -->\n      <div class=\"info-card tests-card\">\n        <div class=\"card-title\">\n          <h3>Pruebas del Sistema</h3>\n        </div>\n        \n        <div class=\"tests-grid\">\n          <div \n            v-for=\"test in systemTests\" \n            :key=\"test.name\"\n            class=\"test-item\"\n            :class=\"{ \n              'test-success': test.status === 'success',\n              'test-error': test.status === 'error',\n              'test-testing': test.status === 'testing'\n            }\"\n          >\n            <div class=\"test-icon\">\n              <q-icon \n                :name=\"test.status === 'success' ? 'check_circle' : test.status === 'error' ? 'error' : 'hourglass_empty'\"\n                size=\"1.5rem\"\n              />\n            </div>\n            \n            <div class=\"test-info\">\n              <h4>{{ test.name }}</h4>\n              <p>{{ test.description }}</p>\n            </div>\n            \n            <div class=\"test-action\">\n              <q-btn \n                flat \n                round \n                :icon=\"test.status === 'testing' ? 'refresh' : 'play_arrow'\"\n                @click=\"runTest(test)\"\n                :loading=\"test.status === 'testing'\"\n                size=\"sm\"\n                :color=\"test.status === 'success' ? 'positive' : 'primary'\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Acciones disponibles -->\n      <div class=\"info-card actions-card\">\n        <div class=\"card-title\">\n          <h3>Acciones Disponibles</h3>\n        </div>\n        \n        <div class=\"actions-grid\">\n          <div class=\"action-button primary-action\" @click=\"goToDashboard\">\n            <q-icon name=\"dashboard\" size=\"2rem\" />\n            <span>Dashboard</span>\n          </div>\n          \n          <div class=\"action-button secondary-action\" @click=\"goToMediaManager\">\n            <q-icon name=\"cloud_upload\" size=\"2rem\" />\n            <span>Gestión de Media</span>\n          </div>\n          \n          <div class=\"action-button accent-action\" @click=\"goToConfig\">\n            <q-icon name=\"settings\" size=\"2rem\" />\n            <span>Configuración</span>\n          </div>\n          \n          <div class=\"action-button warning-action\" @click=\"goToErrorPage\">\n            <q-icon name=\"bug_report\" size=\"2rem\" />\n            <span>Ver Página de Error</span>\n          </div>\n        </div>\n        \n        <div class=\"logout-section\">\n          <q-btn\n            color=\"negative\"\n            icon=\"logout\"\n            label=\"Cerrar Sesión\"\n            @click=\"logout\"\n            outline\n            rounded\n            size=\"md\"\n          />\n        </div>\n      </div>\n\n      <!-- Información del sistema -->\n      <div class=\"info-card system-info\">\n        <div class=\"card-title\">\n          <h3>Información del Sistema</h3>\n        </div>\n        \n        <div class=\"system-details\">\n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Estado del Backend</span>\n            <div class=\"detail-value\">\n              <q-chip \n                :color=\"backendStatus.connected ? 'positive' : 'negative'\"\n                text-color=\"white\"\n                :icon=\"backendStatus.connected ? 'check' : 'close'\"\n                size=\"sm\"\n              >\n                {{ backendStatus.connected ? 'Conectado' : 'Desconectado' }}\n              </q-chip>\n            </div>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">URL del Backend</span>\n            <span class=\"detail-value\">{{ backendStatus.url }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Fecha de Acceso</span>\n            <span class=\"detail-value\">{{ new Date().toLocaleString('es-ES') }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Token JWT</span>\n            <div class=\"detail-value\">\n              <q-chip color=\"info\" text-color=\"white\" size=\"sm\">\n                {{ tokenInfo }}\n              </q-chip>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useToast } from 'vue-toastification'\nimport { authAPI, mediaAPI, businessAPI, scheduleAPI } from '../services/api'\nimport backendDetector from '../services/backendDetector'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'Ok_TestView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n\n    // Estados reactivos\n    const userInfo = ref({})\n    const backendStatus = reactive({\n      connected: false,\n      lastCheck: null,\n      url: 'Detectando...',\n      port: null\n    })\n\n    // Información del token\n    const tokenInfo = computed(() => {\n      const token = localStorage.getItem('signance_token')\n      if (token) {\n        return `${token.substring(0, 20)}...`\n      }\n      return 'No disponible'\n    })\n\n    // Pruebas del sistema\n    const systemTests = ref([\n      {\n        name: 'Autenticación',\n        description: 'Verificar ruta protegida',\n        status: 'pending',\n        test: () => authAPI.testProtected()\n      },\n      {\n        name: 'Gestión de Media',\n        description: 'Listar archivos multimedia',\n        status: 'pending',\n        test: () => mediaAPI.list(0, 5)\n      },\n      {\n        name: 'Información de Negocio',\n        description: 'Obtener configuración empresarial',\n        status: 'pending',\n        test: () => businessAPI.get()\n      },\n      {\n        name: 'Programación',\n        description: 'Listar horarios programados',\n        status: 'pending',\n        test: () => scheduleAPI.list(0, 5)\n      }\n    ])\n\n    // Ejecutar una prueba específica\n    const runTest = async (test) => {\n      test.status = 'testing'\n      \n      try {\n        const response = await test.test()\n        test.status = 'success'\n        test.result = response.data\n        \n        toast.success(`✅ ${test.name}: Prueba exitosa`)\n        \n      } catch (error) {\n        test.status = 'error'\n        test.error = error.message\n        \n        toast.error(`❌ ${test.name}: ${error.message}`)\n      }\n    }\n\n    // Ejecutar todas las pruebas\n    const runAllTests = async () => {\n      for (const test of systemTests.value) {\n        await runTest(test)\n        // Pequeña pausa entre pruebas\n        await new Promise(resolve => setTimeout(resolve, 500))\n      }\n    }\n\n    // Obtener información del usuario actual\n    const fetchUserInfo = async () => {\n      try {\n        const response = await authAPI.getCurrentUser()\n        userInfo.value = response.data\n      } catch (error) {\n        console.error('Error obteniendo información del usuario:', error)\n        toast.error('Error obteniendo información del usuario')\n      }\n    }\n\n    // Verificar estado del backend\n    const checkBackendStatus = async () => {\n      try {\n        console.log('🔍 Verificando estado del backend...')\n        \n        // Primero intentar obtener la información desde el detector\n        const cached = backendDetector.getCachedBackend()\n        if (cached) {\n          console.log('📦 Usando información cached del backend:', cached)\n          backendStatus.url = cached.baseUrl\n          backendStatus.port = cached.port\n          \n          // Verificar que el backend siga respondiendo\n          const isWorking = await backendDetector.testPort(cached.port)\n          backendStatus.connected = isWorking\n          backendStatus.lastCheck = new Date()\n          \n          if (isWorking) {\n            console.log('✅ Backend confirmado desde caché')\n            return\n          } else {\n            console.log('❌ Backend cached no responde, detectando nuevamente...')\n          }\n        }\n        \n        // Si no hay caché o no funciona, detectar automáticamente\n        const detection = await backendDetector.detectBackend()\n        backendStatus.connected = true\n        backendStatus.url = detection.baseUrl\n        backendStatus.port = detection.port\n        backendStatus.lastCheck = new Date()\n        \n        console.log('✅ Backend detectado exitosamente:', detection)\n        \n      } catch (error) {\n        console.error('❌ Error detectando backend:', error)\n        backendStatus.connected = false\n        backendStatus.url = 'No disponible'\n        backendStatus.port = null\n        backendStatus.lastCheck = new Date()\n      }\n    }\n\n    // Navegación\n    const goToDashboard = () => {\n      router.push('/admin')\n    }\n\n    const goToMediaManager = () => {\n      router.push('/media')\n    }\n\n    const goToConfig = () => {\n      router.push('/config')\n    }\n\n    const goToErrorPage = () => {\n      router.push('/error')\n    }\n\n    // Cerrar sesión\n    const logout = async () => {\n      try {\n        await authAPI.logout()\n      } catch (error) {\n        console.error('Error en logout:', error)\n      } finally {\n        localStorage.removeItem('signance_token')\n        toast.success('Sesión cerrada exitosamente')\n        router.push('/login')\n      }\n    }\n\n    onMounted(() => {\n      fetchUserInfo()\n      checkBackendStatus()\n      // Ejecutar pruebas automáticamente después de 2 segundos\n      setTimeout(runAllTests, 2000)\n    })\n\n    return {\n      userInfo,\n      backendStatus,\n      tokenInfo,\n      systemTests,\n      runTest,\n      runAllTests,\n      goToDashboard,\n      goToMediaManager,\n      goToConfig,\n      goToErrorPage,\n      logout,\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.test-ok-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--success) 0%, var(--primary) 50%, var(--secondary) 100%);\n  padding: 20px 0;\n  position: relative;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.signance-container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 0 20px;\n}\n\n.success-header {\n  text-align: center;\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 20px;\n  padding: 40px 20px;\n  margin-bottom: 30px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n[data-theme=\"dark\"] .success-header {\n  background: rgba(30, 30, 30, 0.95);\n  color: var(--text-primary);\n}\n\n.success-icon {\n  color: var(--success);\n  margin-bottom: 20px;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.success-header h2 {\n  margin: 0 0 12px 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n\n.success-header p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n}\n\n.info-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  margin-bottom: 24px;\n  box-shadow: var(--shadow-md);\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-header q-icon {\n  color: var(--primary);\n}\n\n.header-text h3 {\n  margin: 0 0 4px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.header-text p {\n  margin: 0;\n  color: var(--text-secondary);\n}\n\n.card-title {\n  padding: 24px 24px 16px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-title h3 {\n  margin: 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.tests-grid {\n  padding: 20px;\n  display: grid;\n  gap: 16px;\n}\n\n.test-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 20px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  border-radius: 12px;\n  transition: all 0.3s ease;\n}\n\n.test-item:hover {\n  box-shadow: var(--shadow-md);\n}\n\n.test-success {\n  border-color: var(--success);\n  background: var(--hover-color);\n}\n\n.test-error {\n  border-color: var(--error);\n  background: var(--hover-color);\n}\n\n.test-testing {\n  border-color: var(--warning);\n  background: var(--hover-color);\n}\n\n.test-icon {\n  color: var(--text-secondary);\n}\n\n.test-success .test-icon {\n  color: var(--success);\n}\n\n.test-error .test-icon {\n  color: var(--error);\n}\n\n.test-testing .test-icon {\n  color: var(--warning);\n}\n\n.test-info {\n  flex: 1;\n}\n\n.test-info h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.test-info p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.actions-grid {\n  padding: 20px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.action-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 24px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: center;\n}\n\n.action-button:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-md);\n}\n\n.primary-action {\n  background: var(--hover-primary);\n  border: 2px solid var(--primary);\n  color: var(--primary);\n}\n\n.secondary-action {\n  background: var(--hover-secondary);\n  border: 2px solid var(--secondary);\n  color: var(--secondary);\n}\n\n.accent-action {\n  background: rgba(240, 210, 123, 0.1);\n  border: 2px solid var(--accent);\n  color: var(--accent);\n}\n\n[data-theme=\"dark\"] .accent-action {\n  background: rgba(209, 176, 95, 0.1);\n}\n\n.warning-action {\n  background: rgba(251, 140, 0, 0.1);\n  border: 2px solid var(--warning);\n  color: var(--warning);\n}\n\n[data-theme=\"dark\"] .warning-action {\n  background: rgba(255, 167, 38, 0.1);\n}\n\n.action-button span {\n  font-weight: 500;\n  font-size: 0.95rem;\n}\n\n.logout-section {\n  padding: 20px;\n  border-top: 1px solid var(--border);\n  text-align: center;\n}\n\n.system-details {\n  padding: 20px;\n  display: grid;\n  gap: 16px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 0;\n  border-bottom: 1px solid var(--border);\n}\n\n.detail-item:last-child {\n  border-bottom: none;\n}\n\n.detail-label {\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.detail-value {\n  color: var(--text-secondary);\n  font-family: monospace;\n}\n\n@media (max-width: 768px) {\n  .test-ok-container {\n    padding: 10px;\n  }\n  \n  .success-header {\n    padding: 30px 15px;\n  }\n  \n  .success-header h2 {\n    font-size: 1.5rem;\n  }\n  \n  .actions-grid {\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  }\n  \n  .action-button {\n    padding: 20px 12px;\n  }\n  \n  .detail-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n  \n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n}\n</style>\n","import { render } from \"./Ok_TestView.vue?vue&type=template&id=0aaf4706&scoped=true\"\nimport script from \"./Ok_TestView.vue?vue&type=script&lang=js\"\nexport * from \"./Ok_TestView.vue?vue&type=script&lang=js\"\n\nimport \"./Ok_TestView.vue?vue&type=style&index=0&id=0aaf4706&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0aaf4706\"]])\n\nexport default __exports__","<template>\n  <div class=\"error-container\">\n    <!-- Theme Toggle -->\n    <ThemeToggle class=\"theme-toggle\" />\n    \n    <div class=\"signance-container\">\n      <!-- Header de error -->\n      <div class=\"error-header\">\n        <div class=\"error-icon\">\n          <q-icon name=\"error\" size=\"5rem\" />\n        </div>\n        <h2>¡Oops! Algo salió mal</h2>\n        <p>Pochtecayotl Signance System - Página de Error</p>\n      </div>\n\n      <!-- Información del error -->\n      <div class=\"info-card error-info\">\n        <div class=\"card-header\">\n          <q-icon name=\"bug_report\" size=\"2rem\" />\n          <div class=\"header-text\">\n            <h3>Error del Sistema</h3>\n            <p>Detalles técnicos del problema</p>\n          </div>\n        </div>\n\n        <div class=\"error-details\">\n          <div class=\"error-badge\">\n            <q-chip color=\"negative\" text-color=\"white\" icon=\"error\">\n              Código: {{ errorCode }}\n            </q-chip>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Mensaje:</span>\n            <span class=\"detail-value\">{{ errorMessage }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">Timestamp:</span>\n            <span class=\"detail-value\">{{ new Date().toLocaleString('es-ES') }}</span>\n          </div>\n          \n          <div class=\"detail-item\">\n            <span class=\"detail-label\">URL:</span>\n            <span class=\"detail-value\">{{ currentUrl }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Diagnóstico del sistema -->\n      <div class=\"info-card diagnostic-card\">\n        <div class=\"card-title\">\n          <h3>Diagnóstico del Sistema</h3>\n        </div>\n        \n        <div class=\"diagnostic-grid\">\n          <div \n            v-for=\"check in diagnosticChecks\" \n            :key=\"check.name\"\n            class=\"diagnostic-item\"\n            :class=\"{ \n              'diagnostic-ok': check.status === 'ok',\n              'diagnostic-error': check.status === 'error',\n              'diagnostic-checking': check.checking\n            }\"\n          >\n            <div class=\"diagnostic-icon\">\n              <q-icon \n                :name=\"check.status === 'ok' ? 'check_circle' : check.status === 'error' ? 'error' : 'help'\"\n                size=\"1.5rem\"\n              />\n            </div>\n            \n            <div class=\"diagnostic-info\">\n              <h4>{{ check.name }}</h4>\n              <p>{{ check.description }}</p>\n              <p v-if=\"check.details\" class=\"diagnostic-details\">{{ check.details }}</p>\n            </div>\n            \n            <div class=\"diagnostic-action\">\n              <q-btn \n                flat \n                round \n                icon=\"refresh\"\n                @click=\"runDiagnostic(check)\"\n                :loading=\"check.checking\"\n                size=\"sm\"\n                color=\"primary\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Posibles soluciones -->\n      <div class=\"info-card solutions-card\">\n        <div class=\"card-title\">\n          <h3>Posibles Soluciones</h3>\n        </div>\n        \n        <div class=\"solutions-timeline\">\n          <div class=\"solution-step\">\n            <div class=\"step-number\">1</div>\n            <div class=\"step-content\">\n              <h4>Verificar Conexión</h4>\n              <p>Verifica que el servidor backend esté ejecutándose en <code>http://127.0.0.1:8002</code></p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Probar Conexión\"\n                @click=\"testConnection\"\n                size=\"sm\"\n                icon=\"wifi\"\n                rounded\n              />\n            </div>\n          </div>\n\n          <div class=\"solution-step\">\n            <div class=\"step-number\">2</div>\n            <div class=\"step-content\">\n              <h4>Revisar Autenticación</h4>\n              <p>Verifica que tu sesión no haya expirado</p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Ir a Login\"\n                @click=\"goToLogin\"\n                size=\"sm\"\n                icon=\"key\"\n                rounded\n              />\n            </div>\n          </div>\n\n          <div class=\"solution-step\">\n            <div class=\"step-number\">3</div>\n            <div class=\"step-content\">\n              <h4>Recargar Página</h4>\n              <p>A veces un simple recargo puede solucionar el problema</p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Recargar\"\n                @click=\"reloadPage\"\n                size=\"sm\"\n                icon=\"refresh\"\n                rounded\n              />\n            </div>\n          </div>\n\n          <div class=\"solution-step\">\n            <div class=\"step-number\">4</div>\n            <div class=\"step-content\">\n              <h4>Contactar Soporte</h4>\n              <p>Si el problema persiste, contacta al equipo de soporte</p>\n              <q-btn \n                flat \n                color=\"primary\" \n                label=\"Reportar Error\"\n                @click=\"reportError\"\n                size=\"sm\"\n                icon=\"support\"\n                rounded\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Acciones de navegación -->\n      <div class=\"info-card navigation-card\">\n        <div class=\"card-title\">\n          <h3>Navegación</h3>\n        </div>\n        \n        <div class=\"navigation-actions\">\n          <div class=\"nav-button primary-nav\" @click=\"goToHome\">\n            <q-icon name=\"home\" size=\"2rem\" />\n            <span>Ir al Inicio</span>\n          </div>\n          \n          <div class=\"nav-button secondary-nav\" @click=\"goToLogin\">\n            <q-icon name=\"login\" size=\"2rem\" />\n            <span>Iniciar Sesión</span>\n          </div>\n          \n          <div class=\"nav-button success-nav\" @click=\"goToTestPage\">\n            <q-icon name=\"check\" size=\"2rem\" />\n            <span>Página de Prueba</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Información técnica -->\n      <div class=\"technical-section\">\n        <q-expansion-item\n          icon=\"code\"\n          label=\"Información Técnica\"\n          caption=\"Detalles para desarrolladores\"\n          class=\"technical-expansion\"\n        >\n          <div class=\"technical-content\">\n            <pre class=\"technical-info\">{{ technicalInfo }}</pre>\n          </div>\n        </q-expansion-item>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, computed } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useQuasar } from 'quasar'\nimport { useToast } from 'vue-toastification'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'Error_View',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const $q = useQuasar()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n\n    // Información del error\n    const errorCode = ref(route.query.code || '500')\n    const errorMessage = ref(route.query.message || 'Error interno del sistema')\n    const currentUrl = ref(window.location.href)\n\n    // Diagnósticos del sistema\n    const diagnosticChecks = ref([\n      {\n        name: 'Conexión Backend',\n        description: 'Verificar si el servidor está disponible',\n        status: 'unknown',\n        checking: false,\n        test: async () => {\n          const response = await fetch('http://127.0.0.1:8002/health')\n          return response.ok\n        }\n      },\n      {\n        name: 'Token de Autenticación',\n        description: 'Verificar validez del token JWT',\n        status: 'unknown',\n        checking: false,\n        test: () => {\n          const token = localStorage.getItem('signance_token')\n          return !!token\n        }\n      },\n      {\n        name: 'Almacenamiento Local',\n        description: 'Verificar disponibilidad de localStorage',\n        status: 'unknown',\n        checking: false,\n        test: () => {\n          try {\n            localStorage.setItem('test', 'test')\n            localStorage.removeItem('test')\n            return true\n          } catch {\n            return false\n          }\n        }\n      },\n      {\n        name: 'Conectividad de Red',\n        description: 'Verificar conexión a internet',\n        status: 'unknown',\n        checking: false,\n        test: () => navigator.onLine\n      }\n    ])\n\n    // Información técnica\n    const technicalInfo = computed(() => {\n      return JSON.stringify({\n        errorCode: errorCode.value,\n        errorMessage: errorMessage.value,\n        url: currentUrl.value,\n        userAgent: navigator.userAgent,\n        timestamp: new Date().toISOString(),\n        localStorage: {\n          hasToken: !!localStorage.getItem('signance_token'),\n          tokenLength: localStorage.getItem('signance_token')?.length || 0\n        },\n        route: {\n          path: route.path,\n          query: route.query,\n          params: route.params\n        }\n      }, null, 2)\n    })\n\n    // Ejecutar diagnóstico\n    const runDiagnostic = async (check) => {\n      check.checking = true\n      \n      try {\n        const result = await check.test()\n        check.status = result ? 'ok' : 'error'\n        check.details = result ? 'Funcionando correctamente' : 'Problema detectado'\n      } catch (error) {\n        check.status = 'error'\n        check.details = `Error: ${error.message}`\n      } finally {\n        check.checking = false\n      }\n    }\n\n    // Ejecutar todos los diagnósticos\n    const runAllDiagnostics = async () => {\n      for (const check of diagnosticChecks.value) {\n        await runDiagnostic(check)\n        await new Promise(resolve => setTimeout(resolve, 300))\n      }\n    }\n\n    // Probar conexión\n    const testConnection = async () => {\n      $q.loading.show({\n        message: 'Probando conexión...'\n      })\n\n      try {\n        const response = await fetch('http://127.0.0.1:8002/health')\n        if (response.ok) {\n          toast.success('✅ Conexión exitosa con el backend')\n        } else {\n          toast.warning('⚠️ El servidor responde pero con errores')\n        }\n      } catch (error) {\n        toast.error('❌ No se puede conectar con el servidor')\n      } finally {\n        $q.loading.hide()\n      }\n    }\n\n    // Navegación\n    const goToHome = () => {\n      router.push('/')\n    }\n\n    const goToLogin = () => {\n      router.push('/login')\n    }\n\n    const goToTestPage = () => {\n      router.push('/test-ok')\n    }\n\n    const reloadPage = () => {\n      window.location.reload()\n    }\n\n    const reportError = () => {\n      toast.info('Función de reporte de errores en desarrollo')\n      console.log('Error Report:', technicalInfo.value)\n    }\n\n    onMounted(() => {\n      // Ejecutar diagnósticos automáticamente\n      setTimeout(runAllDiagnostics, 1000)\n    })\n\n    return {\n      errorCode,\n      errorMessage,\n      currentUrl,\n      diagnosticChecks,\n      technicalInfo,\n      runDiagnostic,\n      runAllDiagnostics,\n      testConnection,\n      goToHome,\n      goToLogin,\n      goToTestPage,\n      reloadPage,\n      reportError,\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.error-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--error) 0%, var(--primary) 50%, var(--secondary) 100%);\n  padding: 20px 0;\n  position: relative;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.signance-container {\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 0 20px;\n}\n\n.error-header {\n  text-align: center;\n  background: var(--surface);\n  backdrop-filter: blur(20px);\n  border-radius: 20px;\n  padding: 40px 20px;\n  margin-bottom: 30px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid var(--border);\n}\n\n.error-icon {\n  color: var(--error);\n  margin-bottom: 20px;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.error-header h2 {\n  margin: 0 0 12px 0;\n  font-size: 2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n\n.error-header p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n}\n\n.info-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  margin-bottom: 24px;\n  box-shadow: var(--shadow-md);\n  overflow: hidden;\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-header q-icon {\n  color: var(--warning);\n}\n\n.header-text h3 {\n  margin: 0 0 4px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.header-text p {\n  margin: 0;\n  color: var(--text-secondary);\n}\n\n.card-title {\n  padding: 24px 24px 16px;\n  border-bottom: 1px solid var(--border);\n}\n\n.card-title h3 {\n  margin: 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.error-details {\n  padding: 20px;\n}\n\n.error-badge {\n  margin-bottom: 20px;\n}\n\n.detail-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 0;\n  border-bottom: 1px solid var(--border);\n}\n\n.detail-item:last-child {\n  border-bottom: none;\n}\n\n.detail-label {\n  font-weight: 500;\n  color: var(--text-primary);\n}\n\n.detail-value {\n  color: var(--text-secondary);\n  font-family: monospace;\n  word-break: break-all;\n}\n\n.diagnostic-grid {\n  padding: 20px;\n  display: grid;\n  gap: 16px;\n}\n\n.diagnostic-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 20px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  border-radius: 12px;\n  transition: all 0.3s ease;\n}\n\n.diagnostic-item:hover {\n  box-shadow: var(--shadow-md);\n}\n\n.diagnostic-ok {\n  border-color: var(--success);\n  background: var(--hover-color);\n}\n\n.diagnostic-error {\n  border-color: var(--error);\n  background: var(--hover-color);\n}\n\n.diagnostic-checking {\n  border-color: var(--warning);\n  background: var(--hover-color);\n}\n\n.diagnostic-icon {\n  color: var(--text-secondary);\n}\n\n.diagnostic-ok .diagnostic-icon {\n  color: var(--success);\n}\n\n.diagnostic-error .diagnostic-icon {\n  color: var(--error);\n}\n\n.diagnostic-checking .diagnostic-icon {\n  color: var(--warning);\n}\n\n.diagnostic-info {\n  flex: 1;\n}\n\n.diagnostic-info h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.diagnostic-info p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.diagnostic-details {\n  font-size: 0.8rem !important;\n  color: var(--text-secondary) !important;\n  margin-top: 4px !important;\n}\n\n.solutions-timeline {\n  padding: 20px;\n  display: grid;\n  gap: 24px;\n}\n\n.solution-step {\n  display: flex;\n  gap: 20px;\n  align-items: flex-start;\n}\n\n.step-number {\n  background: var(--primary);\n  color: var(--on-primary);\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n  flex-shrink: 0;\n}\n\n.step-content {\n  flex: 1;\n}\n\n.step-content h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.step-content p {\n  margin: 0 0 12px 0;\n  color: var(--text-secondary);\n  line-height: 1.4;\n}\n\n.step-content code {\n  background: var(--background);\n  border: 1px solid var(--border);\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-family: monospace;\n  font-size: 0.85rem;\n}\n\n.navigation-actions {\n  padding: 20px;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 16px;\n}\n\n.nav-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 24px 16px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: center;\n}\n\n.nav-button:hover {\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-md);\n}\n\n.primary-nav {\n  background: var(--hover-primary);\n  border: 2px solid var(--primary);\n  color: var(--primary);\n}\n\n.secondary-nav {\n  background: var(--hover-secondary);\n  border: 2px solid var(--secondary);\n  color: var(--secondary);\n}\n\n.success-nav {\n  background: rgba(67, 160, 71, 0.1);\n  border: 2px solid var(--success);\n  color: var(--success);\n}\n\n[data-theme=\"dark\"] .success-nav {\n  background: rgba(102, 187, 106, 0.1);\n}\n\n.nav-button span {\n  font-weight: 500;\n  font-size: 0.95rem;\n}\n\n.technical-section {\n  margin-bottom: 20px;\n}\n\n.technical-expansion {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  overflow: hidden;\n}\n\n.technical-content {\n  padding: 20px;\n}\n\n.technical-info {\n  background: var(--background);\n  padding: 15px;\n  border-radius: 8px;\n  font-size: 12px;\n  overflow-x: auto;\n  max-height: 300px;\n  border: 1px solid var(--border);\n  color: var(--text-primary);\n}\n\n@media (max-width: 768px) {\n  .error-container {\n    padding: 10px;\n  }\n  \n  .error-header {\n    padding: 30px 15px;\n  }\n  \n  .error-header h2 {\n    font-size: 1.5rem;\n  }\n  \n  .navigation-actions {\n    grid-template-columns: 1fr;\n  }\n  \n  .nav-button {\n    padding: 20px 12px;\n  }\n  \n  .detail-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 8px;\n  }\n  \n  .solution-step {\n    flex-direction: column;\n    gap: 12px;\n  }\n  \n  .step-number {\n    align-self: flex-start;\n  }\n  \n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n}\n</style>\n","import { render } from \"./Error_View.vue?vue&type=template&id=2aecc947&scoped=true\"\nimport script from \"./Error_View.vue?vue&type=script&lang=js\"\nexport * from \"./Error_View.vue?vue&type=script&lang=js\"\n\nimport \"./Error_View.vue?vue&type=style&index=0&id=2aecc947&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2aecc947\"]])\n\nexport default __exports__","<template>\n  <div class=\"selection-container\">\n    <!-- Theme Toggle -->\n    <ThemeToggle class=\"theme-toggle\" />\n    \n    <!-- Main Selection Card -->\n    <div class=\"selection-card\">\n      <div class=\"card-header\">\n        <div class=\"logo-section\">\n          <q-icon name=\"campaign\" size=\"4rem\" class=\"ads-icon\" />\n          <h2 class=\"welcome-title\">Bienvenido</h2>\n          <h3 class=\"system-title\">Pochtecayotl Signance System</h3>\n        </div>\n        <p class=\"subtitle\">Seleccione una opción para continuar</p>\n      </div>\n\n      <div class=\"options-section\">\n        <div class=\"option-card player-option\" @click=\"goPlayer\">\n          <div class=\"option-icon\">\n            <q-icon name=\"play_circle_filled\" size=\"3rem\" />\n          </div>\n          <div class=\"option-content\">\n            <h4>Reproductor</h4>\n            <p>Acceder al reproductor de contenido multimedia</p>\n          </div>\n          <q-icon name=\"arrow_forward\" size=\"1.5rem\" class=\"arrow-icon\" />\n        </div>\n\n        <div class=\"option-card admin-option\" @click=\"goAdmin\">\n          <div class=\"option-icon\">\n            <q-icon name=\"dashboard\" size=\"3rem\" />\n          </div>\n          <div class=\"option-content\">\n            <h4>Admin Dashboard</h4>\n            <p>Gestionar contenido y configuración del sistema</p>\n          </div>\n          <q-icon name=\"arrow_forward\" size=\"1.5rem\" class=\"arrow-icon\" />\n        </div>\n      </div>\n\n      <div class=\"footer-section\">\n        <p class=\"footer-text\">Sistema diseñado por un gei 🏳️‍🌈</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter } from 'vue-router'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'SelectionView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const { isDarkMode } = useTheme()\n    \n    const goPlayer = () => router.push('/player')\n    const goAdmin = () => router.push('/admin')\n    \n    return { \n      goPlayer, \n      goAdmin,\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n.selection-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  position: relative;\n  overflow: hidden;\n}\n\n.selection-container::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 30% 20%, rgba(240, 144, 123, 0.2) 0%, transparent 50%),\n              radial-gradient(circle at 70% 80%, rgba(123, 197, 240, 0.2) 0%, transparent 50%);\n  pointer-events: none;\n}\n\n[data-theme=\"dark\"] .selection-container::before {\n  background: radial-gradient(circle at 30% 20%, rgba(255, 170, 147, 0.2) 0%, transparent 50%),\n              radial-gradient(circle at 70% 80%, rgba(90, 157, 203, 0.2) 0%, transparent 50%);\n}\n\n.theme-toggle {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  z-index: 10;\n}\n\n.selection-card {\n  background: var(--surface);\n  backdrop-filter: blur(20px);\n  border-radius: 24px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid var(--border);\n  padding: 60px 40px;\n  max-width: 600px;\n  width: 100%;\n  text-align: center;\n  position: relative;\n  z-index: 2;\n  transition: all 0.3s ease;\n}\n\n.card-header {\n  margin-bottom: 40px;\n}\n\n.logo-section {\n  margin-bottom: 20px;\n}\n\n.pride-icon {\n  color: var(--primary);\n  margin-bottom: 16px;\n  animation: float 3s ease-in-out infinite;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.welcome-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 8px 0;\n  background: linear-gradient(45deg, var(--primary), var(--secondary));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.system-title {\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0 0 16px 0;\n  color: var(--text-primary);\n}\n\n.subtitle {\n  font-size: 1.1rem;\n  color: var(--text-secondary);\n  margin: 0;\n}\n\n.options-section {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  margin-bottom: 40px;\n}\n\n.option-card {\n  display: flex;\n  align-items: center;\n  padding: 24px;\n  border-radius: 16px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n}\n\n.option-card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--shadow-lg);\n  border-color: var(--primary);\n}\n\n.player-option:hover {\n  background: var(--hover-secondary);\n}\n\n.admin-option:hover {\n  background: var(--hover-primary);\n}\n\n.option-icon {\n  margin-right: 20px;\n  color: var(--primary);\n  transition: all 0.3s ease;\n}\n\n.option-card:hover .option-icon {\n  transform: scale(1.1);\n  color: var(--primary-dark);\n}\n\n.option-content {\n  flex: 1;\n}\n\n.option-content h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.3rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.option-content p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n}\n\n.arrow-icon {\n  color: var(--secondary);\n  transition: all 0.3s ease;\n}\n\n.option-card:hover .arrow-icon {\n  transform: translateX(4px);\n  color: var(--primary);\n}\n\n.footer-section {\n  border-top: 1px solid var(--border);\n  padding-top: 20px;\n}\n\n.footer-text {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n@keyframes float {\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-10px); }\n}\n\n@media (max-width: 768px) {\n  .selection-container {\n    padding: 20px 10px;\n  }\n  \n  .selection-card {\n    padding: 40px 20px;\n  }\n  \n  .welcome-title {\n    font-size: 2rem;\n  }\n  \n  .system-title {\n    font-size: 1.3rem;\n  }\n  \n  .option-card {\n    padding: 20px;\n  }\n  \n  .option-icon {\n    margin-right: 16px;\n  }\n  \n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n}\n</style>\n","import { render } from \"./SelectionView.vue?vue&type=template&id=8e67c9e0&scoped=true\"\nimport script from \"./SelectionView.vue?vue&type=script&lang=js\"\nexport * from \"./SelectionView.vue?vue&type=script&lang=js\"\n\nimport \"./SelectionView.vue?vue&type=style&index=0&id=8e67c9e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8e67c9e0\"]])\n\nexport default __exports__","<template>\n  <div class=\"admin-dashboard-container\">\n    <ThemeToggle class=\"theme-toggle\" />\n    <div class=\"signance-container\">\n      <div class=\"dashboard-header\">\n        <div class=\"header-icon\">\n          <q-icon name=\"dashboard\" size=\"4rem\" />\n        </div>\n        <h2>Dashboard Administrativo</h2>\n        <p>Pochtecayotl Signance System - Panel de Control</p>\n      </div>\n\n      <StatisticsCard :stats=\"stats\" :business-info=\"businessInfo\" />\n\n      <PlaylistManagement\n        :playlists=\"playlists\"\n        @create=\"showCreatePlaylistDialog\"\n        @edit=\"editPlaylist\"\n        @manage=\"managePlaylistMedia\"\n        @schedule=\"schedulePlaylist\"\n        @delete=\"deletePlaylist\"\n      />\n\n      <div class=\"info-card upload-card\">\n        <div class=\"card-header\">\n          <q-icon name=\"cloud_upload\" size=\"2rem\" />\n          <div class=\"header-text\">\n            <h3>Subir Multimedia</h3>\n            <p>Agregar nuevos archivos al sistema</p>\n          </div>\n        </div>\n        <div class=\"upload-content\">\n          <MediaUploader @uploaded=\"onMediaUploaded\" @error=\"onMediaUploadError\" />\n        </div>\n      </div>\n\n      <MediaGallery\n        :media-files=\"mediaFiles\"\n        :backend-base-url=\"backendBaseUrl\"\n        :loading=\"mediaLoading\"\n        mode=\"compact\"\n        title=\"Archivos Multimedia\"\n        subtitle=\"Archivos recientes\"\n        :max-items=\"8\"\n        @refresh=\"loadMedia\"\n        @edit=\"editMedia\"\n        @delete=\"deleteMedia\"\n        @show-all=\"navigateToMediaManager\"\n        class=\"section-spacing\"\n      />\n\n      <QuickActions @logout=\"logout\" class=\"section-spacing\" />\n    </div>\n\n    <PlaylistDialog\n      v-model=\"playlistDialog\"\n      :playlist=\"editingPlaylist\"\n      :form=\"playlistForm\"\n      :loading=\"savingPlaylist\"\n      :is-dark=\"isDarkMode\"\n      @save=\"savePlaylist\"\n      @close=\"closePlaylistDialog\"\n    />\n\n    <EditMediaDialog\n      v-model=\"editMediaDialog\"\n      :media=\"editingMedia\"\n      :form=\"editMediaForm\"\n      :loading=\"savingMedia\"\n      :is-dark=\"isDarkMode\"\n      @save=\"saveMediaChanges\"\n      @close=\"closeEditMediaDialog\"\n    />\n\n    <ScheduleDialog\n      v-model=\"scheduleDialog\"\n      :form=\"scheduleForm\"\n      :loading=\"savingSchedule\"\n      :weekday-options=\"weekdayOptions\"\n      :is-dark=\"isDarkMode\"\n      @save=\"saveSchedule\"\n      @close=\"closeScheduleDialog\"\n    />\n\n    <!-- Dialog para gestionar medios en playlist -->\n    <q-dialog v-model=\"playlistMediaDialog\" persistent>\n      <q-card style=\"min-width: 700px; max-width: 900px;\" :class=\"{ 'bg-dark text-white': isDarkMode }\">\n        <q-card-section>\n          <div class=\"text-h6\">\n            Gestionar Medios - {{ selectedPlaylist?.name }}\n          </div>\n        </q-card-section>\n\n        <q-card-section class=\"q-pt-none\">\n          <div class=\"row q-gutter-md\">\n            <!-- Medios disponibles -->\n            <div class=\"col-5\">\n              <div class=\"text-subtitle2 q-mb-md\">Medios Disponibles</div>\n              <q-list bordered class=\"available-media-list\" :class=\"{ 'bg-grey-9': isDarkMode }\">\n                <q-item \n                  v-for=\"media in availableMedia\" \n                  :key=\"media.id\"\n                  clickable\n                  @click=\"addMediaToPlaylist(media)\"\n                >\n                  <q-item-section avatar>\n                    <q-icon :name=\"getMediaIcon(media.media_type || media.file_type)\" />\n                  </q-item-section>\n                  <q-item-section>\n                    <q-item-label>{{ media.filename }}</q-item-label>\n                    <q-item-label caption>{{ media.media_type || media.file_type }}</q-item-label>\n                  </q-item-section>\n                  <q-item-section side>\n                    <q-btn flat round icon=\"add\" size=\"sm\" />\n                  </q-item-section>\n                </q-item>\n                <q-item v-if=\"availableMedia.length === 0\">\n                  <q-item-section>\n                    <q-item-label class=\"text-center text-grey\">No hay medios disponibles</q-item-label>\n                  </q-item-section>\n                </q-item>\n              </q-list>\n            </div>\n\n            <!-- Medios en playlist -->\n            <div class=\"col-6\">\n              <div class=\"text-subtitle2 q-mb-md\">Medios en Playlist</div>\n              <q-list bordered class=\"playlist-media-list\" :class=\"{ 'bg-grey-9': isDarkMode }\">\n                <draggable \n                  v-model=\"playlistMedias\" \n                  @end=\"reorderPlaylistMedia\"\n                  item-key=\"id\"\n                >\n                  <template #item=\"{ element: media, index }\">\n                    <q-item>\n                      <q-item-section avatar>\n                        <q-icon name=\"drag_handle\" />\n                      </q-item-section>\n                      <q-item-section avatar>\n                        <q-icon :name=\"getMediaIcon(media.media_type || media.file_type)\" />\n                      </q-item-section>\n                      <q-item-section>\n                        <q-item-label>{{ media.filename }}</q-item-label>\n                        <q-item-label caption>{{ media.media_type || media.file_type }} - Orden: {{ index + 1 }}</q-item-label>\n                      </q-item-section>\n                      <q-item-section side>\n                        <q-btn \n                          flat \n                          round \n                          icon=\"remove\" \n                          size=\"sm\"\n                          @click=\"removeMediaFromPlaylist(media.id)\"\n                        />\n                      </q-item-section>\n                    </q-item>\n                  </template>\n                </draggable>\n                <q-item v-if=\"playlistMedias.length === 0\">\n                  <q-item-section>\n                    <q-item-label class=\"text-center text-grey\">No hay medios en esta playlist</q-item-label>\n                  </q-item-section>\n                </q-item>\n              </q-list>\n            </div>\n          </div>\n        </q-card-section>\n\n        <q-card-actions align=\"right\">\n          <q-btn flat label=\"Cerrar\" @click=\"closePlaylistMediaDialog\" />\n        </q-card-actions>\n      </q-card>\n    </q-dialog>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useQuasar } from 'quasar'\nimport { useToast } from 'vue-toastification'\nimport { businessAPI } from '../services/api'\nimport MediaUploader from '../components/MediaUploader.vue'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport StatisticsCard from '../components/dashboard/StatisticsCard.vue'\nimport PlaylistManagement from '../components/dashboard/PlaylistManagement.vue'\nimport MediaGallery from '../components/dashboard/MediaGallery.vue'\nimport QuickActions from '../components/dashboard/QuickActions.vue'\nimport PlaylistDialog from '../components/dashboard/dialogs/PlaylistDialog.vue'\nimport EditMediaDialog from '../components/dashboard/dialogs/EditMediaDialog.vue'\nimport ScheduleDialog from '../components/dashboard/dialogs/ScheduleDialog.vue'\nimport { useTheme } from '../composables/useTheme'\nimport { usePlaylists } from '../composables/usePlaylists'\nimport { useMedia } from '../composables/useMedia'\nimport { useSchedules } from '../composables/useSchedules'\nimport { useMediaUrl } from '../composables/useMediaUrl'\nimport backendDetector from '../services/backendDetector'\nimport draggable from 'vuedraggable'\n\nexport default {\n  name: 'AdminView',\n  components: {\n    MediaUploader,\n    ThemeToggle,\n    StatisticsCard,\n    PlaylistManagement,\n    MediaGallery,\n    QuickActions,\n    PlaylistDialog,\n    EditMediaDialog,\n    ScheduleDialog,\n    draggable\n  },\n  setup () {\n    const router = useRouter()\n    const $q = useQuasar()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n    const { backendBaseUrl } = useMediaUrl()\n\n    const playlistDialog = ref(false)\n    const editMediaDialog = ref(false)\n    const scheduleDialog = ref(false)\n    const playlistMediaDialog = ref(false)\n\n    const playlistForm = reactive({ name: '', description: '' })\n    const editMediaForm = reactive({ filename: '', description: '' })\n    const scheduleForm = reactive({ contentName: '' })\n\n    const savingPlaylist = ref(false)\n    const savingMedia = ref(false)\n    const savingSchedule = ref(false)\n    const mediaLoading = ref(false)\n\n    const { playlists, stats, loadPlaylists, loadStats, createPlaylist, updatePlaylist, removePlaylist } = usePlaylists()\n    const { mediaFiles, loadMedia, removeMedia } = useMedia()\n    const { loadSchedules } = useSchedules()\n\n    const businessInfo = reactive({ name: '', logo: null })\n    const editingPlaylist = ref(null)\n    const editingMedia = ref(null)\n    const selectedPlaylist = ref(null)\n    const availableMedia = ref([])\n    const playlistMedias = ref([])\n\n    const weekdayOptions = [\n      { label: 'Lun', value: 0 },\n      { label: 'Mar', value: 1 },\n      { label: 'Mié', value: 2 },\n      { label: 'Jue', value: 3 },\n      { label: 'Vie', value: 4 },\n      { label: 'Sáb', value: 5 },\n      { label: 'Dom', value: 6 }\n    ]\n\n    const refreshData = async () => {\n      await Promise.all([loadPlaylists(), loadMedia(), loadStats(), loadSchedules(), loadBusinessInfo()])\n    }\n\n    const loadBusinessInfo = async () => {\n      try {\n        const response = await businessAPI.get()\n        Object.assign(businessInfo, response.data)\n      } catch (error) {\n        console.error('Error loading business info:', error)\n        // Set default values if error\n        businessInfo.name = 'Signance System'\n        businessInfo.logo = null\n      }\n    }\n\n    const showCreatePlaylistDialog = () => {\n      editingPlaylist.value = null\n      playlistForm.name = ''\n      playlistForm.description = ''\n      playlistDialog.value = true\n    }\n\n    const editPlaylist = (playlist) => {\n      editingPlaylist.value = playlist\n      playlistForm.name = playlist.name\n      playlistForm.description = playlist.description || ''\n      playlistDialog.value = true\n    }\n\n    const savePlaylist = async () => {\n      savingPlaylist.value = true\n      try {\n        if (editingPlaylist.value) {\n          await updatePlaylist(editingPlaylist.value.id, playlistForm)\n        } else {\n          await createPlaylist(playlistForm)\n        }\n        playlistDialog.value = false\n      } finally {\n        savingPlaylist.value = false\n      }\n    }\n\n    const deletePlaylist = async (playlistId) => {\n      await removePlaylist(playlistId)\n    }\n\n    const onMediaUploaded = () => {\n      loadMedia()\n      loadStats()\n    }\n\n    const onMediaUploadError = () => {\n      toast.error('Error subiendo archivo')\n    }\n\n    const editMedia = (media) => {\n      editingMedia.value = media\n      editMediaForm.filename = media.filename\n      editMediaForm.description = media.description\n      editMediaDialog.value = true\n    }\n\n    const saveMediaChanges = async () => {\n      // Placeholder for update logic\n      editMediaDialog.value = false\n    }\n\n    const deleteMedia = async (mediaId) => {\n      await removeMedia(mediaId)\n      loadStats()\n    }\n\n    const schedulePlaylist = (playlist) => {\n      scheduleForm.contentName = playlist.name\n      scheduleDialog.value = true\n    }\n\n    const managePlaylistMedia = async (playlist) => {\n      selectedPlaylist.value = playlist\n      try {\n        // Cargar medios de la playlist\n        const playlistResponse = await fetch(`${backendBaseUrl.value}/api/playlists/${playlist.id}`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          }\n        })\n        const playlistData = await playlistResponse.json()\n        playlistMedias.value = playlistData.medias || []\n\n        // Cargar todos los medios disponibles\n        // Filtrar medios que no están en la playlist\n        const mediaInPlaylist = new Set(playlistMedias.value.map(m => m.id))\n        availableMedia.value = mediaFiles.value.filter(m => !mediaInPlaylist.has(m.id))\n\n        playlistMediaDialog.value = true\n      } catch (error) {\n        toast.error('Error cargando datos de playlist')\n        console.error('Error loading playlist media:', error)\n      }\n    }\n\n    const closePlaylistMediaDialog = () => {\n      playlistMediaDialog.value = false\n      selectedPlaylist.value = null\n      availableMedia.value = []\n      playlistMedias.value = []\n    }\n\n    const closePlaylistDialog = () => { playlistDialog.value = false }\n    const closeEditMediaDialog = () => { editMediaDialog.value = false }\n    const closeScheduleDialog = () => { scheduleDialog.value = false }\n\n    const saveSchedule = async () => {\n      savingSchedule.value = false\n      scheduleDialog.value = false\n    }\n\n    const logout = () => {\n      localStorage.removeItem('signance_token')\n      router.push('/login')\n    }\n\n    const addMediaToPlaylist = async (media) => {\n      try {\n        const response = await fetch(`${backendBaseUrl.value}/api/playlists/${selectedPlaylist.value.id}/media`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          },\n          body: JSON.stringify({\n            media_id: media.id\n          })\n        })\n\n        if (response.ok) {\n          // Mover el media de disponible a playlist\n          availableMedia.value = availableMedia.value.filter(m => m.id !== media.id)\n          playlistMedias.value.push({\n            ...media,\n            order_index: playlistMedias.value.length\n          })\n          toast.success(`\"${media.filename}\" añadido a la playlist`)\n        } else {\n          throw new Error('Error en la respuesta del servidor')\n        }\n      } catch (error) {\n        toast.error('Error añadiendo medio a la playlist')\n        console.error('Error adding media to playlist:', error)\n      }\n    }\n\n    const removeMediaFromPlaylist = async (mediaId) => {\n      try {\n        const response = await fetch(`${backendBaseUrl.value}/api/playlists/${selectedPlaylist.value.id}/media/${mediaId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          }\n        })\n\n        if (response.ok) {\n          // Mover el media de playlist a disponible\n          const mediaToRemove = playlistMedias.value.find(m => m.id === mediaId)\n          if (mediaToRemove) {\n            playlistMedias.value = playlistMedias.value.filter(m => m.id !== mediaId)\n            availableMedia.value.push(mediaToRemove)\n            toast.success(`\"${mediaToRemove.filename}\" removido de la playlist`)\n          }\n        } else {\n          throw new Error('Error en la respuesta del servidor')\n        }\n      } catch (error) {\n        toast.error('Error removiendo medio de la playlist')\n        console.error('Error removing media from playlist:', error)\n      }\n    }\n\n    const reorderPlaylistMedia = async () => {\n      try {\n        const mediaOrder = playlistMedias.value.map((media, index) => ({\n          media_id: media.id,\n          order_index: index\n        }))\n\n        const response = await fetch(`${backendBaseUrl.value}/api/playlists/${selectedPlaylist.value.id}/reorder`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${localStorage.getItem('signance_token')}`\n          },\n          body: JSON.stringify({\n            media_order: mediaOrder\n          })\n        })\n\n        if (response.ok) {\n          toast.success('Orden actualizado')\n        } else {\n          throw new Error('Error en la respuesta del servidor')\n        }\n      } catch (error) {\n        toast.error('Error reordenando medios')\n        console.error('Error reordering media:', error)\n      }\n    }\n\n    const getMediaIcon = (fileType) => {\n      if (!fileType) return 'description'\n      \n      const type = fileType.toLowerCase()\n      if (type.includes('image')) return 'image'\n      if (type.includes('video')) return 'videocam'\n      if (type.includes('audio')) return 'audiotrack'\n      if (type.includes('pdf')) return 'picture_as_pdf'\n      return 'description'\n    }\n\n    const navigateToMediaManager = () => {\n      router.push('/media')\n    }\n\n    onMounted(async () => {\n      refreshData()\n      $q.dark.set(isDarkMode.value)\n    })\n\n    watch(isDarkMode, (val) => {\n      $q.dark.set(val)\n    })\n\n    return {\n      backendBaseUrl,\n      playlistDialog,\n      editMediaDialog,\n      scheduleDialog,\n      playlistMediaDialog,\n      playlistForm,\n      editMediaForm,\n      scheduleForm,\n      savingPlaylist,\n      savingMedia,\n      savingSchedule,\n      mediaLoading,\n      playlists,\n      stats,\n      mediaFiles,\n      businessInfo,\n      editingPlaylist,\n      editingMedia,\n      selectedPlaylist,\n      availableMedia,\n      playlistMedias,\n      weekdayOptions,\n      isDarkMode,\n      loadMedia,\n      showCreatePlaylistDialog,\n      editPlaylist,\n      savePlaylist,\n      deletePlaylist,\n      managePlaylistMedia,\n      closePlaylistMediaDialog,\n      schedulePlaylist,\n      onMediaUploaded,\n      onMediaUploadError,\n      editMedia,\n      saveMediaChanges,\n      deleteMedia,\n      saveSchedule,\n      closePlaylistDialog,\n      closeEditMediaDialog,\n      closeScheduleDialog,\n      logout,\n      addMediaToPlaylist,\n      removeMediaFromPlaylist,\n      reorderPlaylistMedia,\n      getMediaIcon\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* CSS Variables */\n:root {\n  --primary: #1976d2;\n  --primary-light: #42a5f5;\n  --primary-rgb: 25, 118, 210;\n  --secondary: #dc004e;\n  --accent: #9c27b0;\n}\n\n.admin-dashboard-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);\n  padding: 20px 0;\n  position: relative;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.signance-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n}\n\n.dashboard-header {\n  text-align: center;\n  color: white;\n  margin-bottom: 40px;\n  padding: 40px 20px;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n}\n\n.header-icon {\n  margin-bottom: 20px;\n  opacity: 0.9;\n}\n\n.dashboard-header h2 {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 10px 0;\n  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n}\n\n.dashboard-header p {\n  font-size: 1.1rem;\n  opacity: 0.9;\n  margin: 0;\n  font-weight: 300;\n}\n\n/* Card Styles */\n.info-card {\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(10px);\n  border-radius: 16px;\n  padding: 30px;\n  margin-bottom: 30px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  transition: all 0.3s ease;\n}\n\n.info-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);\n}\n\n/* Dark mode card styles */\n.body--dark .info-card {\n  background: rgba(30, 30, 30, 0.95);\n  color: white;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.card-header {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  margin-bottom: 25px;\n  padding-bottom: 20px;\n  border-bottom: 2px solid rgba(0, 0, 0, 0.1);\n}\n\n.body--dark .card-header {\n  border-bottom-color: rgba(255, 255, 255, 0.1);\n}\n\n.header-text h3 {\n  margin: 0 0 5px 0;\n  font-size: 1.8rem;\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.body--dark .header-text h3 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.header-text p {\n  margin: 0;\n  color: #666;\n  font-size: 1rem;\n}\n\n.body--dark .header-text p {\n  color: #ccc;\n}\n\n.card-title {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  margin-bottom: 25px;\n}\n\n.card-title h3 {\n  margin: 0;\n  font-size: 1.8rem;\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.body--dark .card-title h3 {\n  color: var(--primary-light, #42a5f5);\n}\n\n/* Upload Card Specific Styles */\n.upload-card .upload-content {\n  padding: 20px 0;\n}\n\n/* Stats Grid */\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  transition: all 0.3s ease;\n}\n\n.body--dark .stat-item {\n  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);\n}\n\n.stat-item:hover {\n  transform: scale(1.02);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n}\n\n.stat-icon {\n  color: var(--primary);\n  opacity: 0.8;\n}\n\n.stat-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: var(--primary);\n}\n\n.body--dark .stat-info h4 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.stat-info p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: #666;\n  font-weight: 500;\n}\n\n.body--dark .stat-info p {\n  color: #ccc;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .signance-container {\n    padding: 0 10px;\n  }\n  \n  .info-card {\n    padding: 20px;\n    margin-bottom: 20px;\n  }\n  \n  .dashboard-header {\n    padding: 30px 15px;\n  }\n  \n  .dashboard-header h2 {\n    font-size: 2rem;\n  }\n  \n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 15px;\n  }\n  \n  .card-header {\n    flex-direction: column;\n    gap: 15px;\n    align-items: flex-start;\n  }\n}\n\n@media (max-width: 480px) {\n  .theme-toggle {\n    top: 10px;\n    right: 10px;\n  }\n  \n  .dashboard-header h2 {\n    font-size: 1.8rem;\n  }\n  \n  .dashboard-header p {\n    font-size: 1rem;\n  }\n  \n  .info-card {\n    padding: 15px;\n  }\n  \n  .header-text h3 {\n    font-size: 1.5rem;\n  }\n}\n\n/* Playlist Media Management Dialog Styles */\n.available-media-list,\n.playlist-media-list {\n  max-height: 400px;\n  overflow-y: auto;\n  border-radius: 8px;\n}\n\n.body--dark .available-media-list,\n.body--dark .playlist-media-list {\n  background-color: #1e1e1e;\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n/* Custom scrollbar for lists */\n.available-media-list::-webkit-scrollbar,\n.playlist-media-list::-webkit-scrollbar {\n  width: 6px;\n}\n\n.available-media-list::-webkit-scrollbar-track,\n.playlist-media-list::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 3px;\n}\n\n.available-media-list::-webkit-scrollbar-thumb,\n.playlist-media-list::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.available-media-list::-webkit-scrollbar-thumb:hover,\n.playlist-media-list::-webkit-scrollbar-thumb:hover {\n  background: #a1a1a1;\n}\n\n.body--dark .available-media-list::-webkit-scrollbar-track,\n.body--dark .playlist-media-list::-webkit-scrollbar-track {\n  background: #2d2d2d;\n}\n\n.body--dark .available-media-list::-webkit-scrollbar-thumb,\n.body--dark .playlist-media-list::-webkit-scrollbar-thumb {\n  background: #555;\n}\n\n.body--dark .available-media-list::-webkit-scrollbar-thumb:hover,\n.body--dark .playlist-media-list::-webkit-scrollbar-thumb:hover {\n  background: #777;\n}\n\n/* Separación entre secciones */\n.section-spacing {\n  margin-bottom: 32px;\n}\n\n/* Espaciado especial para MediaGallery */\n.section-spacing + .section-spacing {\n  margin-top: 24px;\n}\n\n/* Responsive spacing */\n@media (max-width: 768px) {\n  .section-spacing {\n    margin-bottom: 24px;\n  }\n  \n  .section-spacing + .section-spacing {\n    margin-top: 16px;\n  }\n}\n</style>\n\n","<template>\n  <div class=\"info-card stats-card\">\n    <div class=\"card-title\">\n      <h3>Estadísticas del Sistema</h3>\n    </div>\n    <div class=\"stats-grid\">\n      <div class=\"stat-item media-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"video_library\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ stats.totalMedia }}</h4>\n          <p>Archivos Multimedia</p>\n        </div>\n      </div>\n      <div class=\"stat-item playlist-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"playlist_play\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ stats.totalPlaylists }}</h4>\n          <p>Playlists Creadas</p>\n        </div>\n      </div>\n      <div class=\"stat-item schedule-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"schedule\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ stats.totalScheduledItems }}</h4>\n          <p>Elementos Programados</p>\n        </div>\n      </div>\n      <div class=\"stat-item business-stat\">\n        <div class=\"stat-icon\"><q-icon name=\"business\" size=\"2rem\" /></div>\n        <div class=\"stat-info\">\n          <h4>{{ businessInfo.name || 'N/A' }}</h4>\n          <p>Negocio Configurado</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefineProps({\n  stats: Object,\n  businessInfo: Object\n})\n</script>\n\n<style scoped>\n/* CSS Variables */\n:root {\n  --primary: #1976d2;\n  --primary-light: #42a5f5;\n  --primary-rgb: 25, 118, 210;\n  --secondary: #dc004e;\n  --accent: #9c27b0;\n}\n\n/* Stats Grid */\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 20px;\n}\n\n.stat-item {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  transition: all 0.3s ease;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n/* Dark mode for stat items */\n.body--dark .stat-item {\n  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.stat-item:hover {\n  transform: scale(1.02);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n}\n\n/* Specific stat item colors */\n.media-stat .stat-icon {\n  color: #ff9800;\n  background: rgba(255, 152, 0, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.playlist-stat .stat-icon {\n  color: #2196f3;\n  background: rgba(33, 150, 243, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.schedule-stat .stat-icon {\n  color: #4caf50;\n  background: rgba(76, 175, 80, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.business-stat .stat-icon {\n  color: #9c27b0;\n  background: rgba(156, 39, 176, 0.1);\n  padding: 12px;\n  border-radius: 10px;\n}\n\n.stat-info {\n  flex: 1;\n}\n\n.stat-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: var(--primary);\n}\n\n.body--dark .stat-info h4 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.stat-info p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: #666;\n  font-weight: 500;\n}\n\n.body--dark .stat-info p {\n  color: #ccc;\n}\n\n/* Media queries for responsive design */\n@media (max-width: 768px) {\n  .stats-grid {\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 15px;\n  }\n  \n  .stat-item {\n    padding: 15px;\n    gap: 12px;\n  }\n  \n  .stat-info h4 {\n    font-size: 1.5rem;\n  }\n  \n  .stat-info p {\n    font-size: 0.8rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .stats-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .stat-item {\n    padding: 12px;\n  }\n  \n  .stat-info h4 {\n    font-size: 1.4rem;\n  }\n}\n</style>\n","import script from \"./StatisticsCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StatisticsCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StatisticsCard.vue?vue&type=style&index=0&id=ed43a590&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ed43a590\"]])\n\nexport default __exports__","<template>\n  <div class=\"info-card playlists-card\">\n    <div class=\"card-header\">\n      <q-icon name=\"playlist_play\" size=\"2rem\" />\n      <div class=\"header-text\">\n        <h3>Gestión de Playlists</h3>\n        <p>Crear y administrar listas de reproducción</p>\n      </div>\n      <q-btn color=\"primary\" icon=\"add\" label=\"Nueva Playlist\" @click=\"$emit('create')\" rounded no-caps />\n    </div>\n\n    <div class=\"playlists-content\">\n      <div v-if=\"playlists.length === 0\" class=\"empty-state\">\n        <q-icon name=\"playlist_add\" size=\"3rem\" />\n        <p>No hay playlists creadas</p>\n        <q-btn flat color=\"primary\" label=\"Crear primera playlist\" @click=\"$emit('create')\" />\n      </div>\n\n      <div v-else class=\"playlists-grid\">\n        <div v-for=\"playlist in playlists\" :key=\"playlist.id\" class=\"playlist-item\">\n          <div class=\"playlist-icon\"><q-icon name=\"queue_music\" size=\"1.5rem\" /></div>\n          <div class=\"playlist-info\">\n            <h4>{{ playlist.name }}</h4>\n            <p>{{ playlist.description || 'Sin descripción' }}</p>\n            <div class=\"playlist-meta\">\n              <q-chip size=\"sm\" color=\"primary\" text-color=\"white\">\n                {{ playlist.media_count || 0 }} medios\n              </q-chip>\n              <span class=\"playlist-date\">{{ formatDate(playlist.created_at) }}</span>\n            </div>\n          </div>\n          <div class=\"playlist-actions\">\n            <q-btn flat round icon=\"video_library\" size=\"sm\" color=\"secondary\" title=\"Gestionar medios\" @click=\"$emit('manage', playlist)\" />\n            <q-btn flat round icon=\"schedule\" size=\"sm\" color=\"orange\" title=\"Programar playlist\" @click=\"$emit('schedule', playlist)\" />\n            <q-btn flat round icon=\"edit\" size=\"sm\" color=\"primary\" title=\"Editar\" @click=\"$emit('edit', playlist)\" />\n            <q-btn flat round icon=\"delete\" size=\"sm\" color=\"negative\" title=\"Eliminar\" @click=\"$emit('delete', playlist.id)\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\ndefineProps({\n  playlists: Array\n})\n\nconst formatDate = (dateString) => {\n  if (!dateString) return 'Fecha no disponible'\n  return new Date(dateString).toLocaleDateString('es-ES', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n</script>\n\n<style scoped>\n.playlists-content {\n  padding-top: 10px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: #666;\n}\n\n.body--dark .empty-state {\n  color: #ccc;\n}\n\n.empty-state q-icon {\n  margin-bottom: 20px;\n  opacity: 0.6;\n}\n\n.empty-state p {\n  font-size: 1.1rem;\n  margin-bottom: 20px;\n  font-weight: 500;\n}\n\n.playlists-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 20px;\n}\n\n.playlist-item {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  padding: 20px;\n  border-radius: 12px;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n}\n\n.body--dark .playlist-item {\n  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.playlist-item:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);\n}\n\n.playlist-icon {\n  color: var(--primary);\n  padding: 10px;\n  border-radius: 8px;\n  background: rgba(var(--primary-rgb), 0.1);\n}\n\n.playlist-info {\n  flex: 1;\n}\n\n.playlist-info h4 {\n  margin: 0 0 5px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--primary);\n}\n\n.body--dark .playlist-info h4 {\n  color: var(--primary-light, #42a5f5);\n}\n\n.playlist-info p {\n  margin: 0 0 10px 0;\n  color: #666;\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.body--dark .playlist-info p {\n  color: #ccc;\n}\n\n.playlist-meta {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-top: 8px;\n}\n\n.playlist-date {\n  font-size: 0.8rem;\n  color: #999;\n}\n\n.body--dark .playlist-date {\n  color: #aaa;\n}\n\n.playlist-actions {\n  display: flex;\n  gap: 5px;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .playlists-grid {\n    grid-template-columns: 1fr;\n    gap: 15px;\n  }\n  \n  .playlist-item {\n    padding: 15px;\n    gap: 12px;\n  }\n  \n  .playlist-info h4 {\n    font-size: 1rem;\n  }\n  \n  .playlist-actions {\n    flex-direction: column;\n    gap: 8px;\n  }\n}\n\n@media (max-width: 480px) {\n  .empty-state {\n    padding: 40px 15px;\n  }\n  \n  .playlist-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 15px;\n  }\n  \n  .playlist-actions {\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-around;\n  }\n}\n</style>\n","import script from \"./PlaylistManagement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PlaylistManagement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PlaylistManagement.vue?vue&type=style&index=0&id=56cea820&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-56cea820\"]])\n\nexport default __exports__","<template>\n  <div class=\"info-card actions-card\">\n    <div class=\"card-title\"><h3>Acciones Rápidas</h3></div>\n    <div class=\"actions-grid\">\n      <div class=\"action-button primary-action\" @click=\"$router.push('/config')\">\n        <q-icon name=\"settings\" size=\"2rem\" />\n        <span>Configuración del Negocio</span>\n      </div>\n      <div class=\"action-button secondary-action\" @click=\"$router.push('/player')\">\n        <q-icon name=\"play_circle\" size=\"2rem\" />\n        <span>Reproductor</span>\n      </div>\n      <div class=\"action-button accent-action\" @click=\"navigateToMedia\">\n        <q-icon name=\"folder\" size=\"2rem\" />\n        <span>Explorar Media</span>\n      </div>\n      <div class=\"action-button info-action\" @click=\"navigateToAssistance\">\n        <q-icon name=\"support_agent\" size=\"2rem\" />\n        <span>Asistencia</span>\n      </div>\n      <div class=\"action-button warning-action\" @click=\"$emit('logout')\">\n        <q-icon name=\"logout\" size=\"2rem\" />\n        <span>Cerrar Sesión</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { useRouter } from 'vue-router'\n\nconst $router = useRouter()\n\ndefineEmits(['logout'])\n\n// Función para navegar a media\nconst navigateToMedia = () => {\n  $router.push('/media')\n}\n\n// Función para navegar a asistencia\nconst navigateToAssistance = () => {\n  $router.push('/test-ok')\n}\n</script>\n\n<style scoped>\n.actions-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 20px;\n  margin-top: 10px;\n}\n\n.action-button {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 25px 20px;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-weight: 500;\n  font-size: 1rem;\n  text-align: center;\n  border: 2px solid transparent;\n}\n\n.action-button:hover {\n  transform: translateY(-3px);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n}\n\n.primary-action {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n}\n\n.primary-action:hover {\n  background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);\n}\n\n.secondary-action {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n  color: white;\n}\n\n.secondary-action:hover {\n  background: linear-gradient(135deg, #ee82e9 0%, #f3455a 100%);\n}\n\n.accent-action {\n  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n  color: white;\n}\n\n.accent-action:hover {\n  background: linear-gradient(135deg, #3d9aec 0%, #00e0ec 100%);\n}\n\n.info-action {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n}\n\n.info-action:hover {\n  background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);\n}\n\n.warning-action {\n  background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);\n  color: white;\n}\n\n.warning-action:hover {\n  background: linear-gradient(135deg, #f95e88 0%, #fedd2e 100%);\n}\n\n/* Dark mode styles */\n.body--dark .action-button {\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.body--dark .primary-action {\n  background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);\n}\n\n.body--dark .secondary-action {\n  background: linear-gradient(135deg, #9f7aea 0%, #667eea 100%);\n}\n\n.body--dark .accent-action {\n  background: linear-gradient(135deg, #38b2ac 0%, #319795 100%);\n}\n\n.body--dark .info-action {\n  background: linear-gradient(135deg, #5a67d8 0%, #553c9a 100%);\n}\n\n.body--dark .warning-action {\n  background: linear-gradient(135deg, #ed8936 0%, #dd6b20 100%);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .actions-grid {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 15px;\n  }\n  \n  .action-button {\n    padding: 20px 15px;\n    gap: 10px;\n  }\n  \n  .action-button q-icon {\n    transform: scale(0.8);\n  }\n  \n  .action-button span {\n    font-size: 0.9rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .actions-grid {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .action-button {\n    flex-direction: row;\n    justify-content: flex-start;\n    padding: 18px;\n    gap: 15px;\n  }\n}\n</style>\n","import script from \"./QuickActions.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./QuickActions.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./QuickActions.vue?vue&type=style&index=0&id=ac02aafe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ac02aafe\"]])\n\nexport default __exports__","<template>\n  <q-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" persistent>\n    <q-card style=\"min-width: 400px;\" :class=\"{ 'bg-dark text-white': isDark }\">\n      <q-card-section>\n        <div class=\"text-h6\">{{ playlist ? 'Editar Playlist' : 'Nueva Playlist' }}</div>\n      </q-card-section>\n      <q-card-section class=\"q-pt-none\">\n        <q-input v-model=\"form.name\" label=\"Nombre de la playlist\" outlined class=\"q-mb-md\" />\n        <q-input v-model=\"form.description\" label=\"Descripción (opcional)\" type=\"textarea\" outlined rows=\"3\" />\n      </q-card-section>\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancelar\" @click=\"$emit('close')\" />\n        <q-btn color=\"primary\" label=\"Guardar\" :loading=\"loading\" @click=\"$emit('save')\" />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script setup>\ndefineProps({\n  modelValue: Boolean,\n  playlist: Object,\n  form: Object,\n  loading: Boolean,\n  isDark: Boolean\n})\n\ndefineEmits(['update:modelValue', 'save', 'close'])\n</script>\n","import script from \"./PlaylistDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PlaylistDialog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <q-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" persistent>\n    <q-card style=\"min-width: 400px;\" :class=\"{ 'bg-dark text-white': isDark }\">\n      <q-card-section>\n        <div class=\"text-h6\">Programar Contenido</div>\n      </q-card-section>\n      <q-card-section class=\"q-pt-none\">\n        <q-input v-model=\"form.contentName\" label=\"Nombre\" outlined class=\"q-mb-md\" />\n        <!-- Campos adicionales para programación -->\n      </q-card-section>\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancelar\" @click=\"$emit('close')\" />\n        <q-btn color=\"primary\" label=\"Guardar\" :loading=\"loading\" @click=\"$emit('save')\" />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script setup>\ndefineProps({\n  modelValue: Boolean,\n  form: Object,\n  loading: Boolean,\n  isDark: Boolean,\n  weekdayOptions: Array\n})\n\ndefineEmits(['update:modelValue', 'save', 'close'])\n</script>\n","import script from \"./ScheduleDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ScheduleDialog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ref, reactive } from 'vue'\nimport { playlistAPI, mediaAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\n\nexport function usePlaylists() {\n  const playlists = ref([])\n  const stats = reactive({\n    totalPlaylists: 0,\n    totalScheduledItems: 0,\n    totalMedia: 0\n  })\n  const toast = useToast()\n\n  const loadPlaylists = async () => {\n    try {\n      const { data } = await playlistAPI.list()\n      playlists.value = data\n    } catch (error) {\n      toast.error('Error cargando playlists')\n    }\n  }\n\n  const loadStats = async () => {\n    try {\n      const [playlistStatsResponse, mediaResponse] = await Promise.all([\n        playlistAPI.getStats(),\n        mediaAPI.list()\n      ])\n      \n      stats.totalPlaylists = playlistStatsResponse.data.total_playlists\n      stats.totalScheduledItems = playlistStatsResponse.data.total_scheduled_items\n      stats.totalMedia = mediaResponse.data.length\n    } catch (error) {\n      toast.error('Error cargando estadísticas')\n    }\n  }\n\n  const createPlaylist = async (payload) => {\n    await playlistAPI.create(payload)\n    await loadPlaylists()\n    await loadStats()\n  }\n\n  const updatePlaylist = async (id, payload) => {\n    await playlistAPI.update(id, payload)\n    await loadPlaylists()\n    await loadStats()\n  }\n\n  const removePlaylist = async (id) => {\n    await playlistAPI.delete(id)\n    await loadPlaylists()\n    await loadStats()\n  }\n\n  return {\n    playlists,\n    stats,\n    loadPlaylists,\n    loadStats,\n    createPlaylist,\n    updatePlaylist,\n    removePlaylist\n  }\n}\n","import { ref } from 'vue'\nimport { mediaAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\n\nexport function useMedia() {\n  const mediaFiles = ref([])\n  const toast = useToast()\n\n  const loadMedia = async () => {\n    try {\n      const { data } = await mediaAPI.list()\n      mediaFiles.value = data\n    } catch (error) {\n      toast.error('Error cargando medios')\n    }\n  }\n\n  const removeMedia = async (id) => {\n    await mediaAPI.delete(id)\n    await loadMedia()\n  }\n\n  return {\n    mediaFiles,\n    loadMedia,\n    removeMedia\n  }\n}\n","import { ref } from 'vue'\nimport { scheduleAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\n\nexport function useSchedules() {\n  const schedules = ref([])\n  const toast = useToast()\n\n  const loadSchedules = async () => {\n    try {\n      const { data } = await scheduleAPI.list()\n      schedules.value = data\n    } catch (error) {\n      toast.error('Error cargando programaciones')\n    }\n  }\n\n  const createSchedule = async (payload) => {\n    await scheduleAPI.create(payload)\n    await loadSchedules()\n  }\n\n  return {\n    schedules,\n    loadSchedules,\n    createSchedule\n  }\n}\n","import { render } from \"./AdminView.vue?vue&type=template&id=2388a27e&scoped=true\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport \"./AdminView.vue?vue&type=style&index=0&id=2388a27e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2388a27e\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport LoginView from '../views/LoginView.vue'\nimport Ok_TestView from '../views/Ok_TestView.vue'\nimport Error_View from '../views/Error_View.vue'\nimport SelectionView from '../views/SelectionView.vue'\nimport PlayerView from '../views/PlayerView.vue'\nimport ConfigView from '../views/ConfigView.vue'\nimport AdminView from '../views/AdminView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Selection',\n    component: SelectionView,\n    meta: {\n      requiresAuth: false,\n      title: 'Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: LoginView,\n    meta: {\n      requiresAuth: false,\n      title: 'Iniciar Sesión - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/config',\n    name: 'Config',\n    component: ConfigView,\n    meta: {\n      requiresAuth: false,\n      title: 'Configuración - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/test-ok',\n    name: 'TestOk',\n    component: Ok_TestView,\n    meta: { \n      requiresAuth: true,\n      title: 'Prueba Exitosa - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/error',\n    name: 'Error',\n    component: Error_View,\n    meta: {\n      requiresAuth: false,\n      title: 'Error - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/player',\n    name: 'Player',\n    component: PlayerView,\n    meta: {\n      requiresAuth: false,\n      title: 'Reproductor - Pochtecayotl Signance System'\n    }\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: AdminView,\n    meta: { \n      requiresAuth: true, \n      role: 'admin',\n      title: 'Dashboard Admin - Pochtecayotl Signance System'\n    }\n  },\n  // Rutas administrativas adicionales:\n  {\n    path: '/config-admin',\n    name: 'ConfigAdmin',\n    component: () => import('../views/ConfigView.vue'),\n    meta: { requiresAuth: true, role: 'admin' }\n  },\n  {\n    path: '/media',\n    name: 'MediaManager',\n    component: () => import('../views/MediaManager.vue'),\n    meta: { requiresAuth: true, role: 'admin' }\n  },\n  {\n    path: '/player-admin',\n    name: 'PlayerAdmin',\n    component: () => import('../views/PlayerView.vue'),\n    meta: { requiresAuth: true }\n  },\n  // Ruta de prueba para iconos\n  {\n    path: '/icon-test',\n    name: 'IconTest',\n    component: () => import('../views/IconTestView.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de diagnóstico para iconos\n  {\n    path: '/diagnostic',\n    name: 'Diagnostic',\n    component: () => import('../views/DiagnosticView.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Diagnóstico de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba simple para iconos\n  {\n    path: '/simple-test',\n    name: 'SimpleTest',\n    component: () => import('../views/SimpleIconTest.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba Simple de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba final para iconos\n  {\n    path: '/final-test',\n    name: 'FinalTest',\n    component: () => import('../views/FinalIconTest.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba Final de Iconos - Pochtecayotl Signance System'\n    }\n  },\n  // Ruta de prueba de tamaños de iconos\n  {\n    path: '/icon-size-test',\n    name: 'IconSizeTest',\n    component: () => import('../views/IconSizeTest.vue'),\n    meta: { \n      requiresAuth: false,\n      title: 'Prueba de Tamaños de Iconos - Pochtecayotl Signance System'\n    }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n// Navigation Guards\nrouter.beforeEach((to, from, next) => {\n  \n  // Actualizar título de la página\n  document.title = to.meta.title || 'Pochtecayotl Signance System'\n  \n  // Verificar autenticación\n  const token = localStorage.getItem('signance_token')\n  const isAuthenticated = !!token\n  \n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      // Redirigir al login si no está autenticado\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      // TODO: Verificar si el token es válido\n      // TODO: Verificar roles de usuario\n      next()\n    }\n  } else {\n    // Ruta pública\n    next()\n  }\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\n\n// Inicializar API con auto-detección del backend\nimport { initializeAPI } from './services/api'\n\n// Quasar Framework\nimport { \n  Quasar, \n  Notify, \n  Dialog, \n  Loading,\n  QCard,\n  QCardSection,\n  QCardActions,\n  QBtn,\n  QInput,\n  QForm,\n  QPage,\n  QPageContainer,\n  QLayout,\n  QHeader,\n  QToolbar,\n  QToolbarTitle,\n  QDrawer,\n  QList,\n  QItem,\n  QItemSection,\n  QItemLabel,\n  QSeparator,\n  QIcon,\n  QSpinner,\n  QLinearProgress,\n  QFile,\n  QUploader,\n  QTable,\n  QTh,\n  QTr,\n  QTd,\n  QSelect,\n  QDate,\n  QTime,\n  QToggle,\n  QDialog,\n  QExpansionItem,\n  QTooltip,\n  QBanner,\n  QBtnToggle,\n  QSkeleton\n} from 'quasar'\nimport quasarLang from 'quasar/lang/es'\nimport quasarIconSet from 'quasar/icon-set/material-icons'\n\n// Import icon libraries\nimport '@quasar/extras/material-icons/material-icons.css'\nimport '@quasar/extras/fontawesome-v6/fontawesome-v6.css'\n\n// Import Quasar css\nimport 'quasar/dist/quasar.css'\n\n// Import icon fixes\nimport './assets/icon-fixes.css'\n\n// Toast notifications\nimport Toast from 'vue-toastification'\nimport 'vue-toastification/dist/index.css'\n\n// Utilidades para iconos\nimport { initializeMaterialIcons } from './utils/iconUtils'\nimport { applyIconSizeFixes } from './utils/iconSizeUtils'\n\nconst app = createApp(App)\n\nconsole.log('🎬 Pochtecayotl Signance System - Frontend iniciado')\n// Verificar que el iconset se esté cargando correctamente\nconsole.log('🎨 Icon set cargado:', quasarIconSet)\n\n// Inicializar correcciones de iconos\ninitializeMaterialIcons()\n\n// Aplicar correcciones de tamaños después de un breve delay\nsetTimeout(() => {\n  applyIconSizeFixes()\n}, 1000)\n\n// Configure Quasar with components\napp.use(Quasar, {\n  plugins: {\n    Notify,\n    Dialog,\n    Loading\n  },\n  components: {\n    QCard,\n    QCardSection,\n    QCardActions,\n    QBtn,\n    QInput,\n    QForm,\n    QPage,\n    QPageContainer,\n    QLayout,\n    QHeader,\n    QToolbar,\n    QToolbarTitle,\n    QDrawer,\n    QList,\n    QItem,\n    QItemSection,\n    QItemLabel,\n    QSeparator,\n    QIcon,\n    QSpinner,\n    QLinearProgress,\n    QFile,\n    QUploader,\n    QTable,\n    QTh,\n    QTr,\n    QTd,\n    QSelect,\n    QDate,\n    QTime,\n    QToggle,\n    QDialog,\n    QExpansionItem,\n    QTooltip,\n    QBanner,\n    QBtnToggle,\n    QSkeleton\n  },\n  lang: quasarLang,\n  iconSet: quasarIconSet,\n  config: {\n    notify: {\n      position: 'top-right',\n      timeout: 3000\n    }\n  }\n})\n\n// Configure Toast\nconst toastOptions = {\n  position: 'top-right',\n  timeout: 3000,\n  closeOnClick: true,\n  pauseOnFocusLoss: true,\n  pauseOnHover: true,\n  draggable: true,\n  draggablePercent: 0.6,\n  showCloseButtonOnHover: false,\n  hideProgressBar: false,\n  closeButton: 'button',\n  icon: true,\n  rtl: false\n}\n\napp.use(Toast, toastOptions)\napp.use(router)\n\n// Inicializar la detección del backend en segundo plano\ninitializeAPI().catch(error => {\n  console.warn('⚠️ No se pudo conectar al backend al iniciar:', error.message)\n  console.log('🔄 La detección se reintentará automáticamente en las próximas peticiones')\n})\n\napp.mount('#app')\n","// Configuración de red para Signance System\n// Detección completamente dinámica - NO hardcodear IPs\n\nexport const NETWORK_CONFIG = {\n  // Puerto preferido del backend\n  BACKEND_PREFERRED_PORT: 8000,\n  \n  // Rango de puertos a probar\n  PORT_RANGE: {\n    start: 8000,\n    end: 8010\n  },\n  \n  // Endpoint para verificar que el backend está funcionando\n  HEALTH_ENDPOINT: '/health',\n  \n  // Timeout para las pruebas de conectividad\n  CONNECTION_TIMEOUT: 3000\n}\n\n// Detectar automáticamente todas las IPs posibles donde puede estar el backend\nexport function generateCandidateIPs() {\n  const currentHost = window.location.hostname\n  const ips = []\n  \n  console.log(`🔍 Detectando IPs candidatas desde: ${currentHost}`)\n  \n  // 1. PRIORIDAD: La IP desde donde se accede al frontend (muy probable que el backend esté aquí)\n  if (currentHost !== 'localhost' && currentHost !== '127.0.0.1') {\n    ips.push(currentHost)\n    console.log(`✅ Agregando IP actual del frontend: ${currentHost}`)\n  }\n  \n  // 2. Localhost (por si el backend está en la misma máquina)\n  ips.push('127.0.0.1', 'localhost')\n  \n  // 3. Si tenemos una IP de red, generar IPs comunes de la misma red\n  if (currentHost !== 'localhost' && currentHost !== '127.0.0.1') {\n    const ipParts = currentHost.split('.')\n    if (ipParts.length === 4 && ipParts.every(part => !isNaN(part))) {\n      const baseNetwork = `${ipParts[0]}.${ipParts[1]}.${ipParts[2]}`\n      console.log(`🌐 Generando IPs de la red: ${baseNetwork}.x`)\n      \n      // IPs comunes de servidores en la red\n      const commonServerIPs = [1, 10, 50, 100, 150, 200, 254]\n      for (const ip of commonServerIPs) {\n        ips.push(`${baseNetwork}.${ip}`)\n      }\n    }\n  }\n  \n  // 4. Redes comunes de routers/modems\n  const commonNetworks = [\n    '192.168.1', '192.168.0', '192.168.100', '192.168.10',\n    '10.0.0', '10.0.1', '10.1.1',\n    '172.16.0', '172.16.1'\n  ]\n  \n  for (const network of commonNetworks) {\n    // Solo agregar si no es la red actual para evitar duplicados\n    if (!currentHost.startsWith(network)) {\n      ips.push(`${network}.1`, `${network}.100`, `${network}.10`)\n    }\n  }\n  \n  // Eliminar duplicados y retornar\n  const uniqueIPs = [...new Set(ips)]\n  console.log(`🎯 ${uniqueIPs.length} IPs candidatas generadas:`, uniqueIPs)\n  return uniqueIPs\n}\n","/**\n * Backend Auto-Detection Service\n * Detecta automáticamente en qué puerto está corriendo el backend FastAPI\n * Soporta detección completamente dinámica sin hardcodear IPs\n */\n\nimport { NETWORK_CONFIG, generateCandidateIPs } from '@/config/network'\n\nclass BackendDetector {\n  constructor() {\n    this.detectedPort = null\n    this.detectedBaseUrl = null\n    this.portRange = NETWORK_CONFIG.PORT_RANGE\n    this.testEndpoint = NETWORK_CONFIG.HEALTH_ENDPOINT\n    this.preferredPort = NETWORK_CONFIG.BACKEND_PREFERRED_PORT\n    this.connectionTimeout = NETWORK_CONFIG.CONNECTION_TIMEOUT\n  }\n\n  /**\n   * Obtiene el host actual basado en la URL del navegador\n   * @returns {string}\n   */\n  getCurrentHost() {\n    // Si estamos accediendo por IP, usar esa IP para el backend\n    // Si estamos en localhost, usar localhost\n    const hostname = window.location.hostname\n    \n    if (hostname === 'localhost' || hostname === '127.0.0.1') {\n      return '127.0.0.1'\n    }\n    \n    // Si accedemos por IP de red local, usar esa misma IP para el backend\n    return hostname\n  }\n\n  /**\n   * Obtiene una lista de hosts candidatos para probar\n   * @returns {string[]}\n   */\n  getCandidateHosts() {\n    // Usar la función centralizada para obtener IPs dinámicamente\n    return generateCandidateIPs()\n  }\n\n  /**\n   * Detecta automáticamente el puerto del backend\n   * @returns {Promise<{port: number, baseUrl: string}>}\n   */\n  async detectBackend() {\n    console.log('🔍 Iniciando detección automática del backend...')\n    console.log(`🎯 Puerto preferido: ${this.preferredPort}`)\n    console.log(`📊 Rango de puertos: ${this.portRange.start}-${this.portRange.end}`)\n    \n    // Si ya detectamos un puerto previamente, intentar usarlo primero\n    if (this.detectedPort && this.detectedBaseUrl) {\n      console.log(`⚡ Probando configuración previa: ${this.detectedBaseUrl}`)\n      const host = new URL(this.detectedBaseUrl).hostname\n      if (await this.testSpecificHostPort(host, this.detectedPort)) {\n        console.log(`✅ Backend confirmado en configuración previa: ${this.detectedBaseUrl}`)\n        return {\n          port: this.detectedPort,\n          baseUrl: this.detectedBaseUrl\n        }\n      } else {\n        console.log(`❌ Configuración previa no responde, buscando nuevamente...`)\n        this.detectedPort = null\n        this.detectedBaseUrl = null\n      }\n    }\n\n    // Obtener lista de hosts candidatos\n    const candidateHosts = this.getCandidateHosts()\n    console.log(`🎯 ${candidateHosts.length} hosts candidatos detectados`)\n\n    // ESTRATEGIA DE BÚSQUEDA INTELIGENTE:\n    // 1. Primero probar el puerto preferido en todas las IPs\n    console.log(`🚀 FASE 1: Probando puerto preferido ${this.preferredPort} en todas las IPs...`)\n    for (const host of candidateHosts) {\n      console.log(`🔍 Probando ${host}:${this.preferredPort}`)\n      if (await this.testSpecificHostPort(host, this.preferredPort)) {\n        this.detectedPort = this.preferredPort\n        this.detectedBaseUrl = `http://${host}:${this.preferredPort}`\n        console.log(`✅ ¡Backend encontrado en puerto preferido! ${this.detectedBaseUrl}`)\n        \n        // Guardar en localStorage\n        this.saveToLocalStorage(host, this.preferredPort)\n        \n        return {\n          port: this.detectedPort,\n          baseUrl: this.detectedBaseUrl\n        }\n      }\n    }\n\n    // 2. Si no se encuentra en el puerto preferido, buscar en todo el rango\n    console.log(`🔍 FASE 2: Buscando en rango completo ${this.portRange.start}-${this.portRange.end}...`)\n    for (const host of candidateHosts) {\n      console.log(`🔍 Probando host: ${host}`)\n      \n      for (let port = this.portRange.start; port <= this.portRange.end; port++) {\n        // Saltar el puerto preferido ya que ya lo probamos\n        if (port === this.preferredPort) continue\n        \n        console.log(`🔍 Probando puerto ${port} en ${host}...`)\n        \n        if (await this.testSpecificHostPort(host, port)) {\n          this.detectedPort = port\n          this.detectedBaseUrl = `http://${host}:${port}`\n          \n          console.log(`✅ ¡Backend encontrado en ${this.detectedBaseUrl}!`)\n          \n          // Guardar en localStorage\n          this.saveToLocalStorage(host, port)\n          \n          return {\n            port: this.detectedPort,\n            baseUrl: this.detectedBaseUrl\n          }\n        }\n      }\n    }\n\n    throw new Error(`❌ No se pudo encontrar el backend en ningún host candidato (${candidateHosts.join(', ')}) en puertos ${this.portRange.start}-${this.portRange.end}`)\n  }\n\n  /**\n   * Prueba si un puerto específico tiene el backend corriendo\n   * @param {number} port \n   * @returns {Promise<boolean>}\n   */\n  async testPort(port) {\n    // Si tenemos una URL detectada, usar ese host\n    if (this.detectedBaseUrl) {\n      const host = new URL(this.detectedBaseUrl).hostname\n      return await this.testSpecificHostPort(host, port)\n    }\n    \n    // Si no, usar el host actual del navegador\n    const currentHost = window.location.hostname\n    return await this.testSpecificHostPort(currentHost, port)\n  }\n\n  /**\n   * Prueba un host y puerto específicos\n   * @param {string} host \n   * @param {number} port \n   * @returns {Promise<boolean>}\n   */\n  async testSpecificHostPort(host, port) {\n    const baseUrl = `http://${host}:${port}`\n    \n    try {\n      // Crear un AbortController para el timeout\n      const controller = new AbortController()\n      const timeoutId = setTimeout(() => controller.abort(), 3000) // 3 segundos\n      \n      // Intentar conectar al endpoint de health\n      const response = await fetch(`${baseUrl}${this.testEndpoint}`, {\n        method: 'GET',\n        signal: controller.signal,\n        mode: 'cors', // Importante para CORS\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      })\n\n      clearTimeout(timeoutId)\n\n      if (response.ok) {\n        const data = await response.json()\n        // Verificar que sea realmente nuestro backend FastAPI\n        if (data.status === 'healthy' || data.module === 'auth' || response.status === 200) {\n          console.log(`✅ Puerto ${port} en ${host}: Backend FastAPI confirmado - ${JSON.stringify(data)}`)\n          return true\n        }\n      }\n    } catch (error) {\n      // Puerto no disponible o error de conexión\n      if (error.name === 'AbortError') {\n        console.log(`⏱️ Puerto ${port} en ${host}: Timeout (3s)`)\n      } else {\n        console.log(`❌ Puerto ${port} en ${host}: ${error.message}`)\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * Obtiene la configuración del backend desde localStorage\n   * @returns {{port: number, baseUrl: string} | null}\n   */\n  getCachedBackend() {\n    const port = localStorage.getItem('signance_backend_port')\n    const baseUrl = localStorage.getItem('signance_backend_url')\n    const cachedHost = localStorage.getItem('signance_backend_host')\n    const currentHost = window.location.hostname\n    \n    // Verificar si el host cambió (acceso desde diferente IP)\n    if (cachedHost && cachedHost !== currentHost) {\n      console.log(`🔄 Host cambió de ${cachedHost} a ${currentHost}, limpiando caché...`)\n      this.clearCache()\n      return null\n    }\n    \n    if (port && baseUrl) {\n      return {\n        port: parseInt(port),\n        baseUrl\n      }\n    }\n    \n    return null\n  }\n\n  /**\n   * Limpia la caché de detección\n   */\n  clearCache() {\n    localStorage.removeItem('signance_backend_port')\n    localStorage.removeItem('signance_backend_url')\n    localStorage.removeItem('signance_backend_host')\n    this.detectedPort = null\n    this.detectedBaseUrl = null\n  }\n\n  /**\n   * Verifica periódicamente que el backend siga disponible\n   * @param {Function} onConnectionLost - Callback cuando se pierde la conexión\n   */\n  startHealthCheck(onConnectionLost) {\n    if (this.healthCheckInterval) {\n      clearInterval(this.healthCheckInterval)\n    }\n\n    this.healthCheckInterval = setInterval(async () => {\n      if (this.detectedPort) {\n        const isOnline = await this.testPort(this.detectedPort)\n        if (!isOnline && onConnectionLost) {\n          console.log('❌ Conexión con backend perdida')\n          onConnectionLost()\n        }\n      }\n    }, 30000) // Verificar cada 30 segundos\n  }\n\n  /**\n   * Detiene el health check\n   */\n  stopHealthCheck() {\n    if (this.healthCheckInterval) {\n      clearInterval(this.healthCheckInterval)\n      this.healthCheckInterval = null\n    }\n  }\n\n  /**\n   * Guarda la configuración detectada en localStorage\n   * @param {string} host \n   * @param {number} port \n   */\n  saveToLocalStorage(host, port) {\n    const baseUrl = `http://${host}:${port}`\n    localStorage.setItem('signance_backend_port', port.toString())\n    localStorage.setItem('signance_backend_url', baseUrl)\n    localStorage.setItem('signance_backend_host', host)\n    console.log(`💾 Configuración guardada: ${baseUrl}`)\n  }\n}\n\n// Instancia singleton\nconst backendDetector = new BackendDetector()\n\nexport default backendDetector\n","<template>\n  <div class=\"media-card\" :class=\"{ 'compact-card': compact }\">\n    <!-- Previsualización -->\n    <div class=\"media-preview\">\n      <!-- Imagen -->\n      <div v-if=\"isImage\" class=\"image-preview\">\n        <img \n          :src=\"mediaUrl\" \n          :alt=\"media.filename\" \n          @error=\"handleImageError\"\n          class=\"preview-img\" \n        />\n      </div>\n      \n      <!-- Video -->\n      <div v-else-if=\"isVideo\" class=\"video-preview\">\n        <video \n          :src=\"mediaUrl\" \n          class=\"preview-video\" \n          muted \n          preload=\"metadata\"\n          @error=\"handleVideoError\"\n        />\n        <div class=\"video-overlay\">\n          <q-icon name=\"play_circle_filled\" size=\"2.5rem\" class=\"play-icon\" />\n          <div class=\"video-duration\" v-if=\"media.duration\">\n            {{ formatDuration(media.duration) }}\n          </div>\n        </div>\n      </div>\n      \n      <!-- Otros archivos -->\n      <div v-else class=\"file-preview\">\n        <q-icon :name=\"getFileIcon()\" size=\"3rem\" color=\"grey-6\" />\n      </div>\n    </div>\n\n    <!-- Información -->\n    <div class=\"media-info\">\n      <h4 class=\"media-title\" :title=\"media.filename\">{{ media.filename }}</h4>\n      <p class=\"media-meta\">\n        <span class=\"file-size\">{{ formatFileSize(media.file_size || media.size) }}</span>\n        <span v-if=\"media.created_at\" class=\"upload-date\">{{ formatDate(media.created_at) }}</span>\n      </p>\n    </div>\n\n    <!-- Acciones -->\n    <div class=\"media-actions\">\n      <q-btn \n        flat \n        round \n        icon=\"edit\"\n        @click=\"$emit('edit')\"\n        size=\"sm\"\n        color=\"primary\"\n      >\n        <q-tooltip>Editar</q-tooltip>\n      </q-btn>\n      <q-btn \n        flat \n        round \n        icon=\"delete\"\n        @click=\"$emit('delete')\"\n        size=\"sm\"\n        color=\"negative\"\n      >\n        <q-tooltip>Eliminar</q-tooltip>\n      </q-btn>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  media: {\n    type: Object,\n    required: true\n  },\n  backendBaseUrl: {\n    type: String,\n    default: ''\n  },\n  compact: {\n    type: Boolean,\n    default: false\n  }\n})\n\ndefineEmits(['edit', 'delete'])\n\n// Computed properties\nconst mediaUrl = computed(() => {\n  const baseUrl = props.backendBaseUrl || ''\n  const fileUrl = props.media.file_url || `/uploads/${props.media.served_filename || props.media.filename}`\n  return `${baseUrl}${fileUrl}`\n})\n\nconst isImage = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'image' || /\\.(jpg|jpeg|png|gif|webp|bmp)$/i.test(props.media.filename)\n})\n\nconst isVideo = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'video' || /\\.(mp4|avi|mov|mkv|webm)$/i.test(props.media.filename)\n})\n\n// Utility functions\nconst getFileIcon = () => {\n  const filename = props.media.filename || ''\n  const ext = filename.split('.').pop()?.toLowerCase()\n  \n  switch (ext) {\n    case 'pdf': return 'picture_as_pdf'\n    case 'doc':\n    case 'docx': return 'description'\n    case 'mp3':\n    case 'wav':\n    case 'aac': return 'audiotrack'\n    default: return 'insert_drive_file'\n  }\n}\n\nconst formatFileSize = (bytes) => {\n  if (!bytes) return 'N/A'\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\n}\n\nconst formatDuration = (seconds) => {\n  if (!seconds) return ''\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.floor(seconds % 60)\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('es-ES', { \n    day: '2-digit', \n    month: 'short',\n    year: 'numeric'\n  })\n}\n\nconst handleImageError = (event) => {\n  const img = event.target\n  const container = img.closest('.image-preview')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-preview\">\n        <q-icon name=\"broken_image\" size=\"3rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n\nconst handleVideoError = (event) => {\n  const video = event.target\n  const container = video.closest('.video-preview')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-preview\">\n        <q-icon name=\"error\" size=\"3rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n</script>\n\n<style scoped>\n.media-card {\n  background: white;\n  border-radius: 12px;\n  border: 1px solid #e5e7eb;\n  overflow: hidden;\n  transition: all 0.3s ease;\n  position: relative;\n}\n\n.media-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n}\n\n.body--dark .media-card {\n  background: #1f2937;\n  border-color: #374151;\n}\n\n.compact-card {\n  border-radius: 8px;\n}\n\n.compact-card:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n}\n\n/* Preview */\n.media-preview {\n  aspect-ratio: 16/9;\n  position: relative;\n  overflow: hidden;\n  background: #f9fafb;\n}\n\n.body--dark .media-preview {\n  background: #111827;\n}\n\n.image-preview,\n.video-preview,\n.file-preview {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.preview-img,\n.preview-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.video-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.3);\n}\n\n.play-icon {\n  color: white;\n  opacity: 0.9;\n}\n\n.video-duration {\n  position: absolute;\n  bottom: 8px;\n  right: 8px;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-size: 0.75rem;\n}\n\n/* Info */\n.media-info {\n  padding: 12px 16px;\n}\n\n.compact-card .media-info {\n  padding: 8px 12px;\n}\n\n.media-title {\n  margin: 0 0 4px 0;\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: #1f2937;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.body--dark .media-title {\n  color: #e5e7eb;\n}\n\n.compact-card .media-title {\n  font-size: 0.8rem;\n}\n\n.media-meta {\n  margin: 0;\n  font-size: 0.75rem;\n  color: #6b7280;\n  display: flex;\n  justify-content: space-between;\n  gap: 8px;\n}\n\n.body--dark .media-meta {\n  color: #9ca3af;\n}\n\n/* Actions */\n.media-actions {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  display: flex;\n  gap: 4px;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 8px;\n  padding: 4px;\n}\n\n.body--dark .media-actions {\n  background: rgba(0, 0, 0, 0.7);\n}\n\n.media-card:hover .media-actions {\n  opacity: 1;\n}\n\n.compact-card .media-actions {\n  top: 6px;\n  right: 6px;\n  padding: 2px;\n}\n</style>\n","import script from \"./MediaCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MediaCard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MediaCard.vue?vue&type=style&index=0&id=0ad5556d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0ad5556d\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-list-item\">\n    <!-- Thumbnail -->\n    <div class=\"media-thumbnail\">\n      <div v-if=\"isImage\" class=\"image-thumb\">\n        <img \n          :src=\"mediaUrl\" \n          :alt=\"media.filename\" \n          @error=\"handleImageError\"\n        />\n      </div>\n      <div v-else-if=\"isVideo\" class=\"video-thumb\">\n        <video \n          :src=\"mediaUrl\" \n          muted \n          preload=\"metadata\"\n          @error=\"handleVideoError\"\n        />\n        <q-icon name=\"play_circle_filled\" class=\"play-overlay\" />\n      </div>\n      <div v-else class=\"file-thumb\">\n        <q-icon :name=\"getFileIcon()\" size=\"2rem\" />\n      </div>\n    </div>\n\n    <!-- Información -->\n    <div class=\"media-details\">\n      <div class=\"media-name\">\n        <h4>{{ media.filename }}</h4>\n        <p v-if=\"media.description\">{{ media.description }}</p>\n      </div>\n      \n      <div class=\"media-metadata\">\n        <div class=\"meta-item\">\n          <q-icon name=\"folder\" size=\"sm\" />\n          <span>{{ getFileType() }}</span>\n        </div>\n        <div class=\"meta-item\">\n          <q-icon name=\"data_usage\" size=\"sm\" />\n          <span>{{ formatFileSize(media.file_size || media.size) }}</span>\n        </div>\n        <div v-if=\"media.duration\" class=\"meta-item\">\n          <q-icon name=\"schedule\" size=\"sm\" />\n          <span>{{ formatDuration(media.duration) }}</span>\n        </div>\n        <div v-if=\"media.created_at\" class=\"meta-item\">\n          <q-icon name=\"event\" size=\"sm\" />\n          <span>{{ formatDate(media.created_at) }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- Acciones -->\n    <div class=\"media-list-actions\">\n      <q-btn \n        flat \n        round \n        icon=\"edit\"\n        @click=\"$emit('edit')\"\n        size=\"sm\"\n        color=\"primary\"\n      >\n        <q-tooltip>Editar</q-tooltip>\n      </q-btn>\n      <q-btn \n        flat \n        round \n        icon=\"delete\"\n        @click=\"$emit('delete')\"\n        size=\"sm\"\n        color=\"negative\"\n      >\n        <q-tooltip>Eliminar</q-tooltip>\n      </q-btn>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  media: {\n    type: Object,\n    required: true\n  },\n  backendBaseUrl: {\n    type: String,\n    default: ''\n  }\n})\n\ndefineEmits(['edit', 'delete'])\n\n// Computed properties\nconst mediaUrl = computed(() => {\n  const baseUrl = props.backendBaseUrl || ''\n  const fileUrl = props.media.file_url || `/uploads/${props.media.served_filename || props.media.filename}`\n  return `${baseUrl}${fileUrl}`\n})\n\nconst isImage = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'image' || /\\.(jpg|jpeg|png|gif|webp|bmp)$/i.test(props.media.filename)\n})\n\nconst isVideo = computed(() => {\n  const type = props.media.file_type || props.media.media_type || ''\n  return type === 'video' || /\\.(mp4|avi|mov|mkv|webm)$/i.test(props.media.filename)\n})\n\n// Utility functions\nconst getFileIcon = () => {\n  const filename = props.media.filename || ''\n  const ext = filename.split('.').pop()?.toLowerCase()\n  \n  switch (ext) {\n    case 'pdf': return 'picture_as_pdf'\n    case 'doc':\n    case 'docx': return 'description'\n    case 'mp3':\n    case 'wav':\n    case 'aac': return 'audiotrack'\n    default: return 'insert_drive_file'\n  }\n}\n\nconst getFileType = () => {\n  const type = props.media.file_type || props.media.media_type\n  if (type) return type.charAt(0).toUpperCase() + type.slice(1)\n  \n  const filename = props.media.filename || ''\n  const ext = filename.split('.').pop()?.toLowerCase()\n  return ext ? ext.toUpperCase() : 'Archivo'\n}\n\nconst formatFileSize = (bytes) => {\n  if (!bytes) return 'N/A'\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n  return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i]\n}\n\nconst formatDuration = (seconds) => {\n  if (!seconds) return ''\n  const minutes = Math.floor(seconds / 60)\n  const remainingSeconds = Math.floor(seconds % 60)\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return ''\n  const date = new Date(dateString)\n  return date.toLocaleDateString('es-ES', { \n    day: '2-digit', \n    month: 'short',\n    year: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })\n}\n\nconst handleImageError = (event) => {\n  const img = event.target\n  const container = img.closest('.image-thumb')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-thumb\">\n        <q-icon name=\"broken_image\" size=\"2rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n\nconst handleVideoError = (event) => {\n  const video = event.target\n  const container = video.closest('.video-thumb')\n  if (container) {\n    container.innerHTML = `\n      <div class=\"file-thumb\">\n        <q-icon name=\"error\" size=\"2rem\" color=\"grey-6\" />\n      </div>\n    `\n  }\n}\n</script>\n\n<style scoped>\n.media-list-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 16px;\n  background: white;\n  border-radius: 8px;\n  border: 1px solid #e5e7eb;\n  transition: all 0.2s ease;\n}\n\n.media-list-item:hover {\n  border-color: #d1d5db;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.body--dark .media-list-item {\n  background: #1f2937;\n  border-color: #374151;\n}\n\n.body--dark .media-list-item:hover {\n  border-color: #4b5563;\n}\n\n/* Thumbnail */\n.media-thumbnail {\n  flex-shrink: 0;\n  width: 80px;\n  height: 60px;\n  border-radius: 6px;\n  overflow: hidden;\n  background: #f9fafb;\n  position: relative;\n}\n\n.body--dark .media-thumbnail {\n  background: #111827;\n}\n\n.image-thumb,\n.video-thumb,\n.file-thumb {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-thumb img,\n.video-thumb video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.play-overlay {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: white;\n  font-size: 1.5rem;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n}\n\n.file-thumb {\n  color: #6b7280;\n}\n\n/* Details */\n.media-details {\n  flex: 1;\n  min-width: 0;\n}\n\n.media-name h4 {\n  margin: 0 0 4px 0;\n  font-size: 1rem;\n  font-weight: 500;\n  color: #1f2937;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.body--dark .media-name h4 {\n  color: #e5e7eb;\n}\n\n.media-name p {\n  margin: 0;\n  font-size: 0.875rem;\n  color: #6b7280;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.body--dark .media-name p {\n  color: #9ca3af;\n}\n\n.media-metadata {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-top: 8px;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.75rem;\n  color: #6b7280;\n}\n\n.body--dark .meta-item {\n  color: #9ca3af;\n}\n\n.meta-item .q-icon {\n  color: #9ca3af;\n}\n\n/* Actions */\n.media-list-actions {\n  flex-shrink: 0;\n  display: flex;\n  gap: 8px;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .media-list-item {\n    gap: 12px;\n    padding: 12px;\n  }\n  \n  .media-thumbnail {\n    width: 60px;\n    height: 45px;\n  }\n  \n  .media-metadata {\n    gap: 12px;\n  }\n  \n  .meta-item {\n    font-size: 0.7rem;\n  }\n}\n</style>\n","import script from \"./MediaListItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MediaListItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MediaListItem.vue?vue&type=style&index=0&id=4dde5f74&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4dde5f74\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-gallery\" :class=\"{ 'full-view': mode === 'full', 'compact-view': mode === 'compact' }\">\n    <!-- Header con controles -->\n    <div class=\"gallery-header\">\n      <div class=\"header-info\">\n        <q-icon name=\"video_library\" size=\"2rem\" />\n        <div class=\"header-text\">\n          <h3>{{ title || 'Archivos Multimedia' }}</h3>\n          <p>{{ subtitle || (mode === 'full' ? 'Gestiona tu biblioteca completa' : 'Archivos recientes') }}</p>\n        </div>\n      </div>\n      \n      <div class=\"header-controls\">\n        <!-- Búsqueda (solo en modo full) -->\n        <q-input\n          v-if=\"mode === 'full'\"\n          v-model=\"searchQuery\"\n          placeholder=\"Buscar archivos...\"\n          outlined\n          dense\n          class=\"search-input\"\n        >\n          <template v-slot:prepend>\n            <q-icon name=\"search\" />\n          </template>\n          <template v-slot:append>\n            <q-icon \n              v-if=\"searchQuery\" \n              name=\"clear\" \n              @click=\"searchQuery = ''\" \n              class=\"cursor-pointer\" \n            />\n          </template>\n        </q-input>\n        \n        <!-- Controles de vista (solo en modo full) -->\n        <div v-if=\"mode === 'full'\" class=\"view-controls\">\n          <q-btn-toggle\n            v-model=\"viewMode\"\n            :options=\"[\n              { label: 'Tarjetas', value: 'grid', icon: 'grid_view' },\n              { label: 'Lista', value: 'list', icon: 'view_list' }\n            ]\"\n            flat\n            color=\"primary\"\n            toggle-color=\"primary\"\n            no-caps\n          />\n        </div>\n        \n        <!-- Botón refresh -->\n        <q-btn \n          flat \n          icon=\"refresh\" \n          @click=\"$emit('refresh')\" \n          :loading=\"loading\" \n          round \n          color=\"primary\"\n        >\n          <q-tooltip>Actualizar</q-tooltip>\n        </q-btn>\n      </div>\n    </div>\n\n    <!-- Contenido -->\n    <div class=\"gallery-content\">\n      <!-- Estado vacío -->\n      <div v-if=\"filteredMedia.length === 0 && !loading\" class=\"empty-state\">\n        <q-icon name=\"video_library\" size=\"4rem\" color=\"grey-5\" />\n        <h4>{{ searchQuery ? 'No se encontraron archivos' : 'No hay archivos multimedia' }}</h4>\n        <p>{{ searchQuery ? 'Intenta con otros términos de búsqueda' : 'Sube tus primeros archivos multimedia' }}</p>\n      </div>\n\n      <!-- Loading state -->\n      <div v-else-if=\"loading\" class=\"loading-state\">\n        <q-skeleton height=\"150px\" class=\"q-mb-md\" v-for=\"n in (mode === 'compact' ? 8 : 6)\" :key=\"n\" />\n      </div>\n\n      <!-- Vista de tarjetas -->\n      <div v-else-if=\"viewMode === 'grid'\" class=\"media-grid\" :class=\"{ 'compact-grid': mode === 'compact' }\">\n        <MediaCard\n          v-for=\"media in displayedMedia\"\n          :key=\"media.id\"\n          :media=\"media\"\n          :backend-base-url=\"backendBaseUrl\"\n          :compact=\"mode === 'compact'\"\n          @edit=\"$emit('edit', media)\"\n          @delete=\"$emit('delete', media.id)\"\n        />\n      </div>\n\n      <!-- Vista de lista (solo modo full) -->\n      <div v-else-if=\"viewMode === 'list' && mode === 'full'\" class=\"media-list\">\n        <MediaListItem\n          v-for=\"media in displayedMedia\"\n          :key=\"media.id\"\n          :media=\"media\"\n          :backend-base-url=\"backendBaseUrl\"\n          @edit=\"$emit('edit', media)\"\n          @delete=\"$emit('delete', media.id)\"\n        />\n      </div>\n    </div>\n\n    <!-- Mostrar más en modo compact -->\n    <div v-if=\"mode === 'compact' && mediaFiles.length > maxItems\" class=\"show-more\">\n      <q-btn \n        flat \n        color=\"primary\" \n        :label=\"`Ver todos (${mediaFiles.length} archivos)`\"\n        icon=\"arrow_forward\"\n        @click=\"$emit('show-all')\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport MediaCard from './MediaCard.vue'\nimport MediaListItem from './MediaListItem.vue'\n\nconst props = defineProps({\n  mediaFiles: {\n    type: Array,\n    default: () => []\n  },\n  backendBaseUrl: {\n    type: String,\n    default: ''\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  },\n  mode: {\n    type: String,\n    default: 'compact', // 'compact' o 'full'\n    validator: (value) => ['compact', 'full'].includes(value)\n  },\n  title: {\n    type: String,\n    default: ''\n  },\n  subtitle: {\n    type: String,\n    default: ''\n  },\n  maxItems: {\n    type: Number,\n    default: 6\n  }\n})\n\ndefineEmits(['refresh', 'edit', 'delete', 'show-all'])\n\n// Estados reactivos\nconst searchQuery = ref('')\nconst viewMode = ref('grid')\n\n// Computed para filtrar y ordenar medios\nconst filteredMedia = computed(() => {\n  if (!props.mediaFiles) return []\n  \n  let filtered = [...props.mediaFiles]\n  \n  // Filtrar por búsqueda\n  if (searchQuery.value) {\n    const query = searchQuery.value.toLowerCase()\n    filtered = filtered.filter(media => \n      media.filename?.toLowerCase().includes(query) ||\n      media.description?.toLowerCase().includes(query)\n    )\n  }\n  \n  // Ordenar por fecha de creación (más recientes primero)\n  filtered.sort((a, b) => {\n    const dateA = new Date(a.created_at || a.upload_date || 0)\n    const dateB = new Date(b.created_at || b.upload_date || 0)\n    return dateB - dateA\n  })\n  \n  return filtered\n})\n\n// Computed para limitar elementos en modo compact\nconst displayedMedia = computed(() => {\n  if (props.mode === 'compact') {\n    return filteredMedia.value.slice(0, props.maxItems)\n  }\n  return filteredMedia.value\n})\n</script>\n\n<style scoped>\n.media-gallery {\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  border: 1px solid #e5e7eb;\n  overflow: hidden;\n}\n\n.body--dark .media-gallery {\n  background: rgba(30, 30, 30, 0.95);\n  border-color: #374151;\n}\n\n/* Header */\n.gallery-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid #e5e7eb;\n}\n\n.body--dark .gallery-header {\n  border-bottom-color: #374151;\n}\n\n.header-info {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.header-info .q-icon {\n  color: #6366f1;\n}\n\n.header-text h3 {\n  margin: 0 0 4px 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: #1f2937;\n}\n\n.body--dark .header-text h3 {\n  color: #e2e8f0;\n}\n\n.header-text p {\n  margin: 0;\n  font-size: 0.875rem;\n  color: #6b7280;\n}\n\n.body--dark .header-text p {\n  color: #9ca3af;\n}\n\n.header-controls {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n\n.search-input {\n  min-width: 250px;\n}\n\n.view-controls {\n  display: flex;\n  align-items: center;\n}\n\n/* Content */\n.gallery-content {\n  padding: 24px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.empty-state h4 {\n  margin: 16px 0 8px 0;\n  font-size: 1.2rem;\n  color: #374151;\n}\n\n.body--dark .empty-state h4 {\n  color: #d1d5db;\n}\n\n.empty-state p {\n  margin: 0;\n  color: #6b7280;\n}\n\n.loading-state {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 20px;\n}\n\n/* Media Grid */\n.media-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n}\n\n.compact-grid {\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 16px;\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n/* Media List */\n.media-list {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n/* Show More */\n.show-more {\n  padding: 16px 24px;\n  border-top: 1px solid #e5e7eb;\n  text-align: center;\n}\n\n.body--dark .show-more {\n  border-top-color: #374151;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .gallery-header {\n    flex-direction: column;\n    gap: 16px;\n    align-items: stretch;\n  }\n  \n  .header-controls {\n    justify-content: space-between;\n    flex-wrap: wrap;\n    gap: 12px;\n  }\n  \n  .search-input {\n    min-width: auto;\n    flex: 1;\n    max-width: 100%;\n  }\n  \n  .view-controls {\n    order: 2;\n    flex: 1;\n    justify-content: center;\n  }\n  \n  .media-grid {\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    gap: 12px;\n  }\n  \n  .compact-grid {\n    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n    gap: 12px;\n    max-height: 400px;\n  }\n}\n\n@media (max-width: 480px) {\n  .gallery-header {\n    padding: 16px;\n  }\n  \n  .gallery-content {\n    padding: 16px;\n  }\n  \n  .header-controls {\n    flex-direction: column;\n    align-items: stretch;\n  }\n  \n  .view-controls {\n    order: 1;\n  }\n  \n  .search-input {\n    order: 2;\n  }\n}\n\n/* Modo Full vs Compact */\n.full-view {\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n}\n\n.compact-view {\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n}\n\n.compact-view .gallery-header {\n  padding: 16px 20px;\n}\n\n.compact-view .gallery-content {\n  padding: 20px;\n}\n\n/* View Controls Styling */\n.view-controls :deep(.q-btn-toggle) {\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.body--dark .view-controls :deep(.q-btn-toggle) {\n  border-color: #374151;\n}\n\n.view-controls :deep(.q-btn) {\n  padding: 8px 16px;\n  min-height: 36px;\n}\n\n.view-controls :deep(.q-btn.q-btn--active) {\n  background-color: #6366f1 !important;\n  color: white !important;\n}\n</style>\n","import script from \"./MediaGallery.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MediaGallery.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MediaGallery.vue?vue&type=style&index=0&id=8cf16336&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8cf16336\"]])\n\nexport default __exports__","<template>\n  <div class=\"config-container\">\n    <!-- Toggle de tema -->\n    <div class=\"theme-toggle-container\">\n      <ThemeToggle />\n    </div>\n    \n    <!-- Loading overlay -->\n    <div v-if=\"initialLoading\" class=\"loading-overlay\">\n      <q-spinner-dots size=\"3rem\" />\n      <p>Cargando configuración...</p>\n    </div>\n    \n    <div v-else class=\"config-content\">\n      <div class=\"config-card\">\n        <!-- Header con información del estado -->\n        <div class=\"config-header\">\n          <div class=\"header-content\">\n            <div class=\"logo-container\">\n              <q-icon name=\"business\" class=\"main-logo\" />\n              <div class=\"logo-glow\"></div>\n            </div>\n            <h2 class=\"page-title\">\n              {{ isUpdate ? 'Actualizar Negocio' : 'Configurar Negocio' }}\n            </h2>\n            <p class=\"page-subtitle\">\n              {{ isUpdate ? 'Modifica la información de tu negocio' : 'Configura tu espacio LGBT+ friendly' }}\n            </p>\n            <div class=\"pride-divider\"></div>\n            \n            <!-- Status badge -->\n            <div v-if=\"isUpdate\" class=\"status-badge\">\n              <q-icon name=\"check_circle\" />\n              <span>Negocio ya configurado</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Form section -->\n        <div class=\"config-form-section\">\n          <q-form @submit.prevent=\"save\" class=\"config-form\">\n            <!-- Nombre del negocio -->\n            <div class=\"input-group\">\n              <q-input \n                v-model=\"form.name\" \n                label=\"Nombre del negocio\" \n                outlined\n                dense\n                required \n                class=\"modern-input\"\n                :rules=\"[val => !!val || 'El nombre es requerido']\"\n              >\n                <template v-slot:prepend>\n                  <q-icon name=\"store\" class=\"input-icon\" />\n                </template>\n              </q-input>\n            </div>\n\n            <!-- Upload y preview del logo -->\n            <div class=\"input-group\">\n              <div class=\"logo-upload-section\">\n                <div class=\"logo-upload-header\">\n                  <q-icon name=\"image\" class=\"input-icon\" />\n                  <span>Logo del negocio</span>\n                </div>\n                \n                <!-- Vista previa del logo actual -->\n                <div v-if=\"currentLogoPreview\" class=\"current-logo-preview\">\n                  <div class=\"preview-label\">Logo actual:</div>\n                  <div class=\"logo-preview-container\">\n                    <img :src=\"currentLogoPreview\" alt=\"Logo actual\" class=\"logo-preview\" />\n                    <q-btn \n                      flat \n                      round \n                      icon=\"close\" \n                      size=\"sm\" \n                      @click=\"clearCurrentLogo\"\n                      class=\"remove-logo-btn\"\n                    />\n                  </div>\n                </div>\n\n                <!-- Upload de nuevo logo -->\n                <q-file \n                  v-model=\"form.logo\" \n                  label=\"Subir nuevo logo (PNG, JPG, JPEG)\" \n                  accept=\"image/png,image/jpg,image/jpeg\"\n                  outlined\n                  dense\n                  class=\"modern-input\"\n                  @update:model-value=\"onLogoSelected\"\n                  :max-file-size=\"5242880\"\n                >\n                  <template v-slot:prepend>\n                    <q-icon name=\"upload\" />\n                  </template>\n                </q-file>\n\n                <!-- Vista previa del nuevo logo -->\n                <div v-if=\"newLogoPreview\" class=\"new-logo-preview\">\n                  <div class=\"preview-label\">Nuevo logo:</div>\n                  <div class=\"logo-preview-container\">\n                    <img :src=\"newLogoPreview\" alt=\"Nuevo logo\" class=\"logo-preview\" />\n                    <q-btn \n                      flat \n                      round \n                      icon=\"close\" \n                      size=\"sm\" \n                      @click=\"clearNewLogo\"\n                      class=\"remove-logo-btn\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Botones de acción -->\n            <div class=\"form-actions\">\n              <q-btn \n                v-if=\"isUpdate\"\n                flat\n                color=\"grey\"\n                label=\"Cancelar\"\n                @click=\"goToAdmin\"\n                class=\"cancel-btn\"\n              />\n              <q-btn \n                type=\"submit\" \n                :label=\"isUpdate ? 'Actualizar Configuración' : 'Guardar Configuración'\"\n                class=\"save-btn\"\n                size=\"md\"\n                unelevated\n                :loading=\"loading\" \n                :disable=\"!form.name\"\n              />\n            </div>\n          </q-form>\n        </div>\n\n        <!-- Footer con mensaje inclusivo -->\n        <div class=\"footer-section\">\n          <div class=\"diversity-message\">\n            <q-icon name=\"favorite\" class=\"heart-icon\" />\n            <span>Programado por un gei 🏳️‍🌈</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { businessAPI } from '../services/api'\nimport { useToast } from 'vue-toastification'\nimport { useTheme } from '../composables/useTheme'\nimport ThemeToggle from '../components/ThemeToggle.vue'\n\nexport default {\n  name: 'ConfigView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const { loadTheme } = useTheme()\n    \n    // Estado reactivo\n    const loading = ref(false)\n    const initialLoading = ref(true)\n    const isUpdate = ref(false)\n    const currentBusiness = ref(null)\n    const currentLogoPreview = ref(null)\n    const newLogoPreview = ref(null)\n    \n    const form = ref({ \n      name: '', \n      logo: null \n    })\n\n    // Cargar datos existentes del negocio\n    const loadBusinessData = async () => {\n      try {\n        const response = await businessAPI.get()\n        if (response.data) {\n          currentBusiness.value = response.data\n          form.value.name = response.data.name || ''\n          isUpdate.value = true\n          \n          // Cargar logo si existe\n          if (response.data.id) {\n            try {\n              const logoResponse = await businessAPI.getLogo()\n              if (logoResponse.data?.logo) {\n                currentLogoPreview.value = `data:image/png;base64,${logoResponse.data.logo}`\n              }\n            } catch (error) {\n              console.log('No hay logo existente')\n            }\n          }\n        }\n      } catch (error) {\n        // Si no existe negocio, es creación\n        console.log('No hay negocio configurado, será creación')\n        isUpdate.value = false\n      } finally {\n        initialLoading.value = false\n      }\n    }\n\n    // Manejar selección de logo\n    const onLogoSelected = (file) => {\n      if (file) {\n        // Validar tipo de archivo\n        const validTypes = ['image/png', 'image/jpeg', 'image/jpg']\n        if (!validTypes.includes(file.type)) {\n          toast.error('Solo se permiten archivos PNG, JPG o JPEG')\n          form.value.logo = null\n          return\n        }\n\n        // Validar tamaño (5MB max)\n        if (file.size > 5242880) {\n          toast.error('El archivo es muy grande. Máximo 5MB.')\n          form.value.logo = null\n          return\n        }\n\n        // Crear vista previa\n        const reader = new FileReader()\n        reader.onload = (e) => {\n          newLogoPreview.value = e.target.result\n        }\n        reader.readAsDataURL(file)\n      } else {\n        newLogoPreview.value = null\n      }\n    }\n\n    // Limpiar logo actual\n    const clearCurrentLogo = () => {\n      currentLogoPreview.value = null\n      // Si estamos actualizando, esto significa que queremos quitar el logo\n      if (isUpdate.value) {\n        toast.info('El logo actual será eliminado al guardar')\n      }\n    }\n\n    // Limpiar nuevo logo\n    const clearNewLogo = () => {\n      form.value.logo = null\n      newLogoPreview.value = null\n    }\n\n    // Guardar configuración\n    const save = async () => {\n      if (!form.value.name) {\n        toast.warning('Ingresa el nombre del negocio')\n        return\n      }\n\n      loading.value = true\n      \n      try {\n        const formData = {\n          name: form.value.name,\n          logo: form.value.logo\n        }\n\n        let response\n        if (isUpdate.value) {\n          // Si estamos actualizando\n          response = await businessAPI.update(formData)\n          toast.success('¡Negocio actualizado exitosamente!')\n        } else {\n          // Si estamos creando\n          response = await businessAPI.create(formData)\n          toast.success('¡Negocio configurado exitosamente!')\n        }\n\n        // Redirigir según el contexto\n        if (isUpdate.value) {\n          router.push('/admin')\n        } else {\n          router.push('/login')\n        }\n\n      } catch (err) {\n        const errorMessage = isUpdate.value \n          ? 'Error actualizando la configuración del negocio'\n          : 'Error guardando la configuración del negocio'\n        \n        toast.error(errorMessage)\n        console.error('Error:', err)\n      } finally {\n        loading.value = false\n      }\n    }\n\n    // Navegar al admin\n    const goToAdmin = () => {\n      router.push('/admin')\n    }\n\n    // Inicialización\n    onMounted(async () => {\n      loadTheme()\n      await loadBusinessData()\n    })\n\n    return { \n      form, \n      save, \n      loading,\n      initialLoading,\n      isUpdate,\n      currentBusiness,\n      currentLogoPreview,\n      newLogoPreview,\n      onLogoSelected,\n      clearCurrentLogo,\n      clearNewLogo,\n      goToAdmin\n    }\n  }\n}\n</script>\n\n<style scoped>\n.config-container {\n  min-height: 100vh;\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);\n  padding: 20px 0;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.theme-toggle-container {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 100;\n}\n\n.loading-overlay {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  color: var(--text-primary);\n  text-align: center;\n}\n\n.loading-overlay p {\n  margin-top: 16px;\n  font-size: 1.1rem;\n  font-weight: 500;\n}\n\n.config-content {\n  width: 100%;\n  max-width: 600px;\n  padding: 0 20px;\n}\n\n.config-card {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 20px;\n  overflow: hidden;\n  backdrop-filter: blur(20px);\n  box-shadow: var(--shadow-xl);\n}\n\n.config-header {\n  text-align: center;\n  background: var(--surface);\n  padding: 40px 24px 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.header-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.logo-container {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 24px;\n}\n\n.main-logo {\n  font-size: 4rem;\n  color: var(--primary);\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n}\n\n.logo-glow {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 80px;\n  height: 80px;\n  background: radial-gradient(circle, rgba(var(--primary-rgb), 0.3), transparent);\n  border-radius: 50%;\n  animation: pulse 3s ease-in-out infinite;\n  z-index: -1;\n}\n\n@keyframes pulse {\n  0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }\n  50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }\n}\n\n.page-title {\n  margin: 0 0 8px 0;\n  font-size: 2.2rem;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n\n.page-subtitle {\n  margin: 0 0 24px 0;\n  font-size: 0.95rem;\n  color: var(--text-secondary);\n}\n\n.pride-divider {\n  width: 80px;\n  height: 4px;\n  background: var(--primary);\n  border-radius: 2px;\n  margin: 0 auto 16px auto;\n}\n\n.status-badge {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 16px;\n  background: rgba(var(--success-rgb), 0.1);\n  border: 1px solid var(--success);\n  border-radius: 20px;\n  color: var(--success);\n  font-size: 0.9rem;\n  font-weight: 500;\n  margin-top: 16px;\n}\n\n.config-form-section {\n  padding: 24px;\n}\n\n.config-form {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.input-group {\n  position: relative;\n}\n\n.modern-input {\n  border-radius: 12px !important;\n}\n\n.modern-input :deep(.q-field__control) {\n  border-radius: 12px !important;\n  border-color: var(--border);\n  background: var(--background);\n}\n\n.modern-input :deep(.q-field__control:hover) {\n  border-color: var(--primary);\n}\n\n.modern-input :deep(.q-field__control.q-field__control--focused) {\n  border-color: var(--primary) !important;\n  box-shadow: 0 0 0 2px rgba(var(--primary-rgb), 0.2);\n}\n\n.modern-input :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.modern-input :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.modern-input :deep(.q-field__control.q-field__control--focused .q-field__label) {\n  color: var(--primary) !important;\n}\n\n.modern-input :deep(.q-field__append) {\n  color: var(--text-secondary);\n}\n\n.modern-input :deep(.q-field__prepend) {\n  color: var(--primary);\n}\n\n/* Estilos específicos para q-file */\n.modern-input.q-file :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control) {\n  background: var(--background) !important;\n}\n\n.modern-input.q-file :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control.q-field__control--focused .q-field__label) {\n  color: var(--primary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control .q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.modern-input.q-file :deep(.q-field__control .q-field__suffix) {\n  color: var(--text-secondary) !important;\n}\n\n/* Asegurar que el placeholder sea visible */\n.modern-input :deep(.q-field__native::placeholder) {\n  color: var(--text-secondary) !important;\n  opacity: 0.6;\n}\n\n.input-icon {\n  color: var(--primary) !important;\n}\n\n/* Logo upload section */\n.logo-upload-section {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.logo-upload-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 500;\n  margin-bottom: 8px;\n  color: var(--text-primary) !important;\n}\n\n.logo-upload-header .input-icon {\n  color: var(--primary) !important;\n}\n\n.current-logo-preview,\n.new-logo-preview {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.preview-label {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--text-secondary) !important;\n}\n\n.logo-preview-container {\n  position: relative;\n  display: inline-block;\n  width: fit-content;\n}\n\n.logo-preview {\n  width: 120px;\n  height: 120px;\n  object-fit: cover;\n  border-radius: 12px;\n  border: 2px solid var(--border);\n  box-shadow: var(--shadow-md);\n}\n\n.remove-logo-btn {\n  position: absolute;\n  top: -8px;\n  right: -8px;\n  background: var(--negative) !important;\n  color: white !important;\n  width: 24px !important;\n  height: 24px !important;\n  min-width: 24px !important;\n  border-radius: 50% !important;\n}\n\n.form-actions {\n  margin-top: 16px;\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n}\n\n.cancel-btn {\n  flex: 1;\n  min-width: 120px;\n  height: 50px;\n  border-radius: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  color: var(--text-secondary);\n  border: 2px solid var(--border);\n  transition: all 0.3s ease;\n}\n\n.cancel-btn:hover {\n  background: var(--hover-surface);\n  border-color: var(--text-secondary);\n}\n\n.save-btn {\n  flex: 2;\n  min-width: 200px;\n  height: 50px;\n  border-radius: 12px;\n  background: var(--primary);\n  color: white;\n  font-weight: 600;\n  font-size: 1.1rem;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n  transition: all 0.3s ease;\n  border: none;\n}\n\n.save-btn:hover {\n  background: var(--primary-dark);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-lg);\n}\n\n.save-btn:active {\n  transform: translateY(0);\n}\n\n.save-btn:disabled {\n  background: var(--text-secondary);\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.footer-section {\n  padding: 24px;\n  border-top: 1px solid var(--border);\n  text-align: center;\n  background: var(--background);\n}\n\n.diversity-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n}\n\n.heart-icon {\n  color: var(--primary);\n  animation: heartbeat 2s ease-in-out infinite;\n}\n\n@keyframes heartbeat {\n  0%, 100% { transform: scale(1); }\n  50% { transform: scale(1.1); }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .config-container {\n    padding: 10px;\n  }\n  \n  .theme-toggle-container {\n    top: 10px;\n    right: 10px;\n  }\n  \n  .config-header {\n    padding: 30px 20px 20px;\n  }\n  \n  .config-form-section {\n    padding: 20px;\n  }\n  \n  .page-title {\n    font-size: 1.8rem;\n  }\n  \n  .main-logo {\n    font-size: 3rem;\n  }\n\n  .form-actions {\n    flex-direction: column;\n  }\n\n  .cancel-btn,\n  .save-btn {\n    flex: 1;\n    min-width: 100%;\n  }\n\n  .logo-preview {\n    width: 100px;\n    height: 100px;\n  }\n\n  .config-content {\n    max-width: 100%;\n    padding: 0 10px;\n  }\n}\n\n/* Smooth transitions */\n.config-card {\n  transition: all 0.3s ease;\n}\n\n.logo-preview {\n  transition: all 0.3s ease;\n}\n\n.logo-preview:hover {\n  transform: scale(1.05);\n  box-shadow: var(--shadow-lg);\n}\n\n/* Focus styles */\n.modern-input :deep(.q-field__control--focused) {\n  outline: none;\n}\n\n.save-btn:focus {\n  outline: 2px solid var(--primary);\n  outline-offset: 2px;\n}\n\n.cancel-btn:focus {\n  outline: 2px solid var(--text-secondary);\n  outline-offset: 2px;\n}\n\n/* Loading state */\n.save-btn .q-spinner {\n  color: white;\n}\n</style>\n\n","import { render } from \"./ConfigView.vue?vue&type=template&id=e2c0c8dc&scoped=true\"\nimport script from \"./ConfigView.vue?vue&type=script&lang=js\"\nexport * from \"./ConfigView.vue?vue&type=script&lang=js\"\n\nimport \"./ConfigView.vue?vue&type=style&index=0&id=e2c0c8dc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e2c0c8dc\"]])\n\nexport default __exports__","<template>\n  <div \n    class=\"player-container\" \n    :class=\"{ 'fullscreen-mode': isFullscreen }\"\n    @mousemove=\"isFullscreen ? onMouseMoveFullscreen() : null\"\n  >\n    <!-- Theme Toggle -->\n    <ThemeToggle v-if=\"!isFullscreen\" class=\"theme-toggle\" />\n    \n    <!-- Player States -->\n    \n    <!-- Playlist Selection State -->\n    <div v-if=\"!selectedPlaylist\" class=\"selection-state\">\n      <div class=\"player-header\">\n        <div class=\"header-content\">\n          <div class=\"header-icon\">\n            <q-icon name=\"play_circle_filled\" size=\"3rem\" />\n          </div>\n          <div class=\"header-text\">\n            <h2>Reproductor de Contenido</h2>\n            <p>Seleccione una playlist para comenzar la reproducción</p>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"main-content\">\n        <div class=\"content-card\">\n          <!-- Loading State -->\n          <div v-if=\"loading\" class=\"loading-section\">\n            <q-spinner color=\"primary\" size=\"3rem\" />\n            <p class=\"loading-text\">Cargando playlists...</p>\n          </div>\n\n          <!-- Playlist Selection -->\n          <div v-else-if=\"playlists.length\" class=\"playlists-section\">\n            <div class=\"section-header\">\n              <h3>Playlists Disponibles</h3>\n              <div class=\"playlist-count\">\n                {{ playlists.length }} playlist{{ playlists.length !== 1 ? 's' : '' }} disponible{{ playlists.length !== 1 ? 's' : '' }}\n              </div>\n            </div>\n\n            <div class=\"playlists-grid\">\n              <div \n                v-for=\"playlist in playlists\" \n                :key=\"playlist.id\"\n                class=\"playlist-card\"\n                @click=\"selectPlaylist(playlist)\"\n              >\n                <div class=\"playlist-icon\">\n                  <q-icon name=\"queue_music\" size=\"2.5rem\" />\n                </div>\n                <div class=\"playlist-info\">\n                  <h4>{{ playlist.name }}</h4>\n                  <p>{{ playlist.description || 'Lista de reproducción de contenido multimedia' }}</p>\n                  <div class=\"playlist-meta\">\n                    <span class=\"meta-item\">\n                      <q-icon name=\"schedule\" size=\"1rem\" />\n                      {{ formatTotalDuration(playlist.total_duration) }}\n                    </span>\n                    <span class=\"meta-item\">\n                      <q-icon name=\"playlist_play\" size=\"1rem\" />\n                      {{ playlist.media_count || 0 }} elementos\n                    </span>\n                  </div>\n                </div>\n                <div class=\"playlist-action\">\n                  <q-icon name=\"play_arrow\" size=\"1.5rem\" />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Empty State -->\n          <div v-else class=\"empty-state\">\n            <div class=\"empty-icon\">\n              <q-icon name=\"playlist_remove\" size=\"4rem\" />\n            </div>\n            <h3>No hay playlists disponibles</h3>\n            <p>Actualmente no hay ninguna playlist configurada en el sistema.</p>\n            <div class=\"empty-actions\">\n              <q-btn\n                color=\"primary\"\n                icon=\"add\"\n                label=\"Crear Playlist\"\n                @click=\"goToAdmin\"\n                rounded\n                unelevated\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Footer Actions -->\n      <div class=\"footer-actions\">\n        <q-btn\n          color=\"secondary\"\n          icon=\"arrow_back\"\n          label=\"Volver\"\n          @click=\"goBack\"\n          outline\n          rounded\n        />\n        <q-btn\n          color=\"accent\"\n          icon=\"refresh\"\n          label=\"Actualizar\"\n          @click=\"fetchPlaylists\"\n          rounded\n          unelevated\n        />\n      </div>\n    </div>\n\n    <!-- Player State -->\n    <div v-else class=\"player-state\">\n      <!-- Media Display Area -->\n      <div class=\"media-display-area\">\n        <div v-if=\"currentMedia\" class=\"media-container\">\n          <!-- Image Display -->\n          <div v-if=\"currentMedia.media_type === 'image' && currentMediaSrc\" class=\"image-display\">\n            <img \n              :src=\"currentMediaSrc\" \n              :alt=\"currentMedia.filename\"\n              class=\"media-image\"\n              @error=\"handleMediaError\"\n              @load=\"onMediaLoaded\"\n            />\n          </div>\n          \n          <!-- Video Display -->\n          <div v-else-if=\"currentMedia.media_type === 'video' && currentMediaSrc\" class=\"video-display\">\n            <video \n              ref=\"videoPlayer\"\n              :src=\"currentMediaSrc\"\n              class=\"media-video\"\n              @ended=\"onMediaEnded\"\n              @error=\"handleMediaError\"\n              @loadeddata=\"onMediaLoaded\"\n              autoplay\n              muted\n            />\n          </div>\n          \n          <!-- Loading state while URL is being constructed -->\n          <div v-else-if=\"currentMedia && !currentMediaSrc\" class=\"loading-media\">\n            <q-spinner-dots color=\"primary\" size=\"3rem\" />\n            <p>Preparando {{ currentMedia.filename }}...</p>\n          </div>\n          \n          <!-- Media Info Overlay -->\n          <div class=\"media-info-overlay\" v-if=\"showInfo\">\n            <div class=\"media-info\">\n              <h3>{{ currentMedia.filename }}</h3>\n              <p>{{ currentMedia.description || 'Sin descripción' }}</p>\n              <div class=\"media-details\">\n                <span>Duración: {{ getCurrentDuration() }}s</span>\n                <span>Tipo: {{ currentMedia.media_type }}</span>\n                <span>Posición: {{ currentMediaIndex + 1 }}/{{ playlistMedia.length }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Loading Next Media -->\n        <div v-else class=\"loading-media\">\n          <q-spinner color=\"primary\" size=\"4rem\" />\n          <p>Cargando próximo contenido...</p>\n        </div>\n      </div>\n      \n      <!-- Player Controls (Solo en modo normal) -->\n      <div v-if=\"!isFullscreen\" class=\"player-controls normal-controls\">\n        <div class=\"control-panel\">\n          <!-- Playlist Info -->\n          <div class=\"playlist-info-controls\">\n            <h4>{{ selectedPlaylist.name }}</h4>\n            <p>{{ playlistMedia.length }} elementos • Reproduciendo en bucle</p>\n          </div>\n          \n          <!-- Media Controls -->\n          <div class=\"media-controls\">\n            <q-btn\n              :icon=\"isPlaying ? 'pause' : 'play_arrow'\"\n              @click=\"togglePlayPause\"\n              color=\"primary\"\n              size=\"lg\"\n              round\n              class=\"play-pause-btn\"\n            />\n            <q-btn\n              icon=\"skip_next\"\n              @click=\"skipToNext\"\n              color=\"secondary\"\n              size=\"md\"\n              round\n              class=\"skip-btn\"\n            />\n            <q-btn\n              icon=\"skip_previous\"\n              @click=\"skipToPrevious\"\n              color=\"secondary\"\n              size=\"md\"\n              round\n              class=\"skip-btn\"\n            />\n          </div>\n          \n          <!-- Progress and Info -->\n          <div class=\"progress-info\">\n            <div class=\"progress-bar\">\n              <q-linear-progress \n                :value=\"progress\" \n                color=\"primary\" \n                size=\"4px\" \n                class=\"media-progress\"\n              />\n              <div class=\"time-info\">\n                <span>{{ formatTime(elapsedTime) }}</span>\n                <span>{{ formatTime(getCurrentDuration()) }}</span>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Additional Controls -->\n          <div class=\"additional-controls\">\n            <q-btn\n              :icon=\"showInfo ? 'info' : 'info_outline'\"\n              @click=\"toggleInfo\"\n              flat\n              round\n              class=\"info-btn\"\n            >\n              <q-tooltip>{{ showInfo ? 'Ocultar' : 'Mostrar' }} información</q-tooltip>\n            </q-btn>\n            \n            <q-btn\n              icon=\"fullscreen\"\n              @click=\"toggleFullscreen\"\n              flat\n              round\n              size=\"md\"\n              class=\"fullscreen-btn\"\n            >\n              <q-tooltip>Pantalla completa</q-tooltip>\n            </q-btn>\n            \n            <q-btn\n              icon=\"stop\"\n              @click=\"stopPlayback\"\n              flat\n              round\n              color=\"negative\"\n              class=\"stop-btn\"\n            >\n              <q-tooltip>Detener y volver</q-tooltip>\n            </q-btn>\n          </div>\n        </div>\n      </div>\n\n      <!-- Fullscreen Exit Button (Solo en pantalla completa) -->\n      <div \n        v-if=\"isFullscreen\" \n        class=\"fullscreen-exit-overlay\"\n        :class=\"{ 'visible': showFullscreenControls }\"\n      >\n        <q-btn\n          icon=\"fullscreen_exit\"\n          @click=\"toggleFullscreen\"\n          color=\"white\"\n          text-color=\"black\"\n          size=\"xl\"\n          round\n          class=\"exit-fullscreen-btn\"\n        >\n          <q-tooltip>Salir de pantalla completa (ESC)</q-tooltip>\n        </q-btn>\n      </div>\n\n      <!-- Business Logo (Solo en pantalla completa) -->\n      <div v-if=\"isFullscreen && businessLogo\" class=\"business-logo-overlay\">\n        <img :src=\"businessLogo\" alt=\"Logo\" class=\"business-logo\" />\n      </div>\n\n      <!-- Schedule Override Notification -->\n      <div v-if=\"scheduleOverride && !isFullscreen\" class=\"schedule-notification\">\n        <q-banner class=\"bg-orange text-white\">\n          <template v-slot:avatar>\n            <q-icon name=\"schedule\" />\n          </template>\n          <strong>Programación Activa</strong><br>\n          Reproduciendo contenido programado: \"{{ scheduleOverride.media.filename }}\"\n          <template v-slot:action>\n            <q-btn flat icon=\"close\" @click=\"dismissScheduleNotification\" />\n          </template>\n        </q-banner>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted, onUnmounted, computed, nextTick } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { playerAPI, getMediaUrl } from '../services/playerAPI'  // Usar API pública del reproductor\nimport backendDetector from '../services/backendDetector'\nimport { useToast } from 'vue-toastification'\nimport ThemeToggle from '../components/ThemeToggle.vue'\nimport { useTheme } from '../composables/useTheme'\nimport { useWebSocket } from '../services/ws'\nimport { useMediaUrl } from '../composables/useMediaUrl'\n\nexport default {\n  name: 'PlayerView',\n  components: {\n    ThemeToggle\n  },\n  setup() {\n    const router = useRouter()\n    const toast = useToast()\n    const { isDarkMode } = useTheme()\n    const { backendBaseUrl, buildMediaUrl } = useMediaUrl()\n    \n    // Referencias a elementos del DOM\n    const videoPlayer = ref(null)\n    \n    // Estado de la aplicación\n    const loading = ref(false)\n    const playlists = ref([])\n    const selectedPlaylist = ref(null)\n    const playlistMedia = ref([])\n    const currentMedia = ref(null)\n    const currentMediaIndex = ref(0)\n    const isPlaying = ref(false)\n    const showInfo = ref(false)\n    const elapsedTime = ref(0)\n    const scheduleOverride = ref(null)\n    const currentMediaUrl = ref('') // URL actual del media\n    \n    // Timers\n    let playbackTimer = null\n    let scheduleCheckTimer = null\n    let progressTimer = null\n    \n    // Computed properties\n    const progress = computed(() => {\n      if (!currentMedia.value) return 0\n      const duration = getCurrentDuration()\n      return duration > 0 ? elapsedTime.value / duration : 0\n    })\n    \n    // Computed para URL del media actual\n    const currentMediaSrc = computed(() => {\n      return currentMediaUrl.value || ''\n    })\n    \n    // WebSocket: desestructurar funciones necesarias\n    const { connect, disconnect, on, off } = useWebSocket()\n    \n    // Handlers para eventos WebSocket\n    const mediaCreatedHandler = async ({ id }) => {\n      if (!selectedPlaylist.value) return\n      await loadPlaylistMedia(selectedPlaylist.value.id)\n      toast.info('Se añadió un nuevo medio a la playlist')\n    }\n    \n    const playlistUpdatedHandler = async ({ playlist_id, action, media_id }) => {\n      if (!selectedPlaylist.value || selectedPlaylist.value.id !== playlist_id) return\n      \n      console.log(`Playlist actualizada: ${action}`)\n      \n      // Recargar medios de la playlist activa\n      const oldLength = playlistMedia.value.length\n      await loadPlaylistMedia(playlist_id)\n      const newLength = playlistMedia.value.length\n      \n      // Ajustar índice actual si cambió el total de medios\n      if (action === 'media_removed' && newLength < oldLength) {\n        if (currentMediaIndex.value >= newLength && newLength > 0) {\n          currentMediaIndex.value = 0\n          loadCurrentMedia()\n        }\n      }\n      \n      // Mostrar notificación según la acción\n      switch (action) {\n        case 'media_added':\n          toast.info('Se añadió un medio a la playlist activa')\n          break\n        case 'media_removed':\n          toast.warning('Se removió un medio de la playlist activa')\n          break\n        case 'playlist_modified':\n          toast.info('La playlist activa fue modificada')\n          break\n      }\n    }\n    \n    // Función para conectar WebSocket con manejo de errores\n    const connectWebSocket = () => {\n      try {\n        connect()\n        on('media_created', mediaCreatedHandler)\n        on('playlist_updated', playlistUpdatedHandler)\n        console.log('WebSocket conectado exitosamente')\n      } catch (error) {\n        console.warn('WebSocket no disponible, continuando sin actualizaciones automáticas:', error)\n      }\n    }\n    \n    // Función para desconectar WebSocket con manejo de errores\n    const disconnectWebSocket = () => {\n      try {\n        off('media_created', mediaCreatedHandler)\n        off('playlist_updated', playlistUpdatedHandler)\n        disconnect()\n        console.log('WebSocket desconectado exitosamente')\n      } catch (error) {\n        console.warn('Error al desconectar WebSocket:', error)\n      }\n    }\n    \n    // Funciones de utilidad\n    const formatTime = (seconds) => {\n      const mins = Math.floor(seconds / 60)\n      const secs = Math.floor(seconds % 60)\n      return `${mins}:${secs.toString().padStart(2, '0')}`\n    }\n    \n    const formatTotalDuration = (totalSeconds) => {\n      if (!totalSeconds) return '0:00'\n      const hours = Math.floor(totalSeconds / 3600)\n      const minutes = Math.floor((totalSeconds % 3600) / 60)\n      const seconds = totalSeconds % 60\n      \n      if (hours > 0) {\n        return `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n      }\n      return `${minutes}:${seconds.toString().padStart(2, '0')}`\n    }\n    \n    const getCurrentDuration = () => {\n      if (!currentMedia.value) return 0\n      // Usar la duración específica de la playlist o la duración original del media\n      return currentMedia.value.effective_duration || currentMedia.value.duration || 5\n    }\n    \n    // Usar la función importada de playerAPI\n    const getMediaUrlForPlayer = getMediaUrl\n    \n    // Funciones de carga de datos\n    const fetchPlaylists = async () => {\n      loading.value = true\n      try {\n        console.log('Intentando cargar playlists...')\n        const response = await playerAPI.listPlaylists()\n        playlists.value = response.data || []\n        console.log('Playlists cargadas exitosamente:', playlists.value)\n      } catch (error) {\n        console.error('Error fetching playlists:', error)\n        \n        if (error.response?.status === 401) {\n          toast.error('Sesión expirada. Redirigiendo al login...')\n          localStorage.removeItem('signance_token')\n          router.push('/login')\n        } else {\n          toast.error('Error al cargar las playlists')\n        }\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    const loadPlaylistMedia = async (playlistId) => {\n      try {\n        console.log('Cargando medios de playlist:', playlistId)\n        const response = await playerAPI.getPlaylist(playlistId)\n        \n        // El endpoint /playlists/{id}/player devuelve { medias: [...], ... }\n        const playlistData = response.data || {}\n        const medias = playlistData.medias || []\n        \n        if (!Array.isArray(medias)) {\n          console.error('La respuesta no contiene un array de medias:', playlistData)\n          playlistMedia.value = []\n          toast.error('Error: formato de datos incorrecto')\n          return\n        }\n        \n        // Los medias ya vienen con toda la información necesaria\n        playlistMedia.value = medias.map(media => ({\n          ...media,  // Datos del media (id, filename, media_type, etc.)\n          effective_duration: media.duration,  // Ya incluye la duración específica de la playlist\n          url: media.file_url  // URL del archivo\n        }))\n        \n        console.log('Medios de playlist cargados:', {\n          count: playlistMedia.value.length,\n          playlist_name: playlistData.name,\n          items: medias.map(media => ({\n            id: media.id,\n            filename: media.filename,\n            duration: media.duration,\n            file_url: media.file_url\n          }))\n        })\n        \n        if (playlistMedia.value.length > 0) {\n          currentMediaIndex.value = 0\n          loadCurrentMedia()\n        } else {\n          console.warn('No se encontraron medios en la playlist')\n          toast.warning('Esta playlist no contiene medios')\n        }\n      } catch (error) {\n        console.error('Error loading playlist media:', error)\n        playlistMedia.value = [] // Asegurar que sea un array vacío\n        toast.error('Error al cargar los medios de la playlist')\n      }\n    }\n    \n    const loadCurrentMedia = () => {\n      if (playlistMedia.value.length > 0) {\n        const media = playlistMedia.value[currentMediaIndex.value]\n        currentMedia.value = media\n        elapsedTime.value = 0\n        \n        // Limpiar URL anterior\n        currentMediaUrl.value = ''\n        \n        // Construir URL del media usando la función importada (async en background)\n        getMediaUrl(media).then(mediaUrl => {\n          // Solo actualizar si seguimos en el mismo medio\n          if (currentMedia.value === media) {\n            currentMediaUrl.value = mediaUrl // Actualizar URL reactiva\n            \n            console.log('Medio actual cargado:', {\n              index: currentMediaIndex.value,\n              filename: media.filename,\n              media_type: media.media_type,\n              filepath: media.filepath,\n              duration: media.duration,\n              effective_duration: media.effective_duration,\n              url: mediaUrl\n            })\n          }\n        }).catch(error => {\n          console.error('Error construyendo URL del media:', error)\n          if (currentMedia.value === media) {\n            currentMediaUrl.value = '' // Limpiar URL en caso de error\n            toast.error(`Error preparando medio: ${media.filename}`)\n          }\n        })\n      } else {\n        console.warn('No hay medios disponibles para cargar')\n        currentMedia.value = null\n        currentMediaUrl.value = ''\n      }\n    }\n    \n    // Funciones de control de reproducción\n    const selectPlaylist = async (playlist) => {\n      selectedPlaylist.value = playlist\n      await loadPlaylistMedia(playlist.id)\n      if (playlistMedia.value.length > 0) {\n        startPlayback()\n        toast.success(`Reproduciendo: ${playlist.name}`)\n      } else {\n        toast.warning('Esta playlist no tiene medios para reproducir')\n      }\n    }\n    \n    const startPlayback = () => {\n      isPlaying.value = true\n      scheduleMediaPlayback()\n      startProgressTimer()\n      startScheduleCheck()\n    }\n    \n    const scheduleMediaPlayback = () => {\n      if (!currentMedia.value) return\n      \n      const duration = getCurrentDuration()\n      console.log(`Programando cambio de medio en ${duration} segundos`)\n      \n      clearTimeout(playbackTimer)\n      playbackTimer = setTimeout(() => {\n        if (isPlaying.value) {\n          nextMedia()\n        }\n      }, duration * 1000)\n    }\n    \n    const nextMedia = () => {\n      if (playlistMedia.value.length === 0) return\n      \n      // Avanzar al siguiente medio (con bucle)\n      currentMediaIndex.value = (currentMediaIndex.value + 1) % playlistMedia.value.length\n      loadCurrentMedia()\n      \n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    const previousMedia = () => {\n      if (playlistMedia.value.length === 0) return\n      \n      // Retroceder al medio anterior (con bucle)\n      currentMediaIndex.value = currentMediaIndex.value === 0 \n        ? playlistMedia.value.length - 1 \n        : currentMediaIndex.value - 1\n      loadCurrentMedia()\n      \n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    const togglePlayPause = () => {\n      if (isPlaying.value) {\n        pausePlayback()\n      } else {\n        resumePlayback()\n      }\n    }\n    \n    const pausePlayback = () => {\n      isPlaying.value = false\n      clearTimeout(playbackTimer)\n      clearInterval(progressTimer)\n      \n      // Pausar video si es el tipo actual\n      if (currentMedia.value?.media_type === 'video' && videoPlayer.value) {\n        videoPlayer.value.pause()\n      }\n      \n      toast.info('Reproducción pausada')\n    }\n    \n    const resumePlayback = () => {\n      isPlaying.value = true\n      scheduleMediaPlayback()\n      startProgressTimer()\n      \n      // Reanudar video si es el tipo actual\n      if (currentMedia.value?.media_type === 'video' && videoPlayer.value) {\n        videoPlayer.value.play()\n      }\n      \n      toast.info('Reproducción reanudada')\n    }\n    \n    const stopPlayback = () => {\n      isPlaying.value = false\n      clearTimeout(playbackTimer)\n      clearInterval(progressTimer)\n      clearInterval(scheduleCheckTimer)\n      \n      selectedPlaylist.value = null\n      currentMedia.value = null\n      playlistMedia.value = []\n      scheduleOverride.value = null\n      elapsedTime.value = 0\n      \n      toast.info('Reproducción detenida')\n    }\n    \n    const skipToNext = () => {\n      nextMedia()\n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    const skipToPrevious = () => {\n      previousMedia()\n      if (isPlaying.value) {\n        scheduleMediaPlayback()\n      }\n    }\n    \n    // Gestión de programación avanzada\n    const startScheduleCheck = () => {\n      // Temporalmente deshabilitado para debug\n      console.log('Schedule check temporalmente deshabilitado')\n      return\n      \n      // Verificar cada 10 segundos si hay programaciones activas\n      scheduleCheckTimer = setInterval(checkActiveSchedules, 10000)\n      // También verificar inmediatamente\n      checkActiveSchedules()\n    }\n    \n    const checkActiveSchedules = async () => {\n      if (!selectedPlaylist.value) return\n      \n      try {\n        // Obtener schedules activos\n        const response = await scheduleAPI.getActive()\n        const activeSchedules = response.data || []\n        \n        const now = new Date()\n        const currentTime = now.toTimeString().slice(0, 8) // HH:MM:SS\n        const currentDay = now.getDay() // 0 = Sunday, 1 = Monday, etc.\n        const today = now.toISOString().split('T')[0] // YYYY-MM-DD\n        \n        console.log('Verificando programaciones activas...', {\n          currentTime,\n          currentDay,\n          today,\n          activeSchedules: activeSchedules.length\n        })\n        \n        // Buscar schedules que deben ejecutarse ahora\n        const applicableSchedule = findApplicableSchedule(activeSchedules, now, currentTime, currentDay, today)\n        \n        if (applicableSchedule) {\n          console.log('Schedule aplicable encontrado:', applicableSchedule)\n          handleScheduleOverride(applicableSchedule)\n        } else if (scheduleOverride.value) {\n          // Si había un schedule activo pero ya no aplica, volver a la playlist normal\n          console.log('Schedule override terminado, volviendo a playlist normal')\n          scheduleOverride.value = null\n          // Continuar con la reproducción normal\n        }\n        \n      } catch (error) {\n        console.error('Error checking active schedules:', error)\n      }\n    }\n    \n    const findApplicableSchedule = (schedules, now, currentTime, currentDay, today) => {\n      // Ordenar por prioridad (mayor prioridad primero)\n      const sortedSchedules = [...schedules].sort((a, b) => (b.priority || 1) - (a.priority || 1))\n      \n      for (const schedule of sortedSchedules) {\n        if (!schedule.is_active) continue\n        \n        // Verificar schedules de tipo \"simple\" (programación semanal)\n        if (schedule.schedule_type === 'simple') {\n          if (isSimpleScheduleActive(schedule, currentTime, currentDay)) {\n            return schedule\n          }\n        }\n        \n        // Verificar schedules de tipo \"advanced\" (fechas específicas)\n        if (schedule.schedule_type === 'advanced') {\n          if (isAdvancedScheduleActive(schedule, now, today, currentTime)) {\n            return schedule\n          }\n        }\n      }\n      \n      return null\n    }\n    \n    const isSimpleScheduleActive = (schedule, currentTime, currentDay) => {\n      // Convertir día de la semana (JS usa 0=Sunday, pero nuestro modelo usa 0=Monday)\n      const adjustedDay = currentDay === 0 ? 6 : currentDay - 1 // Convertir a 0=Monday\n      \n      // Verificar si el día actual está en los weekdays programados\n      if (schedule.weekdays && !schedule.weekdays.includes(adjustedDay)) {\n        return false\n      }\n      \n      // Si es todo el día, aplica\n      if (schedule.is_all_day) {\n        return true\n      }\n      \n      // Verificar horario\n      if (schedule.daily_start && schedule.daily_end) {\n        const currentMinutes = timeToMinutes(currentTime)\n        const startMinutes = timeToMinutes(schedule.daily_start)\n        const endMinutes = timeToMinutes(schedule.daily_end)\n        \n        return currentMinutes >= startMinutes && currentMinutes <= endMinutes\n      }\n      \n      return false\n    }\n    \n    const isAdvancedScheduleActive = (schedule, now, today, currentTime) => {\n      // Verificar fechas de inicio y fin\n      if (schedule.start_date && schedule.end_date) {\n        const startDate = new Date(schedule.start_date)\n        const endDate = new Date(schedule.end_date)\n        \n        if (now < startDate || now > endDate) {\n          return false\n        }\n      }\n      \n      // Verificar tiempos específicos\n      if (schedule.specific_times && Array.isArray(schedule.specific_times)) {\n        for (const specificTime of schedule.specific_times) {\n          if (isSpecificTimeActive(specificTime, today, currentTime)) {\n            return true\n          }\n        }\n        return false\n      }\n      \n      // Si no hay tiempos específicos pero está en el rango de fechas, aplica todo el día\n      return true\n    }\n    \n    const isSpecificTimeActive = (specificTime, today, currentTime) => {\n      // specificTime puede ser:\n      // - { date: \"2024-01-15\", start_time: \"10:00\", end_time: \"12:00\" }\n      // - { date: \"2024-01-15\", time: \"10:30\" } (tiempo específico)\n      \n      if (specificTime.date !== today) {\n        return false\n      }\n      \n      if (specificTime.time) {\n        // Tiempo específico con tolerancia de ±30 segundos\n        const specificMinutes = timeToMinutes(specificTime.time)\n        const currentMinutes = timeToMinutes(currentTime)\n        return Math.abs(currentMinutes - specificMinutes) <= 0.5 // 30 segundos\n      }\n      \n      if (specificTime.start_time && specificTime.end_time) {\n        const currentMinutes = timeToMinutes(currentTime)\n        const startMinutes = timeToMinutes(specificTime.start_time)\n        const endMinutes = timeToMinutes(specificTime.end_time)\n        \n        return currentMinutes >= startMinutes && currentMinutes <= endMinutes\n      }\n      \n      return false\n    }\n    \n    const timeToMinutes = (timeString) => {\n      // Convertir \"HH:MM\" o \"HH:MM:SS\" a minutos desde medianoche\n      const parts = timeString.split(':')\n      const hours = parseInt(parts[0], 10)\n      const minutes = parseInt(parts[1], 10)\n      const seconds = parts[2] ? parseInt(parts[2], 10) : 0\n      \n      return hours * 60 + minutes + seconds / 60\n    }\n    \n    const handleScheduleOverride = (schedule) => {\n      // Si ya estamos reproduciendo este schedule, no hacer nada\n      if (scheduleOverride.value && scheduleOverride.value.id === schedule.id) {\n        return\n      }\n      \n      console.log('Aplicando schedule override:', schedule)\n      \n      // Pausar la reproducción actual\n      const wasPlaying = isPlaying.value\n      pausePlayback()\n      \n      // Configurar el schedule override\n      scheduleOverride.value = schedule\n      \n      // Si el schedule es para un medio específico, reproducirlo\n      if (schedule.media_id && schedule.media) {\n        // Crear un \"medio virtual\" con la información del schedule\n        const scheduleMedia = {\n          ...schedule.media,\n          effective_duration: schedule.media.duration, // Usar duración original\n          isScheduleOverride: true,\n          scheduleInfo: {\n            type: schedule.schedule_type,\n            priority: schedule.priority,\n            id: schedule.id\n          }\n        }\n        \n        // Guardar el estado actual de la playlist\n        const originalIndex = currentMediaIndex.value\n        const originalMedia = currentMedia.value\n        \n        // Reproducir el medio programado\n        currentMedia.value = scheduleMedia\n        elapsedTime.value = 0\n        \n        if (wasPlaying) {\n          isPlaying.value = true\n          scheduleMediaPlayback()\n          startProgressTimer()\n        }\n        \n        // Mostrar notificación\n        toast.info(`Reproduciendo contenido programado: ${schedule.media.filename}`)\n        \n        // Programar volver a la playlist original cuando termine el medio programado\n        setTimeout(() => {\n          if (scheduleOverride.value && scheduleOverride.value.id === schedule.id) {\n            console.log('Finalizando schedule override, volviendo a playlist')\n            scheduleOverride.value = null\n            \n            // Volver al medio original o al siguiente\n            currentMediaIndex.value = originalIndex\n            loadCurrentMedia()\n            \n            if (isPlaying.value) {\n              scheduleMediaPlayback()\n            }\n          }\n        }, (scheduleMedia.effective_duration || 5) * 1000)\n        \n      } else if (schedule.playlist_id && schedule.playlist) {\n        // Si el schedule es para una playlist completa, cambiar a esa playlist\n        // Esta sería una funcionalidad más avanzada para implementar después\n        console.log('Schedule para playlist completa - funcionalidad pendiente')\n      }\n    }\n    \n    // Gestión de progreso\n    const startProgressTimer = () => {\n      clearInterval(progressTimer)\n      progressTimer = setInterval(() => {\n        if (isPlaying.value && currentMedia.value) {\n          elapsedTime.value += 0.1\n          \n          // Verificar si el video ha terminado naturalmente\n          if (currentMedia.value.media_type === 'video' && videoPlayer.value) {\n            if (videoPlayer.value.ended) {\n              onMediaEnded()\n            }\n          }\n        }\n      }, 100)\n    }\n    \n    // Event handlers\n    const onMediaEnded = () => {\n      console.log('Medio terminado, avanzando al siguiente')\n      nextMedia()\n    }\n    \n    const onMediaLoaded = () => {\n      console.log('Medio cargado exitosamente:', currentMedia.value?.filename)\n    }\n    \n    const handleMediaError = (error) => {\n      console.error('Error de medio:', {\n        error,\n        media: currentMedia.value,\n        url: currentMediaUrl.value\n      })\n      \n      toast.error(`Error al cargar: ${currentMedia.value?.filename || 'medio desconocido'}`)\n      \n      // Intentar cargar el siguiente medio después de un breve delay\n      setTimeout(() => {\n        if (playlistMedia.value.length > 1) {\n          console.log('Saltando al siguiente medio debido a error')\n          nextMedia()\n        } else {\n          console.log('No hay más medios disponibles')\n          toast.warning('No hay más medios disponibles en la playlist')\n        }\n      }, 2000)\n    }\n    \n    const toggleInfo = () => {\n      showInfo.value = !showInfo.value\n    }\n    \n    const isFullscreen = ref(false)\n    const showFullscreenControls = ref(false)\n    const businessLogo = ref(null)\n    \n    // Timer para ocultar controles en pantalla completa\n    let fullscreenControlsTimer = null\n    \n    // Asegurar que el estado inicial sea correcto\n    const initializeFullscreenState = () => {\n      isFullscreen.value = !!document.fullscreenElement\n      console.log('Initialized fullscreen state:', isFullscreen.value)\n    }\n    \n    const toggleFullscreen = async () => {\n      try {\n        if (!document.fullscreenElement) {\n          // Entrar en pantalla completa\n          const playerElement = document.querySelector('.player-state')\n          if (playerElement) {\n            await playerElement.requestFullscreen()\n          } else {\n            await document.documentElement.requestFullscreen()\n          }\n          isFullscreen.value = true\n          toast.info('Modo pantalla completa activado')\n        } else {\n          // Salir de pantalla completa\n          await document.exitFullscreen()\n          isFullscreen.value = false\n          toast.info('Modo pantalla completa desactivado')\n        }\n      } catch (error) {\n        console.error('Error toggle fullscreen:', error)\n        toast.error('Error al cambiar modo de pantalla')\n      }\n    }\n    \n    // Escuchar cambios de pantalla completa\n    const handleFullscreenChange = () => {\n      const wasFullscreen = isFullscreen.value\n      isFullscreen.value = !!document.fullscreenElement\n      \n      console.log('Fullscreen state changed:', {\n        wasFullscreen,\n        nowFullscreen: isFullscreen.value,\n        element: document.fullscreenElement\n      })\n      \n      // Resetear controles al cambiar de modo\n      if (!isFullscreen.value) {\n        showFullscreenControls.value = false\n        if (fullscreenControlsTimer) {\n          clearTimeout(fullscreenControlsTimer)\n          fullscreenControlsTimer = null\n        }\n      }\n    }\n\n    // Manejar movimiento del mouse en pantalla completa\n    const onMouseMoveFullscreen = () => {\n      if (!isFullscreen.value) return\n      \n      showFullscreenControls.value = true\n      \n      // Mostrar cursor\n      document.body.style.cursor = 'default'\n      \n      // Limpiar timer anterior\n      if (fullscreenControlsTimer) {\n        clearTimeout(fullscreenControlsTimer)\n      }\n      \n      // Ocultar controles después de 3 segundos de inactividad\n      fullscreenControlsTimer = setTimeout(() => {\n        showFullscreenControls.value = false\n        // Ocultar cursor en pantalla completa\n        if (isFullscreen.value) {\n          document.body.style.cursor = 'none'\n        }\n      }, 3000)\n    }\n    \n    const dismissScheduleNotification = () => {\n      scheduleOverride.value = null\n    }\n    \n    const goToAdmin = () => {\n      router.push('/admin')\n    }\n    \n    // Cargar logo del negocio\n    const loadBusinessLogo = async () => {\n      try {\n        console.log('🔍 Intentando cargar logo del negocio...')\n        \n        // Obtener la URL base del backend\n        const cached = backendDetector.getCachedBackend()\n        if (!cached) {\n          console.log('❌ No hay backend detectado')\n          return\n        }\n        \n        console.log('📡 Backend detectado:', cached.baseUrl)\n        \n        // Intentar cargar el logo directamente\n        const logoUrl = `${cached.baseUrl}/api/business/logo`\n        console.log('🖼️ Intentando cargar logo desde:', logoUrl)\n        \n        try {\n          const response = await fetch(logoUrl, {\n            method: 'GET'\n            // No necesitamos autenticación ahora que es público\n          })\n          \n          console.log('📥 Respuesta del logo:', response.status, response.statusText)\n          \n          if (response.ok) {\n            const data = await response.json()\n            console.log('📄 Datos recibidos:', data.logo ? 'Logo base64 presente' : 'Sin logo')\n            \n            if (data.logo) {\n              // Convertir base64 a data URL\n              businessLogo.value = `data:image/png;base64,${data.logo}`\n              console.log('✅ Logo cargado exitosamente como data URL')\n            } else {\n              console.log('❌ No hay datos de logo en la respuesta')\n              businessLogo.value = null\n            }\n          } else if (response.status === 404) {\n            console.log('📄 No hay logo configurado (404)')\n            businessLogo.value = null\n          } else {\n            console.log('❌ Error cargando logo:', response.status, response.statusText)\n            businessLogo.value = null\n          }\n        } catch (fetchError) {\n          console.log('❌ Error de red cargando logo:', fetchError)\n          businessLogo.value = null\n        }\n        \n        // TEMPORAL: Para testing - ya no necesitamos esto\n        // if (!businessLogo.value) {\n        //   console.log('🧪 Usando logo de prueba para testing')\n        //   businessLogo.value = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSI0MCIgZmlsbD0iIzIxOTZGMyIgLz4KICA8dGV4dCB4PSI1MCIgeT0iNTciIGZvcnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPkxPR088L3RleHQ+Cjwvc3ZnPgo='\n        // }\n      } catch (error) {\n        console.log('❌ Error general cargando logo:', error)\n        businessLogo.value = null\n      }\n    }\n\n    const goBack = () => {\n      stopPlayback()\n      router.push('/')\n    }\n    \n    // Lifecycle hooks\n    onMounted(() => {\n      console.log('PlayerView mounted, initial fullscreen state:', isFullscreen.value)\n      initializeFullscreenState()\n      fetchPlaylists()\n      loadBusinessLogo()\n      // Agregar listener para cambios de pantalla completa\n      document.addEventListener('fullscreenchange', handleFullscreenChange)\n      \n      // WebSocket: conectar y manejar eventos\n      connectWebSocket()\n    })\n    \n    onUnmounted(() => {\n      clearTimeout(playbackTimer)\n      clearInterval(progressTimer)\n      clearInterval(scheduleCheckTimer)\n      // Limpiar timer de controles de pantalla completa\n      if (fullscreenControlsTimer) {\n        clearTimeout(fullscreenControlsTimer)\n      }\n      // Remover listener\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n      \n      // WebSocket: desconectar y limpiar handlers\n      disconnectWebSocket()\n    })\n\n    return { \n      // State\n      loading,\n      playlists,\n      selectedPlaylist,\n      playlistMedia,\n      currentMedia,\n      currentMediaIndex,\n      isPlaying,\n      showInfo,\n      elapsedTime,\n      scheduleOverride,\n      progress,\n      currentMediaSrc, // Nueva URL reactiva\n      videoPlayer,\n      isFullscreen,\n      showFullscreenControls,\n      businessLogo,\n      \n      // Methods\n      fetchPlaylists,\n      selectPlaylist,\n      togglePlayPause,\n      skipToNext,\n      skipToPrevious,\n      stopPlayback,\n      toggleInfo,\n      toggleFullscreen,\n      dismissScheduleNotification,\n      goToAdmin,\n      goBack,\n      onMediaEnded,\n      onMediaLoaded,\n      handleMediaError,\n      formatTime,\n      formatTotalDuration,\n      getCurrentDuration,\n      initializeFullscreenState,\n      onMouseMoveFullscreen,\n      \n      // Theme\n      isDarkMode\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Container Principal */\n.player-container {\n  min-height: 100vh;\n  background: var(--background);\n  color: var(--text-primary);\n  position: relative;\n  overflow: hidden;\n}\n\n.theme-toggle {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1000;\n}\n\n/* Selection State Styles */\n.selection-state {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.player-header {\n  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);\n  padding: 60px 20px 40px;\n  text-align: center;\n  position: relative;\n  overflow: hidden;\n}\n\n.header-content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.header-icon {\n  color: white;\n  opacity: 0.9;\n}\n\n.header-text h2 {\n  color: white;\n  margin: 0 0 10px 0;\n  font-weight: 600;\n  font-size: 2.5rem;\n}\n\n.header-text p {\n  color: rgba(255, 255, 255, 0.8);\n  margin: 0;\n  font-size: 1.1rem;\n}\n\n.main-content {\n  flex: 1;\n  padding: 40px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.content-card {\n  max-width: 1200px;\n  width: 100%;\n  background: var(--bg-primary);\n  border-radius: 20px;\n  padding: 40px;\n  box-shadow: var(--shadow-xl);\n  border: 1px solid rgba(var(--primary-rgb), 0.1);\n}\n\n.loading-section {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.loading-text {\n  margin-top: 20px;\n  font-size: 1.1rem;\n  color: var(--text-secondary);\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.section-header h3 {\n  font-size: 2rem;\n  margin: 0 0 10px 0;\n  color: var(--text-primary);\n  font-weight: 600;\n}\n\n.playlist-count {\n  color: var(--text-secondary);\n  font-size: 1rem;\n}\n\n.playlists-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: 20px;\n  margin-top: 30px;\n}\n\n.playlist-card {\n  background: var(--bg-secondary);\n  border-radius: 16px;\n  padding: 24px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.playlist-card:hover {\n  border-color: var(--primary);\n  transform: translateY(-2px);\n  box-shadow: var(--shadow-lg);\n}\n\n.playlist-icon {\n  color: var(--primary);\n  flex-shrink: 0;\n}\n\n.playlist-info {\n  flex: 1;\n}\n\n.playlist-info h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.playlist-info p {\n  margin: 0 0 12px 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.playlist-meta {\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.playlist-action {\n  color: var(--primary);\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n}\n\n.playlist-card:hover .playlist-action {\n  opacity: 1;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.empty-icon {\n  color: var(--text-secondary);\n  opacity: 0.5;\n  margin-bottom: 24px;\n}\n\n.empty-state h3 {\n  font-size: 1.5rem;\n  margin: 0 0 12px 0;\n  color: var(--text-primary);\n}\n\n.empty-state p {\n  color: var(--text-secondary);\n  margin: 0 0 24px 0;\n  font-size: 1rem;\n}\n\n.footer-actions {\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  gap: 16px;\n}\n\n/* Player State Styles */\n.player-state {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.media-display-area {\n  flex: 1;\n  position: relative;\n  background: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.media-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-display,\n.video-display {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.media-image {\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n}\n\n.media-video {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n\n.media-info-overlay {\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n  right: 20px;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: 20px;\n  border-radius: 12px;\n  backdrop-filter: blur(10px);\n  animation: fadeInUp 0.3s ease;\n}\n\n.media-info h3 {\n  margin: 0 0 8px 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n}\n\n.media-info p {\n  margin: 0 0 12px 0;\n  opacity: 0.9;\n}\n\n.media-details {\n  display: flex;\n  gap: 20px;\n  font-size: 0.9rem;\n  opacity: 0.8;\n}\n\n.loading-media {\n  text-align: center;\n  color: white;\n}\n\n.loading-media p {\n  margin-top: 20px;\n  font-size: 1.2rem;\n}\n\n.player-controls {\n  background: var(--bg-primary);\n  border-top: 1px solid rgba(var(--primary-rgb), 0.1);\n  padding: 20px;\n}\n\n.control-panel {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-template-areas: \n    \"info controls additional\"\n    \"progress progress progress\";\n  gap: 20px;\n  align-items: center;\n}\n\n/* Cuando NO es fullscreen, mostrar el layout normal */\n.player-controls:not(.fullscreen-controls) .control-panel {\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-template-areas: \n    \"info controls additional\"\n    \"progress progress progress\";\n  gap: 20px;\n}\n\n.player-controls:not(.fullscreen-controls) .playlist-info-controls {\n  grid-area: info;\n}\n\n.player-controls:not(.fullscreen-controls) .media-controls {\n  grid-area: controls;\n  justify-self: center;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.player-controls:not(.fullscreen-controls) .progress-info {\n  grid-area: progress;\n  grid-column: 1 / -1;\n  text-align: center;\n  margin-top: 10px;\n}\n\n.player-controls:not(.fullscreen-controls) .additional-controls {\n  grid-area: additional;\n  justify-self: end;\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n.playlist-info-controls h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.2rem;\n  color: var(--text-primary);\n}\n\n.playlist-info-controls p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n}\n\n.media-controls {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.play-pause-btn {\n  width: 60px;\n  height: 60px;\n}\n\n.skip-btn {\n  width: 48px;\n  height: 48px;\n}\n\n.progress-info {\n  text-align: right;\n}\n\n.progress-bar {\n  min-width: 200px;\n}\n\n.media-progress {\n  margin-bottom: 8px;\n}\n\n.time-info {\n  display: flex;\n  justify-content: space-between;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.additional-controls {\n  display: flex;\n  gap: 8px;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.schedule-notification {\n  position: fixed;\n  top: 80px;\n  left: 20px;\n  right: 20px;\n  z-index: 900;\n  animation: slideDown 0.3s ease;\n}\n\n/* Fullscreen Mode Styles */\n.fullscreen-mode {\n  background: #000 !important;\n}\n\n.fullscreen-mode .player-state {\n  height: 100vh !important;\n  display: flex !important;\n  flex-direction: column !important;\n}\n\n.fullscreen-mode .media-display-area {\n  flex: 1 !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n  background: #000 !important;\n}\n\n.fullscreen-mode .media-container {\n  width: 100% !important;\n  height: 100% !important;\n  display: flex !important;\n  align-items: center !important;\n  justify-content: center !important;\n}\n\n.fullscreen-mode .media-image,\n.fullscreen-mode .media-video {\n  max-width: 100% !important;\n  max-height: 100% !important;\n  width: auto !important;\n  height: auto !important;\n  object-fit: contain !important;\n}\n\n/* Estilos específicos para FULLSCREEN */\n.fullscreen-mode .fullscreen-controls {\n  position: absolute !important;\n  bottom: 20px !important;\n  left: 50% !important;\n  transform: translateX(-50%) !important;\n  background: rgba(0, 0, 0, 0.7) !important;\n  backdrop-filter: blur(10px) !important;\n  padding: 15px 25px !important;\n  border-radius: 25px !important;\n  z-index: 1000 !important;\n}\n\n.fullscreen-mode .fullscreen-controls .control-panel {\n  display: flex !important;\n  flex-direction: row !important;\n  align-items: center !important;\n  gap: 20px !important;\n  grid-template-columns: none !important;\n  grid-template-areas: none !important;\n}\n\n.fullscreen-mode .fullscreen-controls .media-controls {\n  display: flex !important;\n  gap: 15px !important;\n  align-items: center !important;\n}\n\n.fullscreen-mode .fullscreen-controls .additional-controls {\n  display: flex !important;\n  gap: 10px !important;\n  align-items: center !important;\n}\n\n/* Auto-hide controls in fullscreen after 3 seconds */\n.fullscreen-mode .fullscreen-controls {\n  transition: opacity 0.3s ease !important;\n}\n\n.fullscreen-mode .fullscreen-controls:not(:hover) {\n  animation: fadeOutAfterDelay 0.3s ease 3s forwards !important;\n}\n\n@keyframes fadeOutAfterDelay {\n  to {\n    opacity: 0.3;\n  }\n}\n\n.fullscreen-mode .fullscreen-controls:hover {\n  opacity: 1 !important;\n  animation: none !important;\n}\n\n/* Estilos específicos para MODO NORMAL (no fullscreen) */\n.normal-controls {\n  position: fixed !important;\n  bottom: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  background: rgba(0, 0, 0, 0.9) !important;\n  backdrop-filter: blur(10px) !important;\n  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;\n  padding: 15px 20px !important;\n  z-index: 1000 !important;\n}\n\n.normal-controls .control-panel {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  grid-template-areas: \n    \"info controls additional\";\n  gap: 20px;\n  align-items: center;\n}\n\n.normal-controls .playlist-info-controls {\n  grid-area: info;\n  color: white;\n}\n\n.normal-controls .playlist-info-controls h4 {\n  margin: 0 0 4px 0;\n  font-size: 1.1rem;\n  color: white;\n  font-weight: 600;\n}\n\n.normal-controls .playlist-info-controls p {\n  margin: 0;\n  font-size: 0.85rem;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.normal-controls .media-controls {\n  grid-area: controls;\n  justify-self: center;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.normal-controls .progress-info {\n  display: none; /* Ocultar en controles normales para simplicidad */\n}\n\n.normal-controls .additional-controls {\n  grid-area: additional;\n  justify-self: end;\n  display: flex;\n  gap: 8px;\n  align-items: center;\n}\n\n/* Fullscreen Exit Overlay */\n.fullscreen-exit-overlay {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 2000;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  pointer-events: none;\n}\n\n.fullscreen-exit-overlay.visible {\n  opacity: 1;\n  pointer-events: auto;\n}\n\n.exit-fullscreen-btn {\n  background: rgba(255, 255, 255, 0.9) !important;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n}\n\n.exit-fullscreen-btn:hover {\n  background: rgba(255, 255, 255, 1) !important;\n  transform: scale(1.1);\n}\n\n/* Business Logo Overlay */\n.business-logo-overlay {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1500;\n  opacity: 0.8;\n}\n\n.business-logo {\n  max-width: 138px;\n  max-height: 92px;\n  object-fit: contain;\n  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));\n}\n\n/* Animations */\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes slideDown {\n  from {\n    transform: translateY(-100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .header-content {\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .header-text h2 {\n    font-size: 2rem;\n  }\n  \n  .playlists-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .playlist-card {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .control-panel {\n    grid-template-columns: 1fr;\n    gap: 15px;\n    text-align: center;\n  }\n  \n  .progress-info {\n    text-align: center;\n  }\n  \n  .media-details {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .additional-controls {\n    position: relative;\n    top: auto;\n    right: auto;\n    justify-content: center;\n    margin-top: 15px;\n  }\n}\n\n/* Dark Mode Specific Adjustments */\n.body--dark .content-card {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.body--dark .playlist-card {\n  background: rgba(255, 255, 255, 0.03);\n}\n\n.body--dark .playlist-card:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.body--dark .player-controls {\n  background: rgba(255, 255, 255, 0.05);\n  border-color: rgba(255, 255, 255, 0.1);\n}\n\n.player-header::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: radial-gradient(circle at 30% 70%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);\n  pointer-events: none;\n}\n\n.header-content {\n  max-width: 800px;\n  margin: 0 auto;\n  position: relative;\n  z-index: 2;\n}\n\n.header-icon {\n  color: var(--on-primary);\n  margin-bottom: 20px;\n  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.header-text h2 {\n  color: var(--on-primary);\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0 0 12px 0;\n  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n.header-text p {\n  color: var(--on-primary);\n  font-size: 1.2rem;\n  margin: 0;\n  opacity: 0.9;\n}\n\n.main-content {\n  padding: 40px 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.content-card {\n  background: var(--surface);\n  border-radius: 20px;\n  box-shadow: var(--shadow-lg);\n  border: 1px solid var(--border);\n  overflow: hidden;\n}\n\n.loading-section {\n  padding: 80px 20px;\n  text-align: center;\n}\n\n.loading-text {\n  margin-top: 20px;\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n}\n\n.section-header {\n  padding: 30px 30px 20px;\n  border-bottom: 1px solid var(--border);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.section-header h3 {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.playlist-count {\n  color: var(--text-secondary);\n  background: var(--background);\n  padding: 8px 16px;\n  border-radius: 12px;\n  font-size: 0.9rem;\n  border: 1px solid var(--border);\n}\n\n.playlists-grid {\n  padding: 20px;\n  display: grid;\n  gap: 20px;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n}\n\n.playlist-card {\n  display: flex;\n  align-items: center;\n  padding: 24px;\n  background: var(--background);\n  border: 2px solid var(--border);\n  border-radius: 16px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.playlist-card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--shadow-lg);\n  border-color: var(--primary);\n}\n\n.playlist-icon {\n  color: var(--primary);\n  margin-right: 20px;\n  transition: all 0.3s ease;\n}\n\n.playlist-card:hover .playlist-icon {\n  transform: scale(1.1);\n  color: var(--primary-dark);\n}\n\n.playlist-info {\n  flex: 1;\n}\n\n.playlist-info h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.playlist-info p {\n  margin: 0 0 12px 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n  line-height: 1.4;\n}\n\n.playlist-meta {\n  display: flex;\n  gap: 16px;\n  flex-wrap: wrap;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n}\n\n.playlist-action {\n  color: var(--secondary);\n  transition: all 0.3s ease;\n}\n</style>\n\n","/**\n * Player API - Endpoints públicos para el reproductor\n * Usa los endpoints públicos existentes en playlists.py\n */\nimport axios from 'axios'\nimport backendDetector from './backendDetector'\nimport { createProductionBackendDetector } from './productionDetector'\n\n// Configuración inicial de Axios para el reproductor\nlet playerApi = axios.create({\n  baseURL: '', // Se configurará dinámicamente\n  timeout: 15000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\n// Flag para controlar la inicialización\nlet isPlayerAPIInitialized = false\nlet initializationPromise = null\n\n// Función para inicializar la API del reproductor\nconst initializePlayerAPI = async () => {\n  if (isPlayerAPIInitialized) return playerApi\n  if (initializationPromise) return initializationPromise\n\n  initializationPromise = (async () => {\n    try {\n      console.log('🎬 Inicializando API del reproductor...')\n      \n      // NUEVO: Verificar si estamos en modo producción\n      const productionConfig = createProductionBackendDetector()\n      \n      if (productionConfig) {\n        console.log('🎯 Player API en modo producción, usando mismo origen')\n        playerApi.defaults.baseURL = `${productionConfig.baseUrl}/api`\n        \n        // Verificar conectividad\n        await playerApi.get('/health', { timeout: 5000 })\n        \n        isPlayerAPIInitialized = true\n        console.log(`✅ Player API inicializada en modo producción: ${productionConfig.baseUrl}`)\n        return playerApi\n      }\n      \n      // Modo desarrollo: usar detección automática\n      console.log('🔧 Player API en modo desarrollo, detectando backend...')\n      \n      // Detectar backend automáticamente\n      const { baseUrl } = await backendDetector.detectBackend()\n      playerApi.defaults.baseURL = `${baseUrl}/api`\n      \n      // Hacer una prueba rápida de conectividad\n      await playerApi.get('/health', { timeout: 5000 })\n      \n      isPlayerAPIInitialized = true\n      console.log(`✅ API del reproductor inicializada: ${baseUrl}`)\n      \n      return playerApi\n    } catch (error) {\n      console.error('❌ Error inicializando API del reproductor:', error)\n      // Fallback a localhost:8000\n      playerApi.defaults.baseURL = 'http://127.0.0.1:8000/api'\n      \n      try {\n        await playerApi.get('/health', { timeout: 3000 })\n        console.log('✅ API del reproductor inicializada con fallback localhost:8000')\n        isPlayerAPIInitialized = true\n        return playerApi\n      } catch (fallbackError) {\n        console.error('❌ Fallback también falló:', fallbackError)\n        throw new Error('No se pudo conectar con el backend para el reproductor.')\n      }\n    }\n  })()\n\n  return initializationPromise\n}\n\n// Función helper para asegurar inicialización\nconst ensurePlayerAPIInitialized = async () => {\n  if (!isPlayerAPIInitialized) {\n    await initializePlayerAPI()\n  }\n  return playerApi\n}\n\n// API del reproductor (endpoints públicos)\nexport const playerAPI = {\n  // Listar playlists públicas\n  list: async (skip = 0, limit = 100) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/playlists/public?skip=${skip}&limit=${limit}`)\n  },\n  \n  // Alias para compatibilidad con PlayerView\n  listPlaylists: async (skip = 0, limit = 100) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/playlists/public?skip=${skip}&limit=${limit}`)\n  },\n  \n  // Obtener playlist específica para reproductor (con medias y schedules)\n  getPlaylist: async (playlistId) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/playlists/${playlistId}/player`)\n  },\n  \n  // Obtener información básica de una playlist\n  getPlaylistInfo: async (playlistId) => {\n    const api = await ensurePlayerAPIInitialized()\n    return api.get(`/playlists/${playlistId}`)\n  }\n}\n\n// Función para obtener URL de media\nexport const getMediaUrl = async (media) => {\n  if (!media) return ''\n  \n  try {\n    // Verificar si estamos en modo producción primero\n    const productionConfig = createProductionBackendDetector()\n    let baseUrl\n    \n    if (productionConfig) {\n      baseUrl = productionConfig.baseUrl\n    } else {\n      const detected = await backendDetector.detectBackend()\n      baseUrl = detected.baseUrl\n    }\n    \n    // Usar file_url si está disponible, si no construir desde filepath\n    if (media.file_url) {\n      return `${baseUrl}${media.file_url}`\n    }\n    \n    // Fallback: construir URL desde filepath o filename\n    let filepath = media.filepath || media.served_filename || media.filename\n    if (!filepath.startsWith('/uploads/')) {\n      filepath = `/uploads/${filepath}`\n    }\n    \n    return `${baseUrl}${filepath}`\n  } catch (error) {\n    console.error('Error construyendo URL de media:', error)\n    // Fallback URL\n    const filepath = media.file_url || `/uploads/${media.served_filename || media.filename}`\n    return `http://127.0.0.1:8000${filepath}`\n  }\n}\n\nexport { initializePlayerAPI, ensurePlayerAPIInitialized }\n","import backendDetector from './backendDetector'\n\nclass WebSocketService {\n  constructor() {\n    this.socket = null\n    this.connected = false\n    this.listeners = new Map()\n    this.reconnectAttempts = 0\n    this.maxReconnectAttempts = 5\n    this.reconnectDelay = 1000\n    this.detectedBackendUrl = null\n  }\n\n  /**\n   * Obtiene la URL del WebSocket basada en la detección del backend\n   * @returns {Promise<string>}\n   */\n  async getWebSocketUrl() {\n    try {\n      // Usar el backend ya detectado o detectar uno nuevo\n      let backendUrl = this.detectedBackendUrl\n      \n      if (!backendUrl) {\n        const { baseUrl } = await backendDetector.detectBackend()\n        this.detectedBackendUrl = baseUrl\n        backendUrl = baseUrl\n      }\n      \n      // Convertir HTTP a WebSocket URL\n      const wsUrl = backendUrl.replace('http://', 'ws://') + '/ws'\n      console.log(`🎯 URL WebSocket generada: ${wsUrl}`)\n      return wsUrl\n    } catch (error) {\n      console.error('❌ Error obteniendo URL del WebSocket:', error)\n      // Fallback a localhost\n      return 'ws://127.0.0.1:8002/ws'\n    }\n  }\n\n  // Conectar al WebSocket del servidor\n  async connect(serverUrl = null) {\n    try {\n      // Si no se proporciona URL, obtener automáticamente\n      if (!serverUrl) {\n        serverUrl = await this.getWebSocketUrl()\n      }\n      \n      console.log(`🔌 Conectando WebSocket a: ${serverUrl}`)\n      \n      // Crear conexión WebSocket nativa\n      this.socket = new WebSocket(serverUrl)\n\n      // Eventos de conexión\n      this.socket.onopen = () => {\n        console.log('✅ WebSocket conectado')\n        this.connected = true\n        this.reconnectAttempts = 0\n        this.emit('connection-status', { connected: true })\n      }\n\n      this.socket.onclose = (event) => {\n        console.log('❌ WebSocket desconectado:', event.code, event.reason)\n        this.connected = false\n        this.emit('connection-status', { connected: false, reason: event.reason })\n        \n        // Intentar reconectar automáticamente\n        if (this.reconnectAttempts < this.maxReconnectAttempts) {\n          this.reconnectAttempts++\n          console.log(`🔄 Intentando reconectar (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`)\n          setTimeout(() => this.connect(serverUrl), this.reconnectDelay * this.reconnectAttempts)\n        }\n      }\n\n      this.socket.onerror = (error) => {\n        console.error('❌ Error de conexión WebSocket:', error)\n        this.emit('connection-error', error)\n      }\n\n      this.socket.onmessage = (event) => {\n        try {\n          const message = JSON.parse(event.data)\n          if (message.event && message.data) {\n            this.emit(message.event, message.data)\n          }\n        } catch (error) {\n          console.error('Error parseando mensaje WebSocket:', error)\n        }\n      }\n\n    } catch (error) {\n      console.error('Error inicializando WebSocket:', error)\n    }\n  }\n\n  // Desconectar WebSocket\n  disconnect() {\n    if (this.socket) {\n      this.socket.close()\n      this.socket = null\n      this.connected = false\n      this.listeners.clear()\n      console.log('🔌 WebSocket desconectado manualmente')\n    }\n  }\n\n  // Enviar mensaje al servidor\n  send(event, data) {\n    if (this.socket && this.connected) {\n      const message = JSON.stringify({ event, data })\n      this.socket.send(message)\n    } else {\n      console.warn('⚠️ WebSocket no conectado, no se puede enviar:', event)\n    }\n  }\n\n  // Escuchar eventos\n  on(event, callback) {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, [])\n    }\n    this.listeners.get(event).push(callback)\n  }\n\n  // Dejar de escuchar eventos\n  off(event, callback) {\n    if (this.listeners.has(event)) {\n      const callbacks = this.listeners.get(event)\n      const index = callbacks.indexOf(callback)\n      if (index > -1) {\n        callbacks.splice(index, 1)\n      }\n    }\n  }\n\n  // Emitir evento a los listeners locales\n  emit(event, data) {\n    if (this.listeners.has(event)) {\n      this.listeners.get(event).forEach(callback => {\n        try {\n          callback(data)\n        } catch (error) {\n          console.error(`Error en listener para evento ${event}:`, error)\n        }\n      })\n    }\n  }\n\n  // Métodos específicos para Pochtecayotl Signance System\n  \n  // Notificar inicio de upload de archivo\n  notifyUploadStart(fileData) {\n    this.send('media-upload-start', fileData)\n  }\n\n  // Solicitar estado actual de reproducción\n  requestPlaybackStatus() {\n    this.send('get-playback-status')\n  }\n\n  // Enviar comando de control de reproductor\n  sendPlayerCommand(command, data = {}) {\n    this.send('player-command', { command, ...data })\n  }\n\n  // Notificar cambio en programación\n  notifyScheduleChange(scheduleData) {\n    this.send('schedule-change', scheduleData)\n  }\n\n  // Obtener estadísticas del sistema en tiempo real\n  requestSystemStats() {\n    this.send('get-system-stats')\n  }\n}\n\n// Singleton instance\nconst wsService = new WebSocketService()\n\n// Funciones de utilidad\nexport const connectWebSocket = () => {\n  wsService.connect()\n}\n\nexport const disconnectWebSocket = () => {\n  wsService.disconnect()\n}\n\nexport const isWebSocketConnected = () => {\n  return wsService.connected\n}\n\n// Composable para Vue 3\nexport const useWebSocket = () => {\n  return {\n    connect: connectWebSocket,\n    disconnect: disconnectWebSocket,\n    isConnected: isWebSocketConnected,\n    on: (event, callback) => wsService.on(event, callback),\n    off: (event, callback) => wsService.off(event, callback),\n    send: (event, data) => wsService.send(event, data),\n    \n    // Métodos específicos de Signance\n    notifyUploadStart: (fileData) => wsService.notifyUploadStart(fileData),\n    requestPlaybackStatus: () => wsService.requestPlaybackStatus(),\n    sendPlayerCommand: (command, data) => wsService.sendPlayerCommand(command, data),\n    notifyScheduleChange: (scheduleData) => wsService.notifyScheduleChange(scheduleData),\n    requestSystemStats: () => wsService.requestSystemStats()\n  }\n}\n\nexport default wsService\n","import { render } from \"./PlayerView.vue?vue&type=template&id=6bf7c1d2&scoped=true\"\nimport script from \"./PlayerView.vue?vue&type=script&lang=js\"\nexport * from \"./PlayerView.vue?vue&type=script&lang=js\"\n\nimport \"./PlayerView.vue?vue&type=style&index=0&id=6bf7c1d2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bf7c1d2\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-uploader\">\n    <!-- Zona de arrastrar y soltar mejorada -->\n    <div \n      class=\"upload-zone\"\n      :class=\"{ \n        'drag-over': isDragOver, \n        'has-file': selectedFile,\n        'uploading': isUploading \n      }\"\n      @dragover.prevent=\"handleDragOver\"\n      @dragleave.prevent=\"handleDragLeave\" \n      @drop.prevent=\"handleDrop\"\n      @click=\"triggerFileSelect\"\n    >\n      <input \n        ref=\"fileInput\"\n        type=\"file\"\n        accept=\"image/*,video/*\"\n        @change=\"handleFileSelect\"\n        class=\"hidden-input\"\n      />\n      \n      <!-- Estado normal - sin archivo -->\n      <div v-if=\"!selectedFile && !isUploading\" class=\"upload-prompt\">\n        <div class=\"upload-icon\">\n          <q-icon name=\"cloud_upload\" size=\"3rem\" />\n        </div>\n        <h4>Arrastra archivos aquí</h4>\n        <p>o haz clic para seleccionar</p>\n        <div class=\"supported-formats\">\n          <q-chip size=\"sm\" color=\"primary\" text-color=\"white\">JPG</q-chip>\n          <q-chip size=\"sm\" color=\"primary\" text-color=\"white\">PNG</q-chip>\n          <q-chip size=\"sm\" color=\"secondary\" text-color=\"white\">MP4</q-chip>\n          <q-chip size=\"sm\" color=\"secondary\" text-color=\"white\">WebM</q-chip>\n        </div>\n        <div class=\"size-limit\">Máximo 100MB</div>\n      </div>\n\n      <!-- Archivo seleccionado -->\n      <div v-else-if=\"selectedFile && !isUploading\" class=\"file-selected\">\n        <div class=\"file-preview\">\n          <!-- Vista previa de imagen -->\n          <div v-if=\"previewUrl && metadata.media_type === 'image'\" class=\"image-preview\">\n            <img :src=\"previewUrl\" :alt=\"selectedFile.name\" />\n          </div>\n          <!-- Icono para videos y otros archivos -->\n          <div v-else class=\"file-icon\">\n            <q-icon :name=\"getFileIcon(selectedFile.type)\" size=\"3rem\" />\n          </div>\n        </div>\n        \n        <div class=\"file-details\">\n          <h4>{{ selectedFile.name }}</h4>\n          <div class=\"file-meta\">\n            <q-chip size=\"sm\" :color=\"getTypeColor(metadata.media_type)\" text-color=\"white\">\n              {{ metadata.media_type?.toUpperCase() || 'ARCHIVO' }}\n            </q-chip>\n            <span class=\"file-size\">{{ formatFileSize(selectedFile.size) }}</span>\n          </div>\n        </div>\n\n        <q-btn \n          round \n          flat \n          icon=\"close\" \n          @click.stop=\"resetForm\"\n          class=\"remove-file\"\n          size=\"sm\"\n        />\n      </div>\n\n      <!-- Estado de subida -->\n      <div v-else-if=\"isUploading\" class=\"upload-progress\">\n        <div class=\"progress-circle\">\n          <q-circular-progress\n            :value=\"uploadProgress.percent\"\n            size=\"60px\"\n            :thickness=\"0.2\"\n            color=\"primary\"\n            track-color=\"grey-3\"\n            class=\"q-ma-md\"\n          />\n          <div class=\"progress-text\">\n            {{ Math.round(uploadProgress.percent) }}%\n          </div>\n        </div>\n        <h4>{{ uploadProgress.message }}</h4>\n        <p>{{ selectedFile?.name }}</p>\n      </div>\n    </div>\n\n    <!-- Formulario de metadatos mejorado -->\n    <div v-if=\"selectedFile && !isUploading\" class=\"metadata-form\">\n      <div class=\"form-section\">\n        <h5>Detalles del archivo</h5>\n        \n        <div class=\"form-grid\">\n          <q-input\n            v-model=\"metadata.filename\"\n            label=\"Nombre del archivo\"\n            outlined\n            class=\"filename-input\"\n            :rules=\"[val => !!val || 'El nombre es requerido']\"\n          >\n            <template v-slot:prepend>\n              <q-icon name=\"edit\" />\n            </template>\n          </q-input>\n\n          <q-select\n            v-model=\"metadata.media_type\"\n            :options=\"mediaTypeOptions\"\n            label=\"Tipo de contenido\"\n            outlined\n            emit-value\n            map-options\n            :rules=\"[val => !!val || 'Selecciona el tipo']\"\n          >\n            <template v-slot:prepend>\n              <q-icon name=\"category\" />\n            </template>\n          </q-select>\n\n          <q-input\n            v-model.number=\"metadata.duration\"\n            label=\"Duración (segundos)\"\n            type=\"number\"\n            outlined\n            :hint=\"metadata.media_type === 'image' ? 'Para imágenes: tiempo de visualización' : 'Se detectará automáticamente para videos'\"\n          >\n            <template v-slot:prepend>\n              <q-icon name=\"schedule\" />\n            </template>\n          </q-input>\n        </div>\n      </div>\n\n      <!-- Acciones -->\n      <div class=\"form-actions\">\n        <q-btn\n          label=\"Cancelar\"\n          color=\"grey-7\"\n          flat\n          @click=\"resetForm\"\n          :disable=\"isUploading\"\n          class=\"cancel-btn\"\n        />\n        <q-btn\n          label=\"Subir archivo\"\n          color=\"primary\"\n          unelevated\n          @click=\"uploadFile\"\n          :loading=\"isUploading\"\n          :disable=\"!isFormValid\"\n          class=\"upload-btn\"\n        >\n          <template v-slot:loading>\n            Subiendo...\n          </template>\n        </q-btn>\n      </div>\n    </div>\n\n    <!-- Mensaje de éxito -->\n    <div v-if=\"uploadSuccess\" class=\"success-message\">\n      <q-icon name=\"check_circle\" size=\"2rem\" color=\"positive\" />\n      <h4>¡Archivo subido correctamente!</h4>\n      <p>{{ uploadedFileName }} está listo para usar</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, nextTick } from 'vue'\nimport { useToast } from 'vue-toastification'\nimport { mediaAPI, handleFileError } from '../services/api'\n\nexport default {\n  name: 'MediaUploader',\n  emits: ['upload-complete', 'upload-error', 'uploaded'],\n  setup(props, { emit }) {\n    const toast = useToast()\n\n    // Referencias del DOM\n    const fileInput = ref(null)\n\n    // Estados reactivos\n    const selectedFile = ref(null)\n    const isUploading = ref(false)\n    const isDragOver = ref(false)\n    const previewUrl = ref(null)\n    const uploadSuccess = ref(false)\n    const uploadedFileName = ref('')\n    \n    const metadata = reactive({\n      filename: '',\n      media_type: '',\n      duration: 5\n    })\n\n    const uploadProgress = reactive({\n      show: false,\n      percent: 0,\n      message: ''\n    })\n\n    // Opciones de tipo de media\n    const mediaTypeOptions = [\n      { label: 'Imagen', value: 'image' },\n      { label: 'Video', value: 'video' }\n    ]\n\n    // Computed\n    const isFormValid = computed(() => {\n      return selectedFile.value && \n             metadata.filename.trim() && \n             metadata.media_type &&\n             metadata.duration > 0\n    })\n\n    // Manejo de archivos\n    const triggerFileSelect = () => {\n      if (!isUploading.value) {\n        fileInput.value?.click()\n      }\n    }\n\n    const handleFileSelect = (event) => {\n      const file = event.target.files?.[0] || event\n      if (file && file instanceof File) {\n        processFile(file)\n      }\n    }\n\n    const processFile = (file) => {\n      // Validar tamaño\n      if (file.size > 104857600) { // 100MB\n        toast.error('El archivo es demasiado grande. Máximo 100MB.')\n        return\n      }\n\n      // Validar tipo\n      if (!file.type.startsWith('image/') && !file.type.startsWith('video/')) {\n        toast.error('Tipo de archivo no soportado. Solo imágenes y videos.')\n        return\n      }\n\n      selectedFile.value = file\n      metadata.filename = file.name.replace(/\\.[^/.]+$/, \"\") // Remover extensión\n      \n      // Detectar tipo automáticamente\n      if (file.type.startsWith('image/')) {\n        metadata.media_type = 'image'\n        metadata.duration = 5 // Duración por defecto para imágenes\n        createImagePreview(file)\n      } else if (file.type.startsWith('video/')) {\n        metadata.media_type = 'video'\n        metadata.duration = 30 // Valor temporal, será detectado por FFmpeg\n        previewUrl.value = null\n      }\n\n      uploadSuccess.value = false\n    }\n\n    const createImagePreview = (file) => {\n      const reader = new FileReader()\n      reader.onload = (e) => {\n        previewUrl.value = e.target.result\n      }\n      reader.readAsDataURL(file)\n    }\n\n    // Manejo de drag and drop\n    const handleDragOver = (event) => {\n      event.preventDefault()\n      isDragOver.value = true\n    }\n\n    const handleDragLeave = (event) => {\n      event.preventDefault()\n      isDragOver.value = false\n    }\n\n    const handleDrop = (event) => {\n      event.preventDefault()\n      isDragOver.value = false\n      \n      const files = event.dataTransfer.files\n      if (files.length > 0) {\n        processFile(files[0])\n      }\n    }\n\n    // Utilidades\n    const getFileIcon = (mimeType) => {\n      if (!mimeType) return 'description'\n      if (mimeType.startsWith('image/')) return 'image'\n      if (mimeType.startsWith('video/')) return 'videocam'\n      return 'description'\n    }\n\n    const getTypeColor = (type) => {\n      switch (type) {\n        case 'image': return 'orange'\n        case 'video': return 'purple'\n        default: return 'grey'\n      }\n    }\n\n    const formatFileSize = (bytes) => {\n      if (bytes === 0) return '0 Bytes'\n      \n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      \n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    // Subir archivo\n    const uploadFile = async () => {\n      if (!isFormValid.value) {\n        toast.warning('Completa todos los campos requeridos')\n        return\n      }\n\n      isUploading.value = true\n      uploadProgress.show = true\n      uploadProgress.percent = 0\n      uploadProgress.message = 'Preparando subida...'\n\n      try {\n        // Simular progreso inicial\n        const progressInterval = setInterval(() => {\n          if (uploadProgress.percent < 85) {\n            uploadProgress.percent += Math.random() * 15\n            if (uploadProgress.percent < 30) {\n              uploadProgress.message = 'Analizando archivo...'\n            } else if (uploadProgress.percent < 60) {\n              uploadProgress.message = 'Subiendo archivo...'\n            } else {\n              uploadProgress.message = 'Procesando multimedia...'\n            }\n          }\n        }, 300)\n\n        const fileData = {\n          file: selectedFile.value,\n          filename: metadata.filename,\n          media_type: metadata.media_type,\n          duration: metadata.duration\n        }\n\n        const response = await mediaAPI.upload(fileData)\n\n        clearInterval(progressInterval)\n        uploadProgress.percent = 100\n        uploadProgress.message = '¡Completado!'\n\n        // Mostrar éxito\n        uploadedFileName.value = metadata.filename\n        uploadSuccess.value = true\n        \n        toast.success(`✅ ${metadata.filename} subido correctamente`)\n        \n        // Emitir eventos\n        emit('upload-complete', response.data)\n        emit('uploaded', response.data)\n        \n        // Reset después de mostrar éxito\n        setTimeout(() => {\n          resetForm()\n        }, 3000)\n\n      } catch (error) {\n        console.error('Error subiendo archivo:', error)\n        handleFileError(error, toast)\n        emit('upload-error', error)\n        uploadProgress.message = 'Error en la subida'\n        \n      } finally {\n        isUploading.value = false\n        setTimeout(() => {\n          uploadProgress.show = false\n        }, 2000)\n      }\n    }\n\n    // Resetear formulario\n    const resetForm = () => {\n      selectedFile.value = null\n      metadata.filename = ''\n      metadata.media_type = ''\n      metadata.duration = 5\n      previewUrl.value = null\n      uploadProgress.show = false\n      uploadProgress.percent = 0\n      uploadSuccess.value = false\n      uploadedFileName.value = ''\n      isDragOver.value = false\n      \n      // Limpiar input de archivo\n      if (fileInput.value) {\n        fileInput.value.value = ''\n      }\n    }\n\n    return {\n      // Refs\n      fileInput,\n      \n      // Estados\n      selectedFile,\n      metadata,\n      isUploading,\n      isDragOver,\n      previewUrl,\n      uploadProgress,\n      uploadSuccess,\n      uploadedFileName,\n      \n      // Computed\n      isFormValid,\n      \n      // Opciones\n      mediaTypeOptions,\n      \n      // Métodos\n      triggerFileSelect,\n      handleFileSelect,\n      handleDragOver,\n      handleDragLeave,\n      handleDrop,\n      getFileIcon,\n      getTypeColor,\n      formatFileSize,\n      uploadFile,\n      resetForm\n    }\n  }\n}\n</script>\n \n <style scoped>\n.media-uploader {\n  width: 100%;\n}\n\n/* Zona de subida principal */\n.upload-zone {\n  position: relative;\n  min-height: 200px;\n  border: 2px dashed var(--border);\n  border-radius: 16px;\n  background: var(--surface);\n  transition: all 0.3s ease;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 24px;\n  overflow: hidden;\n}\n\n.upload-zone:hover {\n  border-color: var(--primary);\n  background: rgba(var(--primary-rgb), 0.02);\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(var(--primary-rgb), 0.15);\n}\n\n.upload-zone.drag-over {\n  border-color: var(--primary);\n  background: rgba(var(--primary-rgb), 0.08);\n  border-style: solid;\n  box-shadow: 0 0 20px rgba(var(--primary-rgb), 0.2);\n}\n\n.upload-zone.has-file {\n  border-style: solid;\n  border-color: var(--positive);\n  background: rgba(var(--positive-rgb), 0.02);\n  min-height: 160px;\n}\n\n.upload-zone.uploading {\n  border-color: var(--warning);\n  background: rgba(var(--warning-rgb), 0.02);\n  cursor: not-allowed;\n}\n\n.hidden-input {\n  display: none;\n}\n\n/* Estado inicial - prompt */\n.upload-prompt {\n  text-align: center;\n  padding: 32px 24px;\n}\n\n.upload-icon {\n  margin-bottom: 16px;\n  color: var(--text-secondary);\n}\n\n.upload-prompt h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.upload-prompt p {\n  margin: 0 0 20px 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n}\n\n.supported-formats {\n  display: flex;\n  gap: 8px;\n  justify-content: center;\n  margin-bottom: 12px;\n  flex-wrap: wrap;\n}\n\n.size-limit {\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n/* Archivo seleccionado */\n.file-selected {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  padding: 24px;\n  width: 100%;\n  position: relative;\n}\n\n.file-preview {\n  flex-shrink: 0;\n  width: 80px;\n  height: 80px;\n  border-radius: 12px;\n  overflow: hidden;\n  background: var(--background);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.image-preview img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n\n.file-icon {\n  color: var(--text-secondary);\n}\n\n.file-details {\n  flex-grow: 1;\n  min-width: 0;\n}\n\n.file-details h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n  word-break: break-word;\n}\n\n.file-meta {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.file-size {\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n}\n\n.remove-file {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  background: rgba(255, 255, 255, 0.9);\n  backdrop-filter: blur(4px);\n}\n\n/* Progreso de subida */\n.upload-progress {\n  text-align: center;\n  padding: 32px 24px;\n  position: relative;\n}\n\n.progress-circle {\n  position: relative;\n  display: inline-block;\n  margin-bottom: 16px;\n}\n\n.progress-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: 600;\n  font-size: 0.9rem;\n  color: var(--text-primary);\n}\n\n.upload-progress h4 {\n  margin: 0 0 8px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.upload-progress p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n/* Formulario de metadatos */\n.metadata-form {\n  background: var(--surface);\n  border: 1px solid var(--border);\n  border-radius: 16px;\n  overflow: hidden;\n  margin-bottom: 24px;\n}\n\n.form-section {\n  padding: 24px;\n  border-bottom: 1px solid var(--border);\n}\n\n.form-section h5 {\n  margin: 0 0 20px 0;\n  font-size: 1.1rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.form-grid {\n  display: grid;\n  gap: 16px;\n}\n\n.filename-input {\n  grid-column: 1 / -1;\n}\n\n.form-actions {\n  padding: 20px 24px;\n  display: flex;\n  gap: 12px;\n  justify-content: flex-end;\n  background: var(--background);\n}\n\n.cancel-btn {\n  min-width: 100px;\n}\n\n.upload-btn {\n  min-width: 140px;\n  font-weight: 600;\n}\n\n/* Mensaje de éxito */\n.success-message {\n  text-align: center;\n  padding: 32px 24px;\n  background: rgba(var(--positive-rgb, 33, 186, 69), 0.05);\n  border: 1px solid rgba(var(--positive-rgb, 33, 186, 69), 0.2);\n  border-radius: 16px;\n  margin-bottom: 24px;\n}\n\n.success-message h4 {\n  margin: 16px 0 8px 0;\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: var(--positive);\n}\n\n.success-message p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.95rem;\n}\n\n/* Estilos para inputs del formulario */\n.form-grid .q-field :deep(.q-field__control) {\n  background: var(--background);\n  border-color: var(--border);\n}\n\n.form-grid .q-field :deep(.q-field__native) {\n  color: var(--text-primary) !important;\n}\n\n.form-grid .q-field :deep(.q-field__label) {\n  color: var(--text-secondary) !important;\n}\n\n.form-grid .q-field :deep(.q-field__control.q-field__control--focused .q-field__label) {\n  color: var(--primary) !important;\n}\n\n.form-grid .q-field :deep(.q-field__prepend) {\n  color: var(--primary);\n}\n\n.form-grid .q-field :deep(.q-field__append) {\n  color: var(--text-secondary);\n}\n\n.form-grid .q-field :deep(.q-field__hint) {\n  color: var(--text-secondary) !important;\n}\n\n/* Asegurar que los selects también sean legibles */\n.form-grid .q-select :deep(.q-field__native span) {\n  color: var(--text-primary) !important;\n}\n\n.form-grid .q-select :deep(.q-field__control) {\n  background: var(--background) !important;\n}\n\n/* Dropdown del select */\n.q-menu :deep(.q-item) {\n  color: var(--text-primary) !important;\n}\n\n.q-menu :deep(.q-item__label) {\n  color: var(--text-primary) !important;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .upload-zone {\n    min-height: 160px;\n  }\n  \n  .upload-prompt {\n    padding: 24px 16px;\n  }\n  \n  .upload-prompt h4 {\n    font-size: 1.1rem;\n  }\n  \n  .file-selected {\n    padding: 20px 16px;\n    gap: 16px;\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .file-preview {\n    width: 60px;\n    height: 60px;\n  }\n  \n  .form-section {\n    padding: 20px 16px;\n  }\n  \n  .form-actions {\n    padding: 16px;\n    flex-direction: column;\n  }\n  \n  .form-actions .q-btn {\n    width: 100%;\n  }\n}\n\n/* Dark mode */\n.body--dark .upload-zone {\n  border-color: var(--border);\n  background: var(--surface);\n}\n\n.body--dark .upload-zone:hover {\n  background: rgba(var(--primary-rgb), 0.05);\n}\n\n.body--dark .metadata-form {\n  background: var(--surface);\n  border-color: var(--border);\n}\n\n.body--dark .form-section {\n  border-color: var(--border);\n}\n\n.body--dark .form-actions {\n  background: var(--background);\n}\n</style>\n","import { render } from \"./MediaUploader.vue?vue&type=template&id=65b3c1cc&scoped=true\"\nimport script from \"./MediaUploader.vue?vue&type=script&lang=js\"\nexport * from \"./MediaUploader.vue?vue&type=script&lang=js\"\n\nimport \"./MediaUploader.vue?vue&type=style&index=0&id=65b3c1cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65b3c1cc\"]])\n\nexport default __exports__","// Corrección para el problema de detección de backend en producción\n// Cuando el frontend se sirve desde /static/, está en el mismo servidor que el backend\n\nexport function createProductionBackendDetector() {\n  const currentOrigin = window.location.origin;\n  const isServedFromBackend = window.location.pathname.startsWith('/') && \n                              !window.location.hostname.includes('localhost:8080');\n  \n  console.log('🔍 Detectando contexto del frontend...');\n  console.log(`   📍 Origin: ${currentOrigin}`);\n  console.log(`   🌐 Hostname: ${window.location.hostname}`);\n  console.log(`   📂 Pathname: ${window.location.pathname}`);\n  console.log(`   🔗 Servido desde backend: ${isServedFromBackend}`);\n  \n  if (isServedFromBackend) {\n    // El frontend se sirve desde el backend, usar el mismo origen\n    console.log('✅ Frontend servido desde backend, usando mismo origen');\n    return {\n      baseUrl: currentOrigin,\n      port: parseInt(window.location.port) || (window.location.protocol === 'https:' ? 443 : 80),\n      isProduction: true\n    };\n  } else {\n    // Modo desarrollo, usar detección automática\n    console.log('🔧 Modo desarrollo detectado, usando auto-detección');\n    return null; // Usar backendDetector normal\n  }\n}\n\n// Función para detectar si necesitamos usar URLs relativas o absolutas\nexport function getAPIBaseURL() {\n  const productionConfig = createProductionBackendDetector();\n  \n  if (productionConfig) {\n    // En producción, usar mismo origen\n    return `${productionConfig.baseUrl}/api`;\n  } else {\n    // En desarrollo, será configurado por backendDetector\n    return null;\n  }\n}\n","<template>\n  <q-btn\n    :icon=\"isDarkMode ? 'wb_sunny' : 'nights_stay'\"\n    @click=\"toggleTheme\"\n    :class=\"themeToggleClass\"\n    flat\n    square\n    size=\"md\"\n  >\n  </q-btn>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useTheme } from '../composables/useTheme'\n\nexport default {\n  name: 'ThemeToggle',\n  setup() {\n    const { isDarkMode, toggleTheme } = useTheme()\n    \n    const themeToggleClass = computed(() => ({\n      'theme-toggle': true,\n      'theme-toggle--dark': isDarkMode.value,\n      'theme-toggle--light': !isDarkMode.value\n    }))\n    \n    return {\n      isDarkMode,\n      toggleTheme,\n      themeToggleClass\n    }\n  }\n}\n</script>\n\n<style scoped>\n.theme-toggle {\n  transition: all 0.3s ease;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  color: var(--text-primary);\n  border-radius: 8px !important;\n  width: 44px !important;\n  height: 44px !important;\n  min-width: 44px !important;\n  min-height: 44px !important;\n}\n\n.theme-toggle:hover {\n  transform: scale(1.05);\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.theme-toggle--dark {\n  color: #fbbf24 !important;\n  background: rgba(30, 30, 30, 0.8) !important;\n  border: 1px solid rgba(251, 191, 36, 0.3) !important;\n}\n\n.theme-toggle--dark:hover {\n  background: rgba(30, 30, 30, 0.9) !important;\n  border: 1px solid rgba(251, 191, 36, 0.5) !important;\n}\n\n.theme-toggle--light {\n  color: #374151 !important;\n  background: rgba(255, 255, 255, 0.8) !important;\n  border: 1px solid rgba(55, 65, 81, 0.2) !important;\n}\n\n.theme-toggle--light:hover {\n  background: rgba(255, 255, 255, 0.9) !important;\n  border: 1px solid rgba(55, 65, 81, 0.3) !important;\n}\n</style>\n","import { render } from \"./ThemeToggle.vue?vue&type=template&id=410b47f5&scoped=true\"\nimport script from \"./ThemeToggle.vue?vue&type=script&lang=js\"\nexport * from \"./ThemeToggle.vue?vue&type=script&lang=js\"\n\nimport \"./ThemeToggle.vue?vue&type=style&index=0&id=410b47f5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-410b47f5\"]])\n\nexport default __exports__","<template>\n  <q-dialog :model-value=\"modelValue\" @update:model-value=\"$emit('update:modelValue', $event)\" persistent>\n    <q-card style=\"min-width: 800px; max-width: 1000px;\" :class=\"{ 'bg-dark text-white': isDark }\">\n      <q-card-section>\n        <div class=\"text-h6\">Gestionar Medio - {{ media?.filename }}</div>\n      </q-card-section>\n      <q-card-section class=\"q-pt-none\">\n        <q-input v-model=\"form.filename\" label=\"Nombre del archivo\" outlined class=\"q-mb-md\" />\n        <q-input v-model=\"form.description\" label=\"Descripción\" type=\"textarea\" outlined rows=\"3\" />\n      </q-card-section>\n      <q-card-actions align=\"right\">\n        <q-btn flat label=\"Cancelar\" @click=\"$emit('close')\" />\n        <q-btn color=\"primary\" label=\"Guardar\" :loading=\"loading\" @click=\"$emit('save')\" />\n      </q-card-actions>\n    </q-card>\n  </q-dialog>\n</template>\n\n<script setup>\ndefineProps({\n  modelValue: Boolean,\n  media: Object,\n  form: Object,\n  loading: Boolean,\n  isDark: Boolean\n})\n\ndefineEmits(['update:modelValue', 'save', 'close'])\n</script>\n","import script from \"./EditMediaDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditMediaDialog.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { ref, computed, watch } from 'vue'\n\n// Estado global del tema\nconst isDarkMode = ref(false)\n\n// Cargar el tema guardado al inicializar\nconst savedTheme = localStorage.getItem('signance-theme')\nif (savedTheme) {\n  isDarkMode.value = savedTheme === 'dark'\n} else {\n  // Detectar preferencia del sistema\n  isDarkMode.value = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches\n}\n\n// Definir las variables CSS del tema\nconst setCSSVariables = (dark) => {\n  const root = document.documentElement\n  \n  if (dark) {\n    // Modo Oscuro\n    root.style.setProperty('--primary', '#FFAA93')\n    root.style.setProperty('--primary-dark', '#CC7A66')\n    root.style.setProperty('--primary-light', '#FFCCB3')\n    root.style.setProperty('--secondary', '#5A9DCB')\n    root.style.setProperty('--accent', '#D1B05F')\n    root.style.setProperty('--background', '#121212')\n    root.style.setProperty('--surface', '#1E1E1E')\n    root.style.setProperty('--on-primary', '#000000')\n    root.style.setProperty('--on-secondary', '#FFFFFF')\n    root.style.setProperty('--text-primary', '#E0E0E0')\n    root.style.setProperty('--text-secondary', '#B0B0B0')\n    root.style.setProperty('--border', '#2C2C2C')\n    root.style.setProperty('--error', '#FF6F6F')\n    root.style.setProperty('--success', '#66BB6A')\n    root.style.setProperty('--warning', '#FFA726')\n    root.style.setProperty('--info', '#42A5F5')\n  } else {\n    // Modo Claro\n    root.style.setProperty('--primary', '#F0907B')\n    root.style.setProperty('--primary-dark', '#D66E58')\n    root.style.setProperty('--primary-light', '#FAC3B8')\n    root.style.setProperty('--secondary', '#7BC5F0')\n    root.style.setProperty('--accent', '#F0D27B')\n    root.style.setProperty('--background', '#FFFFFF')\n    root.style.setProperty('--surface', '#F5F5F5')\n    root.style.setProperty('--on-primary', '#FFFFFF')\n    root.style.setProperty('--on-secondary', '#FFFFFF')\n    root.style.setProperty('--text-primary', '#212121')\n    root.style.setProperty('--text-secondary', '#424242')\n    root.style.setProperty('--border', '#E0E0E0')\n    root.style.setProperty('--error', '#E53935')\n    root.style.setProperty('--success', '#43A047')\n    root.style.setProperty('--warning', '#FB8C00')\n    root.style.setProperty('--info', '#1E88E5')\n  }\n}\n\n// Aplicar el tema al documento\nconst applyTheme = (dark) => {\n  setCSSVariables(dark)\n  if (dark) {\n    document.documentElement.setAttribute('data-theme', 'dark')\n    document.body.style.backgroundColor = '#121212'\n    document.body.style.color = '#E0E0E0'\n    document.body.classList.add('dark-mode')\n    document.body.classList.remove('light-mode')\n  } else {\n    document.documentElement.removeAttribute('data-theme')\n    document.body.style.backgroundColor = '#FFFFFF'\n    document.body.style.color = '#212121'\n    document.body.classList.add('light-mode')\n    document.body.classList.remove('dark-mode')\n  }\n}\n\n// Aplicar tema inicial\napplyTheme(isDarkMode.value)\n\n// Observar cambios en el tema\nwatch(isDarkMode, (newValue) => {\n  localStorage.setItem('signance-theme', newValue ? 'dark' : 'light')\n  applyTheme(newValue)\n})\n\n// Variables CSS computadas para el tema\nconst themeVars = computed(() => ({\n  // Colores principales\n  primaryColor: isDarkMode.value ? '#FFAA93' : '#F0907B',\n  primaryDark: isDarkMode.value ? '#CC7A66' : '#D66E58',\n  primaryLight: isDarkMode.value ? '#FFCCB3' : '#FAC3B8',\n  secondaryColor: isDarkMode.value ? '#5A9DCB' : '#7BC5F0',\n  accentColor: isDarkMode.value ? '#D1B05F' : '#F0D27B',\n  \n  // Colores de estado\n  errorColor: isDarkMode.value ? '#FF6F6F' : '#E53935',\n  successColor: isDarkMode.value ? '#66BB6A' : '#43A047',\n  warningColor: isDarkMode.value ? '#FFA726' : '#FB8C00',\n  infoColor: isDarkMode.value ? '#42A5F5' : '#1E88E5',\n  \n  // Colores de fondo y superficie\n  backgroundColor: isDarkMode.value ? '#121212' : '#FFFFFF',\n  surfaceColor: isDarkMode.value ? '#1E1E1E' : '#F5F5F5',\n  cardColor: isDarkMode.value ? '#1E1E1E' : '#FFFFFF',\n  \n  // Colores de texto\n  textPrimary: isDarkMode.value ? '#E0E0E0' : '#212121',\n  textSecondary: isDarkMode.value ? '#B0B0B0' : '#424242',\n  onPrimary: isDarkMode.value ? '#000000' : '#FFFFFF',\n  onSecondary: isDarkMode.value ? '#FFFFFF' : '#FFFFFF',\n  \n  // Bordes y divisores\n  borderColor: isDarkMode.value ? '#2C2C2C' : '#E0E0E0',\n  \n  // Gradientes elegantes\n  gradientPrimary: isDarkMode.value \n    ? 'linear-gradient(135deg, #FFAA93 0%, #CC7A66 100%)'\n    : 'linear-gradient(135deg, #F0907B 0%, #D66E58 100%)',\n  gradientSecondary: isDarkMode.value\n    ? 'linear-gradient(135deg, #5A9DCB 0%, #42A5F5 100%)'\n    : 'linear-gradient(135deg, #7BC5F0 0%, #1E88E5 100%)',\n  gradientAccent: isDarkMode.value\n    ? 'linear-gradient(135deg, #D1B05F 0%, #FFA726 100%)'\n    : 'linear-gradient(135deg, #F0D27B 0%, #FB8C00 100%)',\n  \n  // Sombras adaptativas\n  shadowSm: isDarkMode.value \n    ? '0 1px 3px 0 rgba(0, 0, 0, 0.5)' \n    : '0 1px 3px 0 rgba(0, 0, 0, 0.1)',\n  shadowMd: isDarkMode.value \n    ? '0 4px 6px -1px rgba(0, 0, 0, 0.4)' \n    : '0 4px 6px -1px rgba(0, 0, 0, 0.1)',\n  shadowLg: isDarkMode.value \n    ? '0 10px 15px -3px rgba(0, 0, 0, 0.4)' \n    : '0 10px 15px -3px rgba(0, 0, 0, 0.1)',\n  shadowXl: isDarkMode.value\n    ? '0 20px 25px -5px rgba(0, 0, 0, 0.5)'\n    : '0 20px 25px -5px rgba(0, 0, 0, 0.1)',\n  \n  // Estados hover\n  hoverColor: isDarkMode.value ? '#2C2C2C' : '#F5F5F5',\n  hoverPrimary: isDarkMode.value ? 'rgba(255, 170, 147, 0.1)' : 'rgba(240, 144, 123, 0.1)',\n  hoverSecondary: isDarkMode.value ? 'rgba(90, 157, 203, 0.1)' : 'rgba(123, 197, 240, 0.1)'\n}))\n\n// Función para alternar tema\nconst toggleTheme = () => {\n  isDarkMode.value = !isDarkMode.value\n}\n\n// Función para cargar tema (para compatibilidad)\nconst loadTheme = () => {\n  applyTheme(isDarkMode.value)\n}\n\nexport function useTheme() {\n  return {\n    isDarkMode,\n    toggleTheme,\n    loadTheme,\n    themeVars\n  }\n}\n","// Utilidad para forzar la carga correcta de Material Icons\n\nexport function initializeMaterialIcons() {\n  console.log('🎨 Inicializando Material Icons...')\n  \n  // 1. Asegurar que Google Fonts esté cargado\n  loadGoogleFonts()\n  \n  // 2. Aplicar CSS correctivo\n  applyCorrectiveCSS()\n  \n  // 3. Verificar carga después de un delay\n  setTimeout(verifyIconsLoaded, 1000)\n}\n\nfunction loadGoogleFonts() {\n  // Verificar si ya existe un link a Google Fonts\n  const existingLink = document.querySelector('link[href*=\"fonts.googleapis.com\"][href*=\"Material+Icons\"]')\n  \n  if (!existingLink) {\n    console.log('📥 Cargando Material Icons desde Google Fonts...')\n    \n    const link = document.createElement('link')\n    link.rel = 'stylesheet'\n    link.href = 'https://fonts.googleapis.com/icon?family=Material+Icons&display=swap'\n    link.onload = () => {\n      console.log('✅ Material Icons cargado desde Google Fonts')\n    }\n    link.onerror = () => {\n      console.error('❌ Error al cargar Material Icons desde Google Fonts')\n    }\n    \n    document.head.appendChild(link)\n  }\n}\n\nfunction applyCorrectiveCSS() {\n  console.log('🎨 Aplicando CSS correctivo para iconos...')\n  \n  const css = `\n    /* Corrección global para Material Icons sin interferir con tamaños */\n    .material-icons {\n      font-family: 'Material Icons' !important;\n      font-weight: normal !important;\n      font-style: normal !important;\n      line-height: 1 !important;\n      letter-spacing: normal !important;\n      text-transform: none !important;\n      display: inline-block !important;\n      white-space: nowrap !important;\n      word-wrap: normal !important;\n      direction: ltr !important;\n      font-feature-settings: 'liga' !important;\n      -webkit-font-feature-settings: 'liga' !important;\n      -webkit-font-smoothing: antialiased !important;\n      -moz-osx-font-smoothing: grayscale !important;\n    }\n    \n    /* Corrección específica para Quasar Icons - mantener tamaños */\n    .q-icon {\n      font-family: 'Material Icons' !important;\n      font-feature-settings: 'liga' !important;\n      -webkit-font-feature-settings: 'liga' !important;\n      /* NO sobrescribir font-size, width, height - dejar que Quasar los maneje */\n    }\n    \n    /* Corrección para iconos que aparecen como texto */\n    .q-icon:not(.q-icon--svg) {\n      font-family: 'Material Icons' !important;\n    }\n  `\n  \n  const style = document.createElement('style')\n  style.id = 'material-icons-fix'\n  style.textContent = css\n  document.head.appendChild(style)\n}\n\nfunction verifyIconsLoaded() {\n  console.log('🔍 Verificando carga de iconos...')\n  \n  // Crear elemento de prueba\n  const testElement = document.createElement('i')\n  testElement.className = 'material-icons'\n  testElement.textContent = 'home'\n  testElement.style.position = 'absolute'\n  testElement.style.left = '-9999px'\n  testElement.style.fontSize = '24px'\n  \n  document.body.appendChild(testElement)\n  \n  setTimeout(() => {\n    const rect = testElement.getBoundingClientRect()\n    const computedStyle = window.getComputedStyle(testElement)\n    \n    console.log('📊 Resultados de verificación:', {\n      width: rect.width,\n      height: rect.height,\n      fontFamily: computedStyle.fontFamily,\n      fontSize: computedStyle.fontSize,\n      rendered: rect.width > 0 && rect.height > 0\n    })\n    \n    if (rect.width > 0 && rect.height > 0) {\n      console.log('✅ Material Icons cargado correctamente')\n    } else {\n      console.warn('⚠️ Material Icons puede no estar cargando correctamente')\n      // Intentar una segunda corrección\n      forceIconCorrection()\n    }\n    \n    document.body.removeChild(testElement)\n  }, 100)\n}\n\nfunction forceIconCorrection() {\n  console.log('🔧 Aplicando corrección forzada de iconos...')\n  \n  // Forzar recarga de todos los iconos\n  const iconElements = document.querySelectorAll('.q-icon')\n  iconElements.forEach((element, index) => {\n    element.style.fontFamily = '\"Material Icons\" !important'\n    \n    // Si el elemento contiene texto (nombre del icono), puede ser que no se esté renderizando\n    if (element.textContent && element.textContent.length > 0) {\n      console.warn('Icono ' + index + ' contiene texto: \"' + element.textContent + '\"')\n      // Crear un elemento i con la clase material-icons\n      const iconText = element.textContent\n      element.innerHTML = '<i class=\"material-icons\">' + iconText + '</i>'\n    }\n  })\n}\n\n// Función para verificar si un icono específico está disponible\nexport function checkIconAvailability(iconName) {\n  const testElement = document.createElement('i')\n  testElement.className = 'material-icons'\n  testElement.textContent = iconName\n  testElement.style.position = 'absolute'\n  testElement.style.left = '-9999px'\n  \n  document.body.appendChild(testElement)\n  \n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const rect = testElement.getBoundingClientRect()\n      const isAvailable = rect.width > 0 && rect.height > 0\n      document.body.removeChild(testElement)\n      resolve(isAvailable)\n    }, 100)\n  })\n}\n\n// Función para obtener información de debug\nexport function getIconDebugInfo() {\n  return {\n    fontsAPI: {\n      available: !!document.fonts,\n      size: document.fonts ? document.fonts.size : 'N/A',\n      materialIconsCheck: document.fonts ? document.fonts.check('1rem \"Material Icons\"') : 'N/A'\n    },\n    stylesheets: Array.from(document.styleSheets).map(sheet => {\n      try {\n        return {\n          href: sheet.href,\n          rules: sheet.cssRules ? sheet.cssRules.length : 'N/A'\n        }\n      } catch (e) {\n        return {\n          href: sheet.href,\n          error: 'CORS restriction'\n        }\n      }\n    }),\n    materialIconsLinks: Array.from(document.querySelectorAll('link[href*=\"material-icons\"], link[href*=\"Material+Icons\"]')).map(link => link.href)\n  }\n}\n\n// Función para corregir tamaños de iconos\nexport function fixIconSizes() {\n  console.log('🔧 Corrigiendo tamaños de iconos...')\n  \n  // No aplicamos tamaños fijos, dejamos que Quasar maneje los tamaños\n  const icons = document.querySelectorAll('.q-icon')\n  \n  icons.forEach(icon => {\n    // Solo nos aseguramos de que tengan la fuente correcta\n    if (!icon.style.fontFamily || !icon.style.fontFamily.includes('Material Icons')) {\n      icon.style.fontFamily = 'Material Icons, Material Icons Outlined, Material Icons Round, Material Icons Sharp, Material Icons Two Tone'\n    }\n    \n    // Removemos cualquier tamaño fijo que hayamos aplicado anteriormente\n    if (icon.style.fontSize && (icon.style.fontSize === '16px' || icon.style.fontSize === '14px' || icon.style.fontSize === '24px')) {\n      icon.style.removeProperty('font-size')\n    }\n    if (icon.style.width && (icon.style.width === '16px' || icon.style.width === '14px' || icon.style.width === '24px')) {\n      icon.style.removeProperty('width')\n    }\n    if (icon.style.height && (icon.style.height === '16px' || icon.style.height === '14px' || icon.style.height === '24px')) {\n      icon.style.removeProperty('height')\n    }\n  })\n  \n  console.log('✅ Tamaños corregidos para ' + icons.length + ' iconos')\n}\n\nexport function verifyIconSizes() {\n  const icons = document.querySelectorAll('.q-icon')\n  console.log('🔍 Verificando tamaños de iconos:')\n  \n  icons.forEach((icon, index) => {\n    const computedStyle = window.getComputedStyle(icon)\n    console.log('Icono ' + (index + 1) + ':', {\n      fontSize: computedStyle.fontSize,\n      width: computedStyle.width,\n      height: computedStyle.height,\n      fontFamily: computedStyle.fontFamily,\n      classes: icon.className\n    })\n  })\n}\n\nexport function resetIconSizes() {\n  console.log('🔄 Reseteando tamaños de iconos a valores por defecto de Quasar...')\n  \n  const icons = document.querySelectorAll('.q-icon')\n  \n  icons.forEach(icon => {\n    // Removemos estilos inline que puedan estar interfiriendo\n    icon.style.removeProperty('font-size')\n    icon.style.removeProperty('width') \n    icon.style.removeProperty('height')\n    \n    // Mantenemos solo la fuente\n    icon.style.fontFamily = 'Material Icons, Material Icons Outlined, Material Icons Round, Material Icons Sharp, Material Icons Two Tone'\n  })\n  \n  console.log('✅ Tamaños reseteados para ' + icons.length + ' iconos')\n}\n","import axios from 'axios'\nimport { useToast } from 'vue-toastification'\nimport backendDetector from './backendDetector'\nimport { createProductionBackendDetector, getAPIBaseURL } from './productionDetector'\n\n// Configuración inicial de Axios (se actualizará dinámicamente)\nlet api = axios.create({\n  baseURL: '', // Iniciar vacío, se configurará automáticamente\n  timeout: 15000, // Aumentar timeout para detección\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\n// Función para inicializar la API con auto-detección\nlet isInitialized = false\nlet initializationPromise = null\n\nconst initializeAPI = async () => {\n  if (isInitialized) return api\n  if (initializationPromise) return initializationPromise\n\n  initializationPromise = (async () => {\n    try {\n      console.log('🚀 Inicializando API con detección mejorada...')\n      \n      // NUEVO: Primero verificar si estamos en producción (servido desde backend)\n      const productionConfig = createProductionBackendDetector()\n      \n      if (productionConfig) {\n        console.log('🎯 Modo producción detectado, usando mismo origen')\n        api.defaults.baseURL = `${productionConfig.baseUrl}/api`\n        \n        // Verificar conectividad\n        console.log('🧪 Probando conectividad en modo producción...')\n        await api.get('/health', { timeout: 5000 })\n        \n        isInitialized = true\n        console.log(`✅ API inicializada en modo producción: ${productionConfig.baseUrl}`)\n        return api\n      }\n      \n      // Modo desarrollo: usar detección automática original\n      console.log('🔧 Modo desarrollo detectado, usando auto-detección...')\n      \n      // Intentar usar caché primero\n      const cached = backendDetector.getCachedBackend()\n      if (cached) {\n        console.log(`📦 Usando backend desde caché: ${cached.baseUrl}`)\n        api.defaults.baseURL = `${cached.baseUrl}/api`\n        \n        // Verificar que el backend cached siga funcionando\n        try {\n          const isWorking = await backendDetector.testPort(cached.port)\n          if (isWorking) {\n            isInitialized = true\n            console.log('✅ API inicializada correctamente con backend desde caché')\n            return api\n          } else {\n            console.log('❌ Backend cached no responde, detectando nuevamente...')\n            backendDetector.clearCache()\n          }\n        } catch (error) {\n          console.log('❌ Error probando backend cached:', error.message)\n          backendDetector.clearCache()\n        }\n      }\n      \n      // Detectar backend automáticamente\n      console.log('🔍 Detectando backend automáticamente...')\n      const { baseUrl } = await backendDetector.detectBackend()\n      api.defaults.baseURL = `${baseUrl}/api`\n      \n      // Hacer una prueba rápida de conectividad\n      console.log('🧪 Probando conectividad con el backend...')\n      await api.get('/health', { timeout: 5000 })\n      \n      isInitialized = true\n      console.log(`✅ API inicializada correctamente con backend: ${baseUrl}`)\n      \n      // Iniciar health check\n      backendDetector.startHealthCheck(() => {\n        console.log('⚠️ Conexión con backend perdida, reintentando...')\n        isInitialized = false\n        initializationPromise = null\n      })\n      \n      return api\n    } catch (error) {\n      console.error('❌ Error inicializando API:', error)\n      // Fallback: intentar con localhost en puerto 8000\n      console.log('🔄 Intentando fallback con localhost:8000...')\n      api.defaults.baseURL = 'http://127.0.0.1:8000/api'\n      \n      try {\n        await api.get('/health', { timeout: 3000 })\n        console.log('✅ API inicializada con fallback localhost:8000')\n        isInitialized = true\n        return api\n      } catch (fallbackError) {\n        console.error('❌ Fallback también falló:', fallbackError)\n        throw new Error('No se pudo conectar con el backend. Verifica que el servidor esté ejecutándose.')\n      }\n    }\n  })()\n\n  return initializationPromise\n}\n\n// Función helper para asegurar que la API esté inicializada\nconst ensureAPIInitialized = async () => {\n  if (!isInitialized) {\n    await initializeAPI()\n  }\n  return api\n}\n\n// Interceptor de request para añadir token\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('signance_token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    return Promise.reject(error)\n  }\n)\n\n// Interceptor de response para manejar errores\napi.interceptors.response.use(\n  (response) => {\n    return response\n  },\n  (error) => {\n    const toast = useToast()\n    \n    if (error.response) {\n      // El servidor respondió con un código de error\n      const status = error.response.status\n      const message = error.response.data?.detail || 'Error del servidor'\n      \n      switch (status) {\n        case 401:\n          // Token inválido o expirado\n          localStorage.removeItem('signance_token')\n          toast.error('Sesión expirada. Por favor inicia sesión nuevamente.')\n          window.location.href = '/login'\n          break\n        case 403:\n          toast.error('No tienes permisos para realizar esta acción')\n          break\n        case 404:\n          toast.error('Recurso no encontrado')\n          break\n        case 500:\n          toast.error('Error interno del servidor')\n          break\n        default:\n          toast.error(message)\n      }\n    } else if (error.request) {\n      // No se recibió respuesta del servidor\n      toast.error('No se puede conectar con el servidor')\n    } else {\n      // Error en la configuración de la request\n      toast.error('Error en la solicitud')\n    }\n    \n    return Promise.reject(error)\n  }\n)\n\n// Wrapper para métodos HTTP que asegura la inicialización\nconst createAPIMethod = (method) => {\n  return async (...args) => {\n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance[method](...args)\n  }\n}\n\n// Crear métodos HTTP wrappeados\nconst httpMethods = {\n  get: createAPIMethod('get'),\n  post: createAPIMethod('post'),\n  put: createAPIMethod('put'),\n  delete: createAPIMethod('delete'),\n  patch: createAPIMethod('patch')\n}\n\n// Funciones de API específicas del sistema\nexport const authAPI = {\n  // Verificar estado de configuración inicial\n  checkSetup: () => httpMethods.get('/auth/check-setup'),\n  \n  // Configurar usuario administrador inicial\n  setupAdmin: (userData) => httpMethods.post('/auth/setup-admin', userData),\n  \n  // Iniciar sesión\n  login: async (credentials) => {\n    const formData = new FormData()\n    formData.append('username', credentials.username)\n    formData.append('password', credentials.password)\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.post('/auth/login', formData, {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n  },\n  \n  // Cerrar sesión\n  logout: () => httpMethods.post('/auth/logout'),\n  \n  // Obtener información del usuario actual\n  getCurrentUser: () => httpMethods.get('/auth/me'),\n  \n  // Verificar ruta protegida (para testing)\n  testProtected: () => httpMethods.get('/auth/protected')\n}\n\nexport const mediaAPI = {\n  // Listar archivos multimedia\n  list: (skip = 0, limit = 100) => httpMethods.get(`/media/?skip=${skip}&limit=${limit}`),\n  \n  // Obtener archivo específico\n  get: (mediaId) => httpMethods.get(`/media/${mediaId}`),\n  \n  // Subir nuevo archivo multimedia\n  upload: async (fileData) => {\n    const formData = new FormData()\n    formData.append('file', fileData.file)\n    formData.append('filename', fileData.filename)\n    formData.append('media_type', fileData.media_type)\n    formData.append('duration', fileData.duration)\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.post('/media/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  \n  // Actualizar archivo multimedia\n  update: (mediaId, updateData) => httpMethods.put(`/media/${mediaId}`, updateData),\n  \n  // Eliminar archivo multimedia\n  delete: (mediaId) => httpMethods.delete(`/media/${mediaId}`),\n  \n  // Nueva función: obtener playlists de un medio\n  getPlaylists: (mediaId) => httpMethods.get(`/media/${mediaId}/playlists`)\n}\n\nexport const businessAPI = {\n  // Obtener información del negocio\n  get: () => httpMethods.get('/business/'),\n\n  // Verificar si requiere configuración\n  checkSetup: () => httpMethods.get('/business/check-setup'),\n  \n  // Crear información del negocio\n  create: async (businessData) => {\n    const formData = new FormData()\n    formData.append('name', businessData.name)\n    if (businessData.logo) {\n      formData.append('logo', businessData.logo)\n    }\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.post('/business/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  \n  // Actualizar información del negocio\n  update: async (businessData) => {\n    const formData = new FormData()\n    if (businessData.name) {\n      formData.append('name', businessData.name)\n    }\n    if (businessData.logo) {\n      formData.append('logo', businessData.logo)\n    }\n    \n    const apiInstance = await ensureAPIInitialized()\n    return apiInstance.put('/business/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    })\n  },\n  \n  // Obtener logo del negocio\n  getLogo: () => httpMethods.get('/business/logo'),\n  \n  // Eliminar información del negocio\n  delete: () => httpMethods.delete('/business/')\n}\n\nexport const scheduleAPI = {\n  // Listar todas las programaciones\n  list: (skip = 0, limit = 100) => httpMethods.get(`/schedules/?skip=${skip}&limit=${limit}`),\n  \n  // Obtener programación específica\n  get: (scheduleId) => httpMethods.get(`/schedules/${scheduleId}`),\n  \n  // Obtener programaciones de un medio específico\n  getByMedia: (mediaId) => httpMethods.get(`/schedules/media/${mediaId}`),\n  \n  // Obtener programaciones activas\n  getActive: (scheduleType = null) => {\n    const url = scheduleType ? `/schedules/schedules/active?schedule_type=${scheduleType}` : '/schedules/schedules/active'\n    return httpMethods.get(url)\n  },\n  \n  // Crear nueva programación\n  create: (scheduleData) => httpMethods.post('/schedules/', scheduleData),\n  \n  // Actualizar programación\n  update: (scheduleId, updateData) => httpMethods.put(`/schedules/${scheduleId}`, updateData),\n  \n  // Eliminar programación\n  delete: (scheduleId) => httpMethods.delete(`/schedules/${scheduleId}`)\n}\n\nexport const playlistAPI = {\n  // Listar todas las playlists\n  list: (skip = 0, limit = 100) => httpMethods.get(`/playlists/?skip=${skip}&limit=${limit}`),\n  \n  // Obtener playlist específica\n  get: (playlistId) => httpMethods.get(`/playlists/${playlistId}`),\n  \n  // Obtener estadísticas de playlists\n  getStats: () => httpMethods.get('/playlists/stats'),\n  \n  // Crear nueva playlist\n  create: (playlistData) => httpMethods.post('/playlists/', playlistData),\n  \n  // Actualizar playlist\n  update: (playlistId, updateData) => httpMethods.put(`/playlists/${playlistId}`, updateData),\n  \n  // Eliminar playlist\n  delete: (playlistId) => httpMethods.delete(`/playlists/${playlistId}`),\n  \n  // Agregar medios a playlist (múltiples)\n  addMedia: (playlistId, mediaIds) => httpMethods.post(`/playlists/${playlistId}/media`, { media_ids: mediaIds }),\n  \n  // Agregar un solo medio a playlist\n  addSingleMedia: (playlistId, mediaData) => httpMethods.post(`/playlists/${playlistId}/media`, mediaData),\n  \n  // Quitar medio de playlist\n  removeMedia: (playlistId, mediaId) => httpMethods.delete(`/playlists/${playlistId}/media/${mediaId}`),\n  \n  // Actualizar medio en playlist (duración, orden, etc.)\n  updateMedia: (playlistId, mediaId, updateData) => httpMethods.put(`/playlists/${playlistId}/media/${mediaId}`, updateData),\n  \n  // Reordenar medios en playlist\n  reorder: (playlistId, mediaOrders) => httpMethods.put(`/playlists/${playlistId}/reorder`, { media_orders: mediaOrders }),\n  \n  // Obtener medios de una playlist\n  getMedia: (playlistId) => httpMethods.get(`/playlists/${playlistId}`)\n}\n\n// Función utilitaria para manejar errores de archivo\nexport const handleFileError = (error, toast) => {\n  if (error.response?.status === 413) {\n    toast.error('El archivo es demasiado grande')\n  } else if (error.response?.status === 415) {\n    toast.error('Tipo de archivo no soportado')\n  } else {\n    toast.error('Error al procesar el archivo')\n  }\n}\n\n// Exportar funciones de inicialización\nexport { initializeAPI, ensureAPIInitialized }\n\n// Exportar la instancia de API y el detector\nexport { backendDetector }\nexport default httpMethods\n\n","// Composable para manejar URLs de media de manera reactiva\nimport { ref, watch } from 'vue'\nimport backendDetector from '../services/backendDetector'\n\nexport function useMediaUrl() {\n  const backendBaseUrl = ref('')\n  \n  // Detectar backend una vez\n  const detectBackend = async () => {\n    try {\n      const { baseUrl } = await backendDetector.detectBackend()\n      backendBaseUrl.value = baseUrl\n    } catch (error) {\n      console.error('Error detectando backend:', error)\n      backendBaseUrl.value = 'http://127.0.0.1:8000' // Fallback\n    }\n  }\n  \n  // Función para construir URL de media\n  const buildMediaUrl = (media) => {\n    if (!media || !backendBaseUrl.value) return ''\n    \n    // Obtener filepath del media\n    let filepath = media.filepath || media.file_path || ''\n    \n    // Si no hay filepath, intentar construir uno basado en el ID o filename\n    if (!filepath) {\n      if (media.id) {\n        filepath = `/uploads/${media.id}`\n      } else {\n        console.error('No se puede construir filepath sin ID')\n        return ''\n      }\n    }\n    \n    // Normalizar el path\n    if (filepath && !filepath.startsWith('/')) {\n      filepath = '/' + filepath\n    }\n    \n    // Si no incluye /uploads/, agregarlo\n    if (filepath && !filepath.includes('/uploads/')) {\n      if (filepath.startsWith('/')) {\n        filepath = filepath.substring(1)\n      }\n      filepath = `/uploads/${filepath}`\n    }\n    \n    return `${backendBaseUrl.value}${filepath}`\n  }\n  \n  // Inicializar detección al usar el composable\n  detectBackend()\n  \n  return {\n    backendBaseUrl,\n    buildMediaUrl,\n    detectBackend\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"289\":\"3e9580c5\",\"403\":\"08a85daf\",\"650\":\"645265dc\",\"935\":\"98ac9301\",\"941\":\"ea9f767e\",\"990\":\"39d39084\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"289\":\"2facc57a\",\"403\":\"3a0e73e2\",\"650\":\"e20c89da\",\"935\":\"e475adb7\",\"941\":\"b79bc63a\",\"990\":\"ac9bc180\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"signance-frontend:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"289\":1,\"403\":1,\"650\":1,\"935\":1,\"941\":1,\"990\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksignance_frontend\"] = self[\"webpackChunksignance_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(137); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","name","mounted","console","log","this","checkBackendConnection","initializeIconFixes","methods","backendInfo","backendDetector","detectBackend","baseUrl","error","$q","notify","type","message","caption","checkMaterialIconsAvailability","applyIconCSS","applyIconSizeCorrections","setTimeout","verifyIconsAfterLoad","document","fonts","materialIconsLoaded","check","forceLoadMaterialIcons","existingLink","querySelector","link","createElement","rel","href","onload","head","appendChild","css","style","textContent","sizeCSS","sizeStyle","iconElements","querySelectorAll","length","forEach","element","index","computedStyle","window","getComputedStyle","fontFamily","includes","warn","__exports__","render","class","handleLogin","credentials","username","label","outlined","dense","rules","val","ref","prepend","password","size","unelevated","loading","isLoading","disable","flat","testBackendConnection","showSetupDialog","persistent","color","handleSetupAdmin","setupData","align","isSetupLoading","components","ThemeToggle","setup","router","toast","loadTheme","useTheme","checkSetupStatus","async","response","checkSetup","data","setup_required","value","info","setupAdmin","success","warning","login","access_token","localStorage","setItem","push","status","show","fetch","ok","json","hide","checkExistingAuth","token","getItem","userInfo","systemTests","test","key","description","round","icon","runTest","goToDashboard","goToMediaManager","goToConfig","goToErrorPage","logout","outline","rounded","backendStatus","connected","url","Date","toLocaleString","tokenInfo","isDarkMode","lastCheck","port","substring","testProtected","list","get","result","runAllTests","Promise","resolve","fetchUserInfo","getCurrentUser","checkBackendStatus","cached","getCachedBackend","isWorking","testPort","detection","removeItem","errorCode","errorMessage","currentUrl","diagnosticChecks","details","runDiagnostic","checking","testConnection","goToLogin","reloadPage","reportError","goToHome","goToTestPage","technicalInfo","route","query","code","location","navigator","onLine","JSON","stringify","userAgent","timestamp","toISOString","hasToken","tokenLength","path","params","runAllDiagnostics","reload","goPlayer","goAdmin","stats","businessInfo","playlists","showCreatePlaylistDialog","editPlaylist","managePlaylistMedia","schedulePlaylist","deletePlaylist","onMediaUploaded","onMediaUploadError","mediaFiles","backendBaseUrl","mediaLoading","mode","title","subtitle","loadMedia","editMedia","deleteMedia","navigateToMediaManager","playlistDialog","playlist","editingPlaylist","form","playlistForm","savingPlaylist","savePlaylist","closePlaylistDialog","editMediaDialog","media","editingMedia","editMediaForm","savingMedia","saveMediaChanges","closeEditMediaDialog","scheduleDialog","scheduleForm","savingSchedule","weekdayOptions","saveSchedule","closeScheduleDialog","playlistMediaDialog","selectedPlaylist","bordered","availableMedia","clickable","addMediaToPlaylist","avatar","getMediaIcon","media_type","file_type","filename","side","playlistMedias","reorderPlaylistMedia","item","removeMediaFromPlaylist","closePlaylistMediaDialog","totalMedia","totalPlaylists","totalScheduledItems","formatDate","dateString","toLocaleDateString","year","month","day","$emit","media_count","created_at","$router","navigateToMedia","navigateToAssistance","modelValue","$event","isDark","rows","contentName","usePlaylists","loadPlaylists","loadStats","playlistStatsResponse","mediaResponse","all","getStats","total_playlists","total_scheduled_items","createPlaylist","payload","create","updatePlaylist","update","removePlaylist","delete","useMedia","removeMedia","useSchedules","schedules","loadSchedules","createSchedule","MediaUploader","StatisticsCard","PlaylistManagement","MediaGallery","QuickActions","PlaylistDialog","EditMediaDialog","ScheduleDialog","draggable","useMediaUrl","logo","refreshData","loadBusinessInfo","Object","assign","playlistId","mediaId","playlistResponse","headers","playlistData","medias","mediaInPlaylist","Set","map","m","filter","has","method","body","media_id","Error","order_index","mediaToRemove","find","mediaOrder","media_order","fileType","toLowerCase","dark","set","routes","component","SelectionView","meta","requiresAuth","LoginView","ConfigView","Ok_TestView","Error_View","PlayerView","AdminView","role","history","beforeEach","to","from","next","isAuthenticated","matched","some","record","redirect","fullPath","app","App","applyIconSizeFixes","use","plugins","Notify","Dialog","Loading","QCard","QCardSection","QCardActions","QBtn","QInput","QForm","QPage","QPageContainer","QLayout","QHeader","QToolbar","QToolbarTitle","QDrawer","QList","QItem","QItemSection","QItemLabel","QSeparator","QIcon","QSpinner","QLinearProgress","QFile","QUploader","QTable","QTh","QTr","QTd","QSelect","QDate","QTime","QToggle","QDialog","QExpansionItem","QTooltip","QBanner","QBtnToggle","QSkeleton","lang","iconSet","config","position","timeout","toastOptions","closeOnClick","pauseOnFocusLoss","pauseOnHover","draggablePercent","showCloseButtonOnHover","hideProgressBar","closeButton","rtl","catch","mount","NETWORK_CONFIG","BACKEND_PREFERRED_PORT","PORT_RANGE","start","end","HEALTH_ENDPOINT","CONNECTION_TIMEOUT","generateCandidateIPs","currentHost","hostname","ips","ipParts","split","every","part","isNaN","baseNetwork","commonServerIPs","ip","commonNetworks","network","startsWith","uniqueIPs","BackendDetector","constructor","detectedPort","detectedBaseUrl","portRange","testEndpoint","preferredPort","connectionTimeout","getCurrentHost","getCandidateHosts","host","URL","testSpecificHostPort","candidateHosts","saveToLocalStorage","join","controller","AbortController","timeoutId","abort","signal","clearTimeout","module","cachedHost","clearCache","parseInt","startHealthCheck","onConnectionLost","healthCheckInterval","clearInterval","setInterval","isOnline","stopHealthCheck","toString","props","mediaUrl","fileUrl","file_url","served_filename","isImage","isVideo","getFileIcon","ext","pop","formatFileSize","bytes","sizes","i","Math","floor","pow","formatDuration","seconds","minutes","remainingSeconds","padStart","date","handleImageError","event","img","target","container","closest","innerHTML","handleVideoError","video","compact","src","alt","muted","preload","duration","file_size","getFileType","charAt","toUpperCase","slice","hour","minute","searchQuery","viewMode","filteredMedia","filtered","sort","a","b","dateA","upload_date","dateB","displayedMedia","maxItems","placeholder","append","options","n","height","isUpdate","save","required","currentLogoPreview","clearCurrentLogo","onLogoSelected","accept","newLogoPreview","clearNewLogo","goToAdmin","initialLoading","currentBusiness","loadBusinessData","logoResponse","getLogo","file","validTypes","reader","FileReader","e","readAsDataURL","formData","err","isFullscreen","onMouseMoveFullscreen","currentMedia","currentMediaSrc","handleMediaError","onMediaLoaded","onMediaEnded","autoplay","getCurrentDuration","currentMediaIndex","playlistMedia","isPlaying","togglePlayPause","skipToNext","skipToPrevious","progress","formatTime","elapsedTime","showInfo","toggleInfo","toggleFullscreen","stopPlayback","showFullscreenControls","businessLogo","scheduleOverride","action","dismissScheduleNotification","selectPlaylist","formatTotalDuration","total_duration","goBack","fetchPlaylists","playerApi","axios","baseURL","isPlayerAPIInitialized","initializationPromise","initializePlayerAPI","productionConfig","defaults","fallbackError","ensurePlayerAPIInitialized","playerAPI","skip","limit","api","listPlaylists","getPlaylist","getPlaylistInfo","getMediaUrl","detected","filepath","WebSocketService","socket","listeners","Map","reconnectAttempts","maxReconnectAttempts","reconnectDelay","detectedBackendUrl","getWebSocketUrl","backendUrl","wsUrl","replace","connect","serverUrl","WebSocket","onopen","emit","onclose","reason","onerror","onmessage","parse","disconnect","close","clear","send","on","callback","off","callbacks","indexOf","splice","notifyUploadStart","fileData","requestPlaybackStatus","sendPlayerCommand","command","notifyScheduleChange","scheduleData","requestSystemStats","wsService","connectWebSocket","disconnectWebSocket","isWebSocketConnected","useWebSocket","isConnected","buildMediaUrl","videoPlayer","currentMediaUrl","playbackTimer","scheduleCheckTimer","progressTimer","mediaCreatedHandler","loadPlaylistMedia","playlistUpdatedHandler","playlist_id","oldLength","newLength","loadCurrentMedia","mins","secs","totalSeconds","hours","effective_duration","Array","isArray","count","playlist_name","items","then","startPlayback","scheduleMediaPlayback","startProgressTimer","startScheduleCheck","nextMedia","previousMedia","pausePlayback","resumePlayback","pause","play","ended","fullscreenControlsTimer","initializeFullscreenState","fullscreenElement","exitFullscreen","playerElement","requestFullscreen","documentElement","handleFullscreenChange","wasFullscreen","nowFullscreen","cursor","loadBusinessLogo","logoUrl","statusText","fetchError","addEventListener","removeEventListener","handleDragOver","handleDragLeave","handleDrop","triggerFileSelect","handleFileSelect","selectedFile","isUploading","previewUrl","metadata","getTypeColor","resetForm","uploadProgress","percent","thickness","mediaTypeOptions","hint","uploadFile","isFormValid","uploadedFileName","emits","fileInput","isDragOver","uploadSuccess","trim","click","files","File","processFile","createImagePreview","preventDefault","dataTransfer","mimeType","k","parseFloat","toFixed","progressInterval","random","upload","createProductionBackendDetector","currentOrigin","origin","isServedFromBackend","pathname","protocol","isProduction","toggleTheme","themeToggleClass","square","savedTheme","matchMedia","matches","setCSSVariables","root","setProperty","applyTheme","setAttribute","backgroundColor","classList","add","remove","removeAttribute","newValue","themeVars","primaryColor","primaryDark","primaryLight","secondaryColor","accentColor","errorColor","successColor","warningColor","infoColor","surfaceColor","cardColor","textPrimary","textSecondary","onPrimary","onSecondary","borderColor","gradientPrimary","gradientSecondary","gradientAccent","shadowSm","shadowMd","shadowLg","shadowXl","hoverColor","hoverPrimary","hoverSecondary","initializeMaterialIcons","loadGoogleFonts","applyCorrectiveCSS","verifyIconsLoaded","testElement","className","left","fontSize","rect","getBoundingClientRect","width","rendered","forceIconCorrection","removeChild","iconText","checkIconAvailability","iconName","isAvailable","getIconDebugInfo","fontsAPI","available","materialIconsCheck","stylesheets","styleSheets","sheet","cssRules","materialIconsLinks","isInitialized","initializeAPI","ensureAPIInitialized","interceptors","request","Authorization","reject","detail","createAPIMethod","args","apiInstance","httpMethods","post","put","patch","authAPI","userData","FormData","mediaAPI","updateData","getPlaylists","businessAPI","businessData","scheduleAPI","scheduleId","getByMedia","getActive","scheduleType","playlistAPI","addMedia","mediaIds","media_ids","addSingleMedia","mediaData","updateMedia","reorder","mediaOrders","media_orders","getMedia","handleFileError","file_path","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","r","getter","__esModule","d","definition","o","defineProperty","enumerable","f","chunkId","reduce","promises","u","miniCssF","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","onScriptComplete","prev","doneFns","parentNode","bind","Symbol","toStringTag","p","createStylesheet","fullhref","oldTag","linkTag","nonce","onLinkComplete","errorType","realHref","insertBefore","nextSibling","findStylesheet","existingLinkTags","tag","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}